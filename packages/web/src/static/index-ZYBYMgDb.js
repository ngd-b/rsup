import{m as Ze,o as f,c as _,a as y,u as i,g as xt,b as Ot,r as O,d as Tt,e as j,f as ve,n as $t,w as re,i as ee,h as x,j as Je,k as $e,l as It,p as E,q as d,s as Nt,t as te,v as Pt,x as W,y as Et,z as I,A as N,B as Qe,C,D as ne,E as P,F as Ye,T as he,G as k,H as fe,I as B,J as kt,K as zt,L as G,M as qe,N as Ie,O as Mt,P as q,Q as de}from"./index-sw9X6Y--.js";const jt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Dt=y("path",{fill:"currentColor",d:"M406.656 706.944L195.84 496.256a32 32 0 1 0-45.248 45.248l256 256l512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),Lt=[Dt];function Ft(e,t){return f(),_("svg",jt,[...Lt])}const Bt=Ze({name:"ep-check",render:Ft}),At={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Kt=y("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0"},null,-1),Vt=[Kt];function Rt(e,t){return f(),_("svg",At,[...Vt])}const Ht=Ze({name:"ep-loading",render:Rt});var Ne;const V=typeof window<"u",Ut=e=>typeof e=="string",Gt=()=>{};V&&((Ne=window==null?void 0:window.navigator)!=null&&Ne.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function _e(e){return typeof e=="function"?e():i(e)}function Wt(e){return e}function ye(e){return xt()?(Ot(e),!0):!1}function Zt(e,t=!0){j()?ve(e):t?e():$t(e)}function Jt(e,t,n={}){const{immediate:o=!0}=n,s=O(!1);let a=null;function r(){a&&(clearTimeout(a),a=null)}function l(){s.value=!1,r()}function c(...v){r(),s.value=!0,a=setTimeout(()=>{s.value=!1,a=null,e(...v)},_e(t))}return o&&(s.value=!0,V&&c()),ye(l),{isPending:Tt(s),start:c,stop:l}}function Xe(e){var t;const n=_e(e);return(t=n==null?void 0:n.$el)!=null?t:n}const et=V?window:void 0;function Qt(...e){let t,n,o,s;if(Ut(e[0])||Array.isArray(e[0])?([n,o,s]=e,t=et):[t,n,o,s]=e,!t)return Gt;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const a=[],r=()=>{a.forEach(p=>p()),a.length=0},l=(p,g,S,T)=>(p.addEventListener(g,S,T),()=>p.removeEventListener(g,S,T)),c=re(()=>[Xe(t),_e(s)],([p,g])=>{r(),p&&a.push(...n.flatMap(S=>o.map(T=>l(p,S,T,g))))},{immediate:!0,flush:"post"}),v=()=>{c(),r()};return ye(v),v}function Yt(e,t=!1){const n=O(),o=()=>n.value=!!e();return o(),Zt(o,t),n}const Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ee="__vueuse_ssr_handlers__";Pe[Ee]=Pe[Ee]||{};var ke=Object.getOwnPropertySymbols,qt=Object.prototype.hasOwnProperty,Xt=Object.prototype.propertyIsEnumerable,en=(e,t)=>{var n={};for(var o in e)qt.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&ke)for(var o of ke(e))t.indexOf(o)<0&&Xt.call(e,o)&&(n[o]=e[o]);return n};function tn(e,t,n={}){const o=n,{window:s=et}=o,a=en(o,["window"]);let r;const l=Yt(()=>s&&"ResizeObserver"in s),c=()=>{r&&(r.disconnect(),r=void 0)},v=re(()=>Xe(e),g=>{c(),l.value&&s&&g&&(r=new ResizeObserver(t),r.observe(g,a))},{immediate:!0,flush:"post"}),p=()=>{c(),v()};return ye(p),{isSupported:l,stop:p}}var ze;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(ze||(ze={}));var nn=Object.defineProperty,Me=Object.getOwnPropertySymbols,on=Object.prototype.hasOwnProperty,sn=Object.prototype.propertyIsEnumerable,je=(e,t,n)=>t in e?nn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rn=(e,t)=>{for(var n in t||(t={}))on.call(t,n)&&je(e,n,t[n]);if(Me)for(var n of Me(t))sn.call(t,n)&&je(e,n,t[n]);return e};const an={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};rn({linear:Wt},an);var ln=typeof global=="object"&&global&&global.Object===Object&&global,cn=typeof self=="object"&&self&&self.Object===Object&&self,be=ln||cn||Function("return this")(),A=be.Symbol,tt=Object.prototype,un=tt.hasOwnProperty,dn=tt.toString,U=A?A.toStringTag:void 0;function pn(e){var t=un.call(e,U),n=e[U];try{e[U]=void 0;var o=!0}catch{}var s=dn.call(e);return o&&(t?e[U]=n:delete e[U]),s}var fn=Object.prototype,mn=fn.toString;function gn(e){return mn.call(e)}var vn="[object Null]",hn="[object Undefined]",De=A?A.toStringTag:void 0;function nt(e){return e==null?e===void 0?hn:vn:De&&De in Object(e)?pn(e):gn(e)}function _n(e){return e!=null&&typeof e=="object"}var yn="[object Symbol]";function we(e){return typeof e=="symbol"||_n(e)&&nt(e)==yn}function bn(e,t){for(var n=-1,o=e==null?0:e.length,s=Array(o);++n<o;)s[n]=t(e[n],n,e);return s}var Ce=Array.isArray,wn=1/0,Le=A?A.prototype:void 0,Fe=Le?Le.toString:void 0;function ot(e){if(typeof e=="string")return e;if(Ce(e))return bn(e,ot)+"";if(we(e))return Fe?Fe.call(e):"";var t=e+"";return t=="0"&&1/e==-wn?"-0":t}function st(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Cn="[object AsyncFunction]",Sn="[object Function]",xn="[object GeneratorFunction]",On="[object Proxy]";function Tn(e){if(!st(e))return!1;var t=nt(e);return t==Sn||t==xn||t==Cn||t==On}var pe=be["__core-js_shared__"],Be=function(){var e=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function $n(e){return!!Be&&Be in e}var In=Function.prototype,Nn=In.toString;function Pn(e){if(e!=null){try{return Nn.call(e)}catch{}try{return e+""}catch{}}return""}var En=/[\\^$.*+?()[\]{}|]/g,kn=/^\[object .+?Constructor\]$/,zn=Function.prototype,Mn=Object.prototype,jn=zn.toString,Dn=Mn.hasOwnProperty,Ln=RegExp("^"+jn.call(Dn).replace(En,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Fn(e){if(!st(e)||$n(e))return!1;var t=Tn(e)?Ln:kn;return t.test(Pn(e))}function Bn(e,t){return e==null?void 0:e[t]}function rt(e,t){var n=Bn(e,t);return Fn(n)?n:void 0}function An(e,t){return e===t||e!==e&&t!==t}var Kn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vn=/^\w*$/;function Rn(e,t){if(Ce(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||we(e)?!0:Vn.test(e)||!Kn.test(e)||t!=null&&e in Object(t)}var Z=rt(Object,"create");function Hn(){this.__data__=Z?Z(null):{},this.size=0}function Un(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Gn="__lodash_hash_undefined__",Wn=Object.prototype,Zn=Wn.hasOwnProperty;function Jn(e){var t=this.__data__;if(Z){var n=t[e];return n===Gn?void 0:n}return Zn.call(t,e)?t[e]:void 0}var Qn=Object.prototype,Yn=Qn.hasOwnProperty;function qn(e){var t=this.__data__;return Z?t[e]!==void 0:Yn.call(t,e)}var Xn="__lodash_hash_undefined__";function eo(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Z&&t===void 0?Xn:t,this}function D(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}D.prototype.clear=Hn;D.prototype.delete=Un;D.prototype.get=Jn;D.prototype.has=qn;D.prototype.set=eo;function to(){this.__data__=[],this.size=0}function ae(e,t){for(var n=e.length;n--;)if(An(e[n][0],t))return n;return-1}var no=Array.prototype,oo=no.splice;function so(e){var t=this.__data__,n=ae(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():oo.call(t,n,1),--this.size,!0}function ro(e){var t=this.__data__,n=ae(t,e);return n<0?void 0:t[n][1]}function ao(e){return ae(this.__data__,e)>-1}function io(e,t){var n=this.__data__,o=ae(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}function R(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}R.prototype.clear=to;R.prototype.delete=so;R.prototype.get=ro;R.prototype.has=ao;R.prototype.set=io;var lo=rt(be,"Map");function co(){this.size=0,this.__data__={hash:new D,map:new(lo||R),string:new D}}function uo(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ie(e,t){var n=e.__data__;return uo(t)?n[typeof t=="string"?"string":"hash"]:n.map}function po(e){var t=ie(this,e).delete(e);return this.size-=t?1:0,t}function fo(e){return ie(this,e).get(e)}function mo(e){return ie(this,e).has(e)}function go(e,t){var n=ie(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}function L(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}L.prototype.clear=co;L.prototype.delete=po;L.prototype.get=fo;L.prototype.has=mo;L.prototype.set=go;var vo="Expected a function";function Se(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(vo);var n=function(){var o=arguments,s=t?t.apply(this,o):o[0],a=n.cache;if(a.has(s))return a.get(s);var r=e.apply(this,o);return n.cache=a.set(s,r)||a,r};return n.cache=new(Se.Cache||L),n}Se.Cache=L;var ho=500;function _o(e){var t=Se(e,function(o){return n.size===ho&&n.clear(),o}),n=t.cache;return t}var yo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bo=/\\(\\)?/g,wo=_o(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yo,function(n,o,s,a){t.push(s?a.replace(bo,"$1"):o||n)}),t});function Co(e){return e==null?"":ot(e)}function So(e,t){return Ce(e)?e:Rn(e,t)?[e]:wo(Co(e))}var xo=1/0;function Oo(e){if(typeof e=="string"||we(e))return e;var t=e+"";return t=="0"&&1/e==-xo?"-0":t}function To(e,t){t=So(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[Oo(t[n++])];return n&&n==o?e:void 0}function $o(e,t,n){var o=e==null?void 0:To(e,t);return o===void 0?n:o}function Io(e){for(var t=-1,n=e==null?0:e.length,o={};++t<n;){var s=e[t];o[s[0]]=s[1]}return o}const No=e=>e===void 0,J=e=>typeof e=="number",Po=e=>typeof Element>"u"?!1:e instanceof Element,Eo=e=>ee(e)?!Number.isNaN(Number(e)):!1,Ae=e=>Object.keys(e);function me(e,t="px"){if(!e)return"";if(J(e)||Eo(e))return`${e}${t}`;if(ee(e))return e}/*! Element Plus Icons Vue v2.3.1 */var ko=x({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,n)=>(f(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[y("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),at=ko,zo=x({name:"Close",__name:"close",setup(e){return(t,n)=>(f(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[y("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),ge=zo,Mo=x({name:"InfoFilled",__name:"info-filled",setup(e){return(t,n)=>(f(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[y("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),it=Mo,jo=x({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,n)=>(f(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[y("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),lt=jo,Do=x({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,n)=>(f(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[y("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),ct=Do;const ut="__epPropKey",M=e=>e,Lo=e=>Je(e)&&!!e[ut],dt=(e,t)=>{if(!Je(e)||Lo(e))return e;const{values:n,required:o,default:s,type:a,validator:r}=e,c={type:a,required:!!o,validator:n||r?v=>{let p=!1,g=[];if(n&&(g=Array.from(n),$e(e,"default")&&g.push(s),p||(p=g.includes(v))),r&&(p||(p=r(v))),!p&&g.length>0){const S=[...new Set(g)].map(T=>JSON.stringify(T)).join(", ");It(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${S}], got value ${JSON.stringify(v)}.`)}return p}:void 0,[ut]:!0};return $e(e,"default")&&(c.default=s),c},Q=e=>Io(Object.entries(e).map(([t,n])=>[t,dt(n,t)])),Fo=M([String,Object,Function]),Bo={Close:ge,SuccessFilled:lt,InfoFilled:it,WarningFilled:ct,CircleCloseFilled:at},Ke={success:lt,warning:ct,error:at,info:it},xe=(e,t)=>(e.install=n=>{for(const o of[e,...Object.values({})])n.component(o.name,o)},e),Ao=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),Ko={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},pt=["","default","small","large"],Vo=e=>e,Ve=({from:e,replacement:t,scope:n,version:o,ref:s,type:a="API"},r)=>{re(()=>i(r),l=>{},{immediate:!0})};var Ro={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const Ho=e=>(t,n)=>Uo(t,n,i(e)),Uo=(e,t,n)=>$o(n,e,e).replace(/\{(\w+)\}/g,(o,s)=>{var a;return`${(a=t==null?void 0:t[s])!=null?a:`{${s}}`}`}),Go=e=>{const t=d(()=>i(e).name),n=Nt(e)?e:O(e);return{lang:t,locale:n,t:Ho(e)}},ft=Symbol("localeContextKey"),Wo=e=>{const t=e||E(ft,O());return Go(d(()=>t.value||Ro))},X="el",Zo="is-",z=(e,t,n,o,s)=>{let a=`${e}-${t}`;return n&&(a+=`-${n}`),o&&(a+=`__${o}`),s&&(a+=`--${s}`),a},mt=Symbol("namespaceContextKey"),Jo=e=>{const t=e||(j()?E(mt,O(X)):O(X));return d(()=>i(t)||X)},le=(e,t)=>{const n=Jo(t);return{namespace:n,b:(u="")=>z(n.value,e,u,"",""),e:u=>u?z(n.value,e,"",u,""):"",m:u=>u?z(n.value,e,"","",u):"",be:(u,m)=>u&&m?z(n.value,e,u,m,""):"",em:(u,m)=>u&&m?z(n.value,e,"",u,m):"",bm:(u,m)=>u&&m?z(n.value,e,u,"",m):"",bem:(u,m,w)=>u&&m&&w?z(n.value,e,u,m,w):"",is:(u,...m)=>{const w=m.length>=1?m[0]:!0;return u&&w?`${Zo}${u}`:""},cssVar:u=>{const m={};for(const w in u)u[w]&&(m[`--${n.value}-${w}`]=u[w]);return m},cssVarName:u=>`--${n.value}-${u}`,cssVarBlock:u=>{const m={};for(const w in u)u[w]&&(m[`--${n.value}-${e}-${w}`]=u[w]);return m},cssVarBlockName:u=>`--${n.value}-${e}-${u}`}},Qo=e=>{const t=j();return d(()=>{var n,o;return(o=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:o[e]})},Re={current:0},He=O(0),gt=2e3,Ue=Symbol("elZIndexContextKey"),vt=Symbol("zIndexContextKey"),Yo=e=>{const t=j()?E(Ue,Re):Re,n=e||(j()?E(vt,void 0):void 0),o=d(()=>{const r=i(n);return J(r)?r:gt}),s=d(()=>o.value+He.value),a=()=>(t.current++,He.value=t.current,s.value);return!V&&E(Ue),{initialZIndex:o,currentZIndex:s,nextZIndex:a}};dt({type:String,values:pt,required:!1});const ht=Symbol("size"),qo=()=>{const e=E(ht,{});return d(()=>i(e.size)||"")},Xo=Symbol("emptyValuesContextKey");Q({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>te(e)?!e():!e}});const _t=Symbol(),oe=O();function yt(e,t=void 0){return j()?E(_t,oe):oe}function es(e,t){const n=yt(),o=le(e,d(()=>{var l;return((l=n.value)==null?void 0:l.namespace)||X})),s=Wo(d(()=>{var l;return(l=n.value)==null?void 0:l.locale})),a=Yo(d(()=>{var l;return((l=n.value)==null?void 0:l.zIndex)||gt})),r=d(()=>{var l;return i(t)||((l=n.value)==null?void 0:l.size)||""});return ts(d(()=>i(n)||{})),{ns:o,locale:s,zIndex:a,size:r}}const ts=(e,t,n=!1)=>{var o;const s=!!j(),a=s?yt():void 0,r=(o=void 0)!=null?o:s?Pt:void 0;if(!r)return;const l=d(()=>{const c=i(e);return a!=null&&a.value?ns(a.value,c):c});return r(_t,l),r(ft,d(()=>l.value.locale)),r(mt,d(()=>l.value.namespace)),r(vt,d(()=>l.value.zIndex)),r(ht,{size:d(()=>l.value.size||"")}),r(Xo,d(()=>({emptyValues:l.value.emptyValues,valueOnClear:l.value.valueOnClear}))),(n||!oe.value)&&(oe.value=l.value),l},ns=(e,t)=>{const n=[...new Set([...Ae(e),...Ae(t)])],o={};for(const s of n)o[s]=t[s]!==void 0?t[s]:e[s];return o},Ge={};var ce=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n};const os=Q({size:{type:M([Number,String])},color:{type:String}}),ss=x({name:"ElIcon",inheritAttrs:!1}),rs=x({...ss,props:os,setup(e){const t=e,n=le("icon"),o=d(()=>{const{size:s,color:a}=t;return!s&&!a?{}:{fontSize:No(s)?void 0:me(s),"--color":a}});return(s,a)=>(f(),_("i",Et({class:i(n).b(),style:i(o)},s.$attrs),[W(s.$slots,"default")],16))}});var as=ce(rs,[["__file","icon.vue"]]);const se=xe(as),is=Symbol("formContextKey"),ls=Symbol("formItemContextKey"),cs=(e,t={})=>{const n=O(void 0),o=t.prop?n:Qo("size"),s=t.global?n:qo(),a=t.form?{size:void 0}:E(is,void 0),r=t.formItem?{size:void 0}:E(ls,void 0);return d(()=>o.value||i(e)||(r==null?void 0:r.size)||(a==null?void 0:a.size)||s.value||"")},us=Q({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:M([String,Object,Array])},badgeStyle:{type:M([String,Object,Array])},offset:{type:M(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),ds=["textContent"],ps=x({name:"ElBadge"}),fs=x({...ps,props:us,setup(e,{expose:t}){const n=e,o=le("badge"),s=d(()=>n.isDot?"":J(n.value)&&J(n.max)?n.max<n.value?`${n.max}+`:n.value===0&&!n.showZero?"":`${n.value}`:`${n.value}`),a=d(()=>{var r,l,c,v,p,g;return[{backgroundColor:n.color,marginRight:me(-((l=(r=n.offset)==null?void 0:r[0])!=null?l:0)),marginTop:me((v=(c=n.offset)==null?void 0:c[1])!=null?v:0)},(p=n.dotStyle)!=null?p:{},(g=n.badgeStyle)!=null?g:{}]});return Ve({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},d(()=>!!n.dotStyle)),Ve({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},d(()=>!!n.dotClass)),t({content:s}),(r,l)=>(f(),_("div",{class:C(i(o).b())},[W(r.$slots,"default"),I(he,{name:`${i(o).namespace.value}-zoom-in-center`,persisted:""},{default:N(()=>[Qe(y("sup",{class:C([i(o).e("content"),i(o).em("content",r.type),i(o).is("fixed",!!r.$slots.default),i(o).is("dot",r.isDot),r.dotClass,r.badgeClass]),style:ne(i(a)),textContent:P(i(s))},null,14,ds),[[Ye,!r.hidden&&(i(s)||r.isDot)]])]),_:1},8,["name"])],2))}});var ms=ce(fs,[["__file","badge.vue"]]);const gs=xe(ms),vs=Q({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:pt},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),hs={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},_s=x({name:"ElTag"}),ys=x({..._s,props:vs,emits:hs,setup(e,{emit:t}){const n=e,o=cs(),s=le("tag"),a=d(()=>{const{type:c,hit:v,effect:p,closable:g,round:S}=n;return[s.b(),s.is("closable",g),s.m(c||"primary"),s.m(o.value),s.m(p),s.is("hit",v),s.is("round",S)]}),r=c=>{t("close",c)},l=c=>{t("click",c)};return(c,v)=>c.disableTransitions?(f(),_("span",{key:0,class:C(i(a)),style:ne({backgroundColor:c.color}),onClick:l},[y("span",{class:C(i(s).e("content"))},[W(c.$slots,"default")],2),c.closable?(f(),k(i(se),{key:0,class:C(i(s).e("close")),onClick:fe(r,["stop"])},{default:N(()=>[I(i(ge))]),_:1},8,["class","onClick"])):B("v-if",!0)],6)):(f(),k(he,{key:1,name:`${i(s).namespace.value}-zoom-in-center`,appear:""},{default:N(()=>[y("span",{class:C(i(a)),style:ne({backgroundColor:c.color}),onClick:l},[y("span",{class:C(i(s).e("content"))},[W(c.$slots,"default")],2),c.closable?(f(),k(i(se),{key:0,class:C(i(s).e("close")),onClick:fe(r,["stop"])},{default:N(()=>[I(i(ge))]),_:1},8,["class","onClick"])):B("v-if",!0)],6)]),_:3},8,["name"]))}});var bs=ce(ys,[["__file","tag.vue"]]);const ws=xe(bs),bt=["success","info","warning","error"],b=Vo({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:V?document.body:void 0}),Cs=Q({customClass:{type:String,default:b.customClass},center:{type:Boolean,default:b.center},dangerouslyUseHTMLString:{type:Boolean,default:b.dangerouslyUseHTMLString},duration:{type:Number,default:b.duration},icon:{type:Fo,default:b.icon},id:{type:String,default:b.id},message:{type:M([String,Object,Function]),default:b.message},onClose:{type:M(Function),default:b.onClose},showClose:{type:Boolean,default:b.showClose},type:{type:String,values:bt,default:b.type},plain:{type:Boolean,default:b.plain},offset:{type:Number,default:b.offset},zIndex:{type:Number,default:b.zIndex},grouping:{type:Boolean,default:b.grouping},repeatNum:{type:Number,default:b.repeatNum}}),Ss={destroy:()=>!0},$=kt([]),xs=e=>{const t=$.findIndex(s=>s.id===e),n=$[t];let o;return t>0&&(o=$[t-1]),{current:n,prev:o}},Os=e=>{const{prev:t}=xs(e);return t?t.vm.exposed.bottom.value:0},Ts=(e,t)=>$.findIndex(o=>o.id===e)>0?16:t,$s=["id"],Is=["innerHTML"],Ns=x({name:"ElMessage"}),Ps=x({...Ns,props:Cs,emits:Ss,setup(e,{expose:t}){const n=e,{Close:o}=Bo,{ns:s,zIndex:a}=es("message"),{currentZIndex:r,nextZIndex:l}=a,c=O(),v=O(!1),p=O(0);let g;const S=d(()=>n.type?n.type==="error"?"danger":n.type:"info"),T=d(()=>{const h=n.type;return{[s.bm("icon",h)]:h&&Ke[h]}}),F=d(()=>n.icon||Ke[n.type]||""),u=d(()=>Os(n.id)),m=d(()=>Ts(n.id,n.offset)+u.value),w=d(()=>p.value+m.value),Ct=d(()=>({top:`${m.value}px`,zIndex:r.value}));function ue(){n.duration!==0&&({stop:g}=Jt(()=>{Y()},n.duration))}function Oe(){g==null||g()}function Y(){v.value=!1}function St({code:h}){h===Ko.esc&&Y()}return ve(()=>{ue(),l(),v.value=!0}),re(()=>n.repeatNum,()=>{Oe(),ue()}),Qt(document,"keydown",St),tn(c,()=>{p.value=c.value.getBoundingClientRect().height}),t({visible:v,bottom:w,close:Y}),(h,Te)=>(f(),k(he,{name:i(s).b("fade"),onBeforeLeave:h.onClose,onAfterLeave:Te[0]||(Te[0]=Hs=>h.$emit("destroy")),persisted:""},{default:N(()=>[Qe(y("div",{id:h.id,ref_key:"messageRef",ref:c,class:C([i(s).b(),{[i(s).m(h.type)]:h.type},i(s).is("center",h.center),i(s).is("closable",h.showClose),i(s).is("plain",h.plain),h.customClass]),style:ne(i(Ct)),role:"alert",onMouseenter:Oe,onMouseleave:ue},[h.repeatNum>1?(f(),k(i(gs),{key:0,value:h.repeatNum,type:i(S),class:C(i(s).e("badge"))},null,8,["value","type","class"])):B("v-if",!0),i(F)?(f(),k(i(se),{key:1,class:C([i(s).e("icon"),i(T)])},{default:N(()=>[(f(),k(zt(i(F))))]),_:1},8,["class"])):B("v-if",!0),W(h.$slots,"default",{},()=>[h.dangerouslyUseHTMLString?(f(),_(G,{key:1},[B(" Caution here, message could've been compromised, never use user's input as message "),y("p",{class:C(i(s).e("content")),innerHTML:h.message},null,10,Is)],2112)):(f(),_("p",{key:0,class:C(i(s).e("content"))},P(h.message),3))]),h.showClose?(f(),k(i(se),{key:2,class:C(i(s).e("closeBtn")),onClick:fe(Y,["stop"])},{default:N(()=>[I(i(o))]),_:1},8,["class","onClick"])):B("v-if",!0)],46,$s),[[Ye,v.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Es=ce(Ps,[["__file","message.vue"]]);let ks=1;const wt=e=>{const t=!e||ee(e)||qe(e)||te(e)?{message:e}:e,n={...b,...t};if(!n.appendTo)n.appendTo=document.body;else if(ee(n.appendTo)){let o=document.querySelector(n.appendTo);Po(o)||(o=document.body),n.appendTo=o}return n},zs=e=>{const t=$.indexOf(e);if(t===-1)return;$.splice(t,1);const{handler:n}=e;n.close()},Ms=({appendTo:e,...t},n)=>{const o=`message_${ks++}`,s=t.onClose,a=document.createElement("div"),r={...t,id:o,onClose:()=>{s==null||s(),zs(p)},onDestroy:()=>{Ie(null,a)}},l=I(Es,r,te(r.message)||qe(r.message)?{default:te(r.message)?r.message:()=>r.message}:null);l.appContext=n||K._context,Ie(l,a),e.appendChild(a.firstElementChild);const c=l.component,p={id:o,vnode:l,vm:c,handler:{close:()=>{c.exposed.visible.value=!1}},props:l.component.props};return p},K=(e={},t)=>{if(!V)return{close:()=>{}};if(J(Ge.max)&&$.length>=Ge.max)return{close:()=>{}};const n=wt(e);if(n.grouping&&$.length){const s=$.find(({vnode:a})=>{var r;return((r=a.props)==null?void 0:r.message)===n.message});if(s)return s.props.repeatNum+=1,s.props.type=n.type,s.handler}const o=Ms(n,t);return $.push(o),o.handler};bt.forEach(e=>{K[e]=(t={},n)=>{const o=wt(t);return K({...o,type:e},n)}});function js(e){for(const t of $)(!e||e===t.props.type)&&t.handler.close()}K.closeAll=js;K._context=null;const We=Ao(K,"$message"),Ds=Mt("app",{state(){return{package:{}}},actions:{updatePakage(e){this.package=e}}});function H(e){this.socket=null,this.options={...e}}H.prototype.connect=function(e){if(!e)throw new Error("url is required");if(!window.WebSocket)throw new Error("WebSocket is not supported");this.socket=new WebSocket(e)};H.prototype.send=function(e){if(!this.socket)throw new Error("WebSocket is not connected");this.socket.send(e)};H.prototype.close=function(){if(!this.socket)throw new Error("WebSocket is not connected");this.socket.close()};H.prototype.on=function(e,t){if(!this.socket)throw new Error("WebSocket is not connected");this.socket[e]=t};H.prototype.off=function(e){if(!this.socket)throw new Error("WebSocket is not connected");this.socket[e]=null};const Ls={class:"home"},Fs={class:"header"},Bs={class:"version-list"},As={class:"flex gap-10 flex-items-center"},Ks={key:0,class:"is-loading flex-inline flex-justify-center"},Vs={key:1,class:"flex-inline flex-justify-center flex-items-center color-blue"},Rs={class:"mt-10 flex flex-wrap gap-10"},Gs={__name:"index",setup(e){const t=Ds(),n=d(()=>t.package),o=d(()=>n.value.dependencies||{}),s=d(()=>n.value.dev_dependencies||{}),a=new H;ve(()=>{a.connect(`ws://${window.location.host}/ws`),a.on("onmessage",r),a.on("onopen",()=>{We.success("连接成功!"),console.log("open")}),a.on("onerror",c=>{We.warning("连接失败，请检查服务是否启动!"),console.error(c)})});function r(c){c=JSON.parse(c.data),console.log(c),t.updatePakage(c)}function l(c){return Object.values(c)}return(c,v)=>{const p=ws,g=Ht,S=Bt;return f(),_("div",Ls,[y("div",Fs,[y("h2",null,[q(P(i(n).name)+" ",1),I(p,{type:"primary"},{default:N(()=>[q(P(i(n).version),1)]),_:1})]),y("p",null,P(i(n).description),1)]),y("div",Bs,[(f(!0),_(G,null,de([i(o),i(s)],(T,F)=>(f(),_(G,{key:F},[y("h3",null,P(F?"devDependencies":"dependencies"),1),(f(!0),_(G,null,de(l(T),u=>(f(),_("div",{class:"version-item mb-10",key:u.name},[y("div",As,[u.is_finish?(f(),_("i",Vs,[I(S)])):(f(),_("i",Ks,[I(g)])),y("span",null,P(u.name),1),I(p,{type:"primary"},{default:N(()=>[q(P(u.version),1)]),_:2},1024)]),y("div",Rs,[(f(!0),_(G,null,de(l(u.versions),m=>(f(),_("div",{key:m.version},[I(p,{type:"success"},{default:N(()=>[q(P(m.version),1)]),_:2},1024)]))),128))])]))),128))],64))),128))])])}}};export{Gs as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgtWllCWU1nRGIuanMiLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9AdnVldXNlL3NoYXJlZC9pbmRleC5tanMiLCIuLi9ub2RlX21vZHVsZXMvQHZ1ZXVzZS9jb3JlL2luZGV4Lm1qcyIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2ZyZWVHbG9iYWwuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19yb290LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fU3ltYm9sLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZ2V0UmF3VGFnLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fb2JqZWN0VG9TdHJpbmcuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19iYXNlR2V0VGFnLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9pc09iamVjdExpa2UuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzU3ltYm9sLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fYXJyYXlNYXAuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzQXJyYXkuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19iYXNlVG9TdHJpbmcuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzT2JqZWN0LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9pc0Z1bmN0aW9uLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fY29yZUpzRGF0YS5qcyIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2lzTWFza2VkLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fdG9Tb3VyY2UuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19iYXNlSXNOYXRpdmUuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19nZXRWYWx1ZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2dldE5hdGl2ZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvZXEuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19pc0tleS5qcyIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX25hdGl2ZUNyZWF0ZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2hhc2hDbGVhci5qcyIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2hhc2hEZWxldGUuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19oYXNoR2V0LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9faGFzaEhhcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2hhc2hTZXQuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19IYXNoLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fbGlzdENhY2hlQ2xlYXIuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19hc3NvY0luZGV4T2YuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19saXN0Q2FjaGVEZWxldGUuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19saXN0Q2FjaGVHZXQuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19saXN0Q2FjaGVIYXMuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19saXN0Q2FjaGVTZXQuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19MaXN0Q2FjaGUuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19NYXAuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19tYXBDYWNoZUNsZWFyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9faXNLZXlhYmxlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZ2V0TWFwRGF0YS5qcyIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX21hcENhY2hlRGVsZXRlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fbWFwQ2FjaGVHZXQuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19tYXBDYWNoZUhhcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX21hcENhY2hlU2V0LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fTWFwQ2FjaGUuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL21lbW9pemUuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19tZW1vaXplQ2FwcGVkLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fc3RyaW5nVG9QYXRoLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy90b1N0cmluZy5qcyIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Nhc3RQYXRoLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fdG9LZXkuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19iYXNlR2V0LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9nZXQuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2Zyb21QYWlycy5qcyIsIi4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvdXRpbHMvdHlwZXMubWpzIiwiLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy91dGlscy9vYmplY3RzLm1qcyIsIi4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvdXRpbHMvZG9tL3N0eWxlLm1qcyIsIi4uL25vZGVfbW9kdWxlcy9AZWxlbWVudC1wbHVzL2ljb25zLXZ1ZS9kaXN0L2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy91dGlscy92dWUvcHJvcHMvcnVudGltZS5tanMiLCIuLi9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL3V0aWxzL3Z1ZS9pY29uLm1qcyIsIi4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvdXRpbHMvdnVlL2luc3RhbGwubWpzIiwiLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb25zdGFudHMvYXJpYS5tanMiLCIuLi9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2NvbnN0YW50cy9zaXplLm1qcyIsIi4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvdXRpbHMvdHlwZXNjcmlwdC5tanMiLCIuLi9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2hvb2tzL3VzZS1kZXByZWNhdGVkL2luZGV4Lm1qcyIsIi4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvbG9jYWxlL2xhbmcvZW4ubWpzIiwiLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9ob29rcy91c2UtbG9jYWxlL2luZGV4Lm1qcyIsIi4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvaG9va3MvdXNlLW5hbWVzcGFjZS9pbmRleC5tanMiLCIuLi9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2hvb2tzL3VzZS1wcm9wL2luZGV4Lm1qcyIsIi4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvaG9va3MvdXNlLXotaW5kZXgvaW5kZXgubWpzIiwiLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9ob29rcy91c2Utc2l6ZS9pbmRleC5tanMiLCIuLi9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2hvb2tzL3VzZS1lbXB0eS12YWx1ZXMvaW5kZXgubWpzIiwiLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL2NvbmZpZy1wcm92aWRlci9zcmMvY29uc3RhbnRzLm1qcyIsIi4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy9jb25maWctcHJvdmlkZXIvc3JjL2hvb2tzL3VzZS1nbG9iYWwtY29uZmlnLm1qcyIsIi4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy9jb25maWctcHJvdmlkZXIvc3JjL2NvbmZpZy1wcm92aWRlci5tanMiLCIuLi9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL192aXJ0dWFsL3BsdWdpbi12dWVfZXhwb3J0LWhlbHBlci5tanMiLCIuLi9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2NvbXBvbmVudHMvaWNvbi9zcmMvaWNvbi5tanMiLCIuLi9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2NvbXBvbmVudHMvaWNvbi9zcmMvaWNvbjIubWpzIiwiLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL2ljb24vaW5kZXgubWpzIiwiLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL2Zvcm0vc3JjL2NvbnN0YW50cy5tanMiLCIuLi9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2NvbXBvbmVudHMvZm9ybS9zcmMvaG9va3MvdXNlLWZvcm0tY29tbW9uLXByb3BzLm1qcyIsIi4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy9iYWRnZS9zcmMvYmFkZ2UubWpzIiwiLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL2JhZGdlL3NyYy9iYWRnZTIubWpzIiwiLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL2JhZGdlL2luZGV4Lm1qcyIsIi4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy90YWcvc3JjL3RhZy5tanMiLCIuLi9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2NvbXBvbmVudHMvdGFnL3NyYy90YWcyLm1qcyIsIi4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy90YWcvaW5kZXgubWpzIiwiLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL21lc3NhZ2Uvc3JjL21lc3NhZ2UubWpzIiwiLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL21lc3NhZ2Uvc3JjL2luc3RhbmNlLm1qcyIsIi4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy9tZXNzYWdlL3NyYy9tZXNzYWdlMi5tanMiLCIuLi9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2NvbXBvbmVudHMvbWVzc2FnZS9zcmMvbWV0aG9kLm1qcyIsIi4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy9tZXNzYWdlL2luZGV4Lm1qcyIsIi4uL3NyYy9zdG9yZXMvaW5kZXguanMiLCIuLi9zcmMvc3RvcmVzL3NvY2tldC5qcyIsIi4uL3NyYy92aWV3cy9ob21lL2luZGV4LnZ1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzaGFsbG93UmVmLCB3YXRjaEVmZmVjdCwgcmVhZG9ubHksIHVucmVmLCByZWYsIGlzVnVlMywgdmVyc2lvbiwgd2F0Y2gsIGN1c3RvbVJlZiwgZ2V0Q3VycmVudFNjb3BlLCBvblNjb3BlRGlzcG9zZSwgZWZmZWN0U2NvcGUsIHByb3ZpZGUsIGluamVjdCwgaXNSZWYsIGNvbXB1dGVkLCByZWFjdGl2ZSwgdG9SZWZzIGFzIHRvUmVmcyQxLCB0b1JlZiwgaXNWdWUyLCBzZXQgYXMgc2V0JDEsIGdldEN1cnJlbnRJbnN0YW5jZSwgb25CZWZvcmVNb3VudCwgbmV4dFRpY2ssIG9uQmVmb3JlVW5tb3VudCwgb25Nb3VudGVkLCBvblVubW91bnRlZCwgaXNSZWFjdGl2ZSB9IGZyb20gJ3Z1ZS1kZW1pJztcblxudmFyIF9fZGVmUHJvcCQ5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmUHJvcHMkNiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzJDYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbnZhciBfX2dldE93blByb3BTeW1ib2xzJGIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCRiID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0kYiA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wJDkgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDkob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzJDkgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcCRiLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AkOShhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMkYilcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkYihiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bSRiLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcCQ5KGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMkNiA9IChhLCBiKSA9PiBfX2RlZlByb3BzJDYoYSwgX19nZXRPd25Qcm9wRGVzY3MkNihiKSk7XG5mdW5jdGlvbiBjb21wdXRlZEVhZ2VyKGZuLCBvcHRpb25zKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgcmVzdWx0ID0gc2hhbGxvd1JlZigpO1xuICB3YXRjaEVmZmVjdCgoKSA9PiB7XG4gICAgcmVzdWx0LnZhbHVlID0gZm4oKTtcbiAgfSwgX19zcHJlYWRQcm9wcyQ2KF9fc3ByZWFkVmFsdWVzJDkoe30sIG9wdGlvbnMpLCB7XG4gICAgZmx1c2g6IChfYSA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZmx1c2gpICE9IG51bGwgPyBfYSA6IFwic3luY1wiXG4gIH0pKTtcbiAgcmV0dXJuIHJlYWRvbmx5KHJlc3VsdCk7XG59XG5cbnZhciBfYTtcbmNvbnN0IGlzQ2xpZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcbmNvbnN0IGlzRGVmID0gKHZhbCkgPT4gdHlwZW9mIHZhbCAhPT0gXCJ1bmRlZmluZWRcIjtcbmNvbnN0IGFzc2VydCA9IChjb25kaXRpb24sIC4uLmluZm9zKSA9PiB7XG4gIGlmICghY29uZGl0aW9uKVxuICAgIGNvbnNvbGUud2FybiguLi5pbmZvcyk7XG59O1xuY29uc3QgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgaXNCb29sZWFuID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJib29sZWFuXCI7XG5jb25zdCBpc0Z1bmN0aW9uID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJmdW5jdGlvblwiO1xuY29uc3QgaXNOdW1iZXIgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiO1xuY29uc3QgaXNTdHJpbmcgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiO1xuY29uc3QgaXNPYmplY3QgPSAodmFsKSA9PiB0b1N0cmluZy5jYWxsKHZhbCkgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XG5jb25zdCBpc1dpbmRvdyA9ICh2YWwpID0+IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdG9TdHJpbmcuY2FsbCh2YWwpID09PSBcIltvYmplY3QgV2luZG93XVwiO1xuY29uc3Qgbm93ID0gKCkgPT4gRGF0ZS5ub3coKTtcbmNvbnN0IHRpbWVzdGFtcCA9ICgpID0+ICtEYXRlLm5vdygpO1xuY29uc3QgY2xhbXAgPSAobiwgbWluLCBtYXgpID0+IE1hdGgubWluKG1heCwgTWF0aC5tYXgobWluLCBuKSk7XG5jb25zdCBub29wID0gKCkgPT4ge1xufTtcbmNvbnN0IHJhbmQgPSAobWluLCBtYXgpID0+IHtcbiAgbWluID0gTWF0aC5jZWlsKG1pbik7XG4gIG1heCA9IE1hdGguZmxvb3IobWF4KTtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG59O1xuY29uc3QgaXNJT1MgPSBpc0NsaWVudCAmJiAoKF9hID0gd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cubmF2aWdhdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EudXNlckFnZW50KSAmJiAvaVAoYWR8aG9uZXxvZCkvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xuY29uc3QgaGFzT3duID0gKHZhbCwga2V5KSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmFsLCBrZXkpO1xuXG5mdW5jdGlvbiByZXNvbHZlVW5yZWYocikge1xuICByZXR1cm4gdHlwZW9mIHIgPT09IFwiZnVuY3Rpb25cIiA/IHIoKSA6IHVucmVmKHIpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGaWx0ZXJXcmFwcGVyKGZpbHRlciwgZm4pIHtcbiAgZnVuY3Rpb24gd3JhcHBlciguLi5hcmdzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIFByb21pc2UucmVzb2x2ZShmaWx0ZXIoKCkgPT4gZm4uYXBwbHkodGhpcywgYXJncyksIHsgZm4sIHRoaXNBcmc6IHRoaXMsIGFyZ3MgfSkpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gd3JhcHBlcjtcbn1cbmNvbnN0IGJ5cGFzc0ZpbHRlciA9IChpbnZva2UpID0+IHtcbiAgcmV0dXJuIGludm9rZSgpO1xufTtcbmZ1bmN0aW9uIGRlYm91bmNlRmlsdGVyKG1zLCBvcHRpb25zID0ge30pIHtcbiAgbGV0IHRpbWVyO1xuICBsZXQgbWF4VGltZXI7XG4gIGxldCBsYXN0UmVqZWN0b3IgPSBub29wO1xuICBjb25zdCBfY2xlYXJUaW1lb3V0ID0gKHRpbWVyMikgPT4ge1xuICAgIGNsZWFyVGltZW91dCh0aW1lcjIpO1xuICAgIGxhc3RSZWplY3RvcigpO1xuICAgIGxhc3RSZWplY3RvciA9IG5vb3A7XG4gIH07XG4gIGNvbnN0IGZpbHRlciA9IChpbnZva2UpID0+IHtcbiAgICBjb25zdCBkdXJhdGlvbiA9IHJlc29sdmVVbnJlZihtcyk7XG4gICAgY29uc3QgbWF4RHVyYXRpb24gPSByZXNvbHZlVW5yZWYob3B0aW9ucy5tYXhXYWl0KTtcbiAgICBpZiAodGltZXIpXG4gICAgICBfY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICBpZiAoZHVyYXRpb24gPD0gMCB8fCBtYXhEdXJhdGlvbiAhPT0gdm9pZCAwICYmIG1heER1cmF0aW9uIDw9IDApIHtcbiAgICAgIGlmIChtYXhUaW1lcikge1xuICAgICAgICBfY2xlYXJUaW1lb3V0KG1heFRpbWVyKTtcbiAgICAgICAgbWF4VGltZXIgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpbnZva2UoKSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsYXN0UmVqZWN0b3IgPSBvcHRpb25zLnJlamVjdE9uQ2FuY2VsID8gcmVqZWN0IDogcmVzb2x2ZTtcbiAgICAgIGlmIChtYXhEdXJhdGlvbiAmJiAhbWF4VGltZXIpIHtcbiAgICAgICAgbWF4VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAodGltZXIpXG4gICAgICAgICAgICBfY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICBtYXhUaW1lciA9IG51bGw7XG4gICAgICAgICAgcmVzb2x2ZShpbnZva2UoKSk7XG4gICAgICAgIH0sIG1heER1cmF0aW9uKTtcbiAgICAgIH1cbiAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChtYXhUaW1lcilcbiAgICAgICAgICBfY2xlYXJUaW1lb3V0KG1heFRpbWVyKTtcbiAgICAgICAgbWF4VGltZXIgPSBudWxsO1xuICAgICAgICByZXNvbHZlKGludm9rZSgpKTtcbiAgICAgIH0sIGR1cmF0aW9uKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIGZpbHRlcjtcbn1cbmZ1bmN0aW9uIHRocm90dGxlRmlsdGVyKG1zLCB0cmFpbGluZyA9IHRydWUsIGxlYWRpbmcgPSB0cnVlLCByZWplY3RPbkNhbmNlbCA9IGZhbHNlKSB7XG4gIGxldCBsYXN0RXhlYyA9IDA7XG4gIGxldCB0aW1lcjtcbiAgbGV0IGlzTGVhZGluZyA9IHRydWU7XG4gIGxldCBsYXN0UmVqZWN0b3IgPSBub29wO1xuICBsZXQgbGFzdFZhbHVlO1xuICBjb25zdCBjbGVhciA9ICgpID0+IHtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB0aW1lciA9IHZvaWQgMDtcbiAgICAgIGxhc3RSZWplY3RvcigpO1xuICAgICAgbGFzdFJlamVjdG9yID0gbm9vcDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGZpbHRlciA9IChfaW52b2tlKSA9PiB7XG4gICAgY29uc3QgZHVyYXRpb24gPSByZXNvbHZlVW5yZWYobXMpO1xuICAgIGNvbnN0IGVsYXBzZWQgPSBEYXRlLm5vdygpIC0gbGFzdEV4ZWM7XG4gICAgY29uc3QgaW52b2tlID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIGxhc3RWYWx1ZSA9IF9pbnZva2UoKTtcbiAgICB9O1xuICAgIGNsZWFyKCk7XG4gICAgaWYgKGR1cmF0aW9uIDw9IDApIHtcbiAgICAgIGxhc3RFeGVjID0gRGF0ZS5ub3coKTtcbiAgICAgIHJldHVybiBpbnZva2UoKTtcbiAgICB9XG4gICAgaWYgKGVsYXBzZWQgPiBkdXJhdGlvbiAmJiAobGVhZGluZyB8fCAhaXNMZWFkaW5nKSkge1xuICAgICAgbGFzdEV4ZWMgPSBEYXRlLm5vdygpO1xuICAgICAgaW52b2tlKCk7XG4gICAgfSBlbHNlIGlmICh0cmFpbGluZykge1xuICAgICAgbGFzdFZhbHVlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsYXN0UmVqZWN0b3IgPSByZWplY3RPbkNhbmNlbCA/IHJlamVjdCA6IHJlc29sdmU7XG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgbGFzdEV4ZWMgPSBEYXRlLm5vdygpO1xuICAgICAgICAgIGlzTGVhZGluZyA9IHRydWU7XG4gICAgICAgICAgcmVzb2x2ZShpbnZva2UoKSk7XG4gICAgICAgICAgY2xlYXIoKTtcbiAgICAgICAgfSwgTWF0aC5tYXgoMCwgZHVyYXRpb24gLSBlbGFwc2VkKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFsZWFkaW5nICYmICF0aW1lcilcbiAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBpc0xlYWRpbmcgPSB0cnVlLCBkdXJhdGlvbik7XG4gICAgaXNMZWFkaW5nID0gZmFsc2U7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZTtcbiAgfTtcbiAgcmV0dXJuIGZpbHRlcjtcbn1cbmZ1bmN0aW9uIHBhdXNhYmxlRmlsdGVyKGV4dGVuZEZpbHRlciA9IGJ5cGFzc0ZpbHRlcikge1xuICBjb25zdCBpc0FjdGl2ZSA9IHJlZih0cnVlKTtcbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgaXNBY3RpdmUudmFsdWUgPSBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgaXNBY3RpdmUudmFsdWUgPSB0cnVlO1xuICB9XG4gIGNvbnN0IGV2ZW50RmlsdGVyID0gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoaXNBY3RpdmUudmFsdWUpXG4gICAgICBleHRlbmRGaWx0ZXIoLi4uYXJncyk7XG4gIH07XG4gIHJldHVybiB7IGlzQWN0aXZlOiByZWFkb25seShpc0FjdGl2ZSksIHBhdXNlLCByZXN1bWUsIGV2ZW50RmlsdGVyIH07XG59XG5cbmZ1bmN0aW9uIF9fb25seVZ1ZTMobmFtZSA9IFwidGhpcyBmdW5jdGlvblwiKSB7XG4gIGlmIChpc1Z1ZTMpXG4gICAgcmV0dXJuO1xuICB0aHJvdyBuZXcgRXJyb3IoYFtWdWVVc2VdICR7bmFtZX0gaXMgb25seSB3b3JrcyBvbiBWdWUgMy5gKTtcbn1cbmZ1bmN0aW9uIF9fb25seVZ1ZTI3UGx1cyhuYW1lID0gXCJ0aGlzIGZ1bmN0aW9uXCIpIHtcbiAgaWYgKGlzVnVlMyB8fCB2ZXJzaW9uLnN0YXJ0c1dpdGgoXCIyLjcuXCIpKVxuICAgIHJldHVybjtcbiAgdGhyb3cgbmV3IEVycm9yKGBbVnVlVXNlXSAke25hbWV9IGlzIG9ubHkgd29ya3Mgb24gVnVlIDIuNyBvciBhYm92ZS5gKTtcbn1cbmNvbnN0IGRpcmVjdGl2ZUhvb2tzID0ge1xuICBtb3VudGVkOiBpc1Z1ZTMgPyBcIm1vdW50ZWRcIiA6IFwiaW5zZXJ0ZWRcIixcbiAgdXBkYXRlZDogaXNWdWUzID8gXCJ1cGRhdGVkXCIgOiBcImNvbXBvbmVudFVwZGF0ZWRcIixcbiAgdW5tb3VudGVkOiBpc1Z1ZTMgPyBcInVubW91bnRlZFwiIDogXCJ1bmJpbmRcIlxufTtcblxuZnVuY3Rpb24gcHJvbWlzZVRpbWVvdXQobXMsIHRocm93T25UaW1lb3V0ID0gZmFsc2UsIHJlYXNvbiA9IFwiVGltZW91dFwiKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKHRocm93T25UaW1lb3V0KVxuICAgICAgc2V0VGltZW91dCgoKSA9PiByZWplY3QocmVhc29uKSwgbXMpO1xuICAgIGVsc2VcbiAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGlkZW50aXR5KGFyZykge1xuICByZXR1cm4gYXJnO1xufVxuZnVuY3Rpb24gY3JlYXRlU2luZ2xldG9uUHJvbWlzZShmbikge1xuICBsZXQgX3Byb21pc2U7XG4gIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgaWYgKCFfcHJvbWlzZSlcbiAgICAgIF9wcm9taXNlID0gZm4oKTtcbiAgICByZXR1cm4gX3Byb21pc2U7XG4gIH1cbiAgd3JhcHBlci5yZXNldCA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBfcHJldiA9IF9wcm9taXNlO1xuICAgIF9wcm9taXNlID0gdm9pZCAwO1xuICAgIGlmIChfcHJldilcbiAgICAgIGF3YWl0IF9wcmV2O1xuICB9O1xuICByZXR1cm4gd3JhcHBlcjtcbn1cbmZ1bmN0aW9uIGludm9rZShmbikge1xuICByZXR1cm4gZm4oKTtcbn1cbmZ1bmN0aW9uIGNvbnRhaW5zUHJvcChvYmosIC4uLnByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5zb21lKChrKSA9PiBrIGluIG9iaik7XG59XG5mdW5jdGlvbiBpbmNyZWFzZVdpdGhVbml0KHRhcmdldCwgZGVsdGEpIHtcbiAgdmFyIF9hO1xuICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJudW1iZXJcIilcbiAgICByZXR1cm4gdGFyZ2V0ICsgZGVsdGE7XG4gIGNvbnN0IHZhbHVlID0gKChfYSA9IHRhcmdldC5tYXRjaCgvXi0/WzAtOV0rXFwuP1swLTldKi8pKSA9PSBudWxsID8gdm9pZCAwIDogX2FbMF0pIHx8IFwiXCI7XG4gIGNvbnN0IHVuaXQgPSB0YXJnZXQuc2xpY2UodmFsdWUubGVuZ3RoKTtcbiAgY29uc3QgcmVzdWx0ID0gcGFyc2VGbG9hdCh2YWx1ZSkgKyBkZWx0YTtcbiAgaWYgKE51bWJlci5pc05hTihyZXN1bHQpKVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIHJldHVybiByZXN1bHQgKyB1bml0O1xufVxuZnVuY3Rpb24gb2JqZWN0UGljayhvYmosIGtleXMsIG9taXRVbmRlZmluZWQgPSBmYWxzZSkge1xuICByZXR1cm4ga2V5cy5yZWR1Y2UoKG4sIGspID0+IHtcbiAgICBpZiAoayBpbiBvYmopIHtcbiAgICAgIGlmICghb21pdFVuZGVmaW5lZCB8fCBvYmpba10gIT09IHZvaWQgMClcbiAgICAgICAgbltrXSA9IG9ialtrXTtcbiAgICB9XG4gICAgcmV0dXJuIG47XG4gIH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZWRXaXRoQ29udHJvbChzb3VyY2UsIGZuKSB7XG4gIGxldCB2ID0gdm9pZCAwO1xuICBsZXQgdHJhY2s7XG4gIGxldCB0cmlnZ2VyO1xuICBjb25zdCBkaXJ0eSA9IHJlZih0cnVlKTtcbiAgY29uc3QgdXBkYXRlID0gKCkgPT4ge1xuICAgIGRpcnR5LnZhbHVlID0gdHJ1ZTtcbiAgICB0cmlnZ2VyKCk7XG4gIH07XG4gIHdhdGNoKHNvdXJjZSwgdXBkYXRlLCB7IGZsdXNoOiBcInN5bmNcIiB9KTtcbiAgY29uc3QgZ2V0ID0gaXNGdW5jdGlvbihmbikgPyBmbiA6IGZuLmdldDtcbiAgY29uc3Qgc2V0ID0gaXNGdW5jdGlvbihmbikgPyB2b2lkIDAgOiBmbi5zZXQ7XG4gIGNvbnN0IHJlc3VsdCA9IGN1c3RvbVJlZigoX3RyYWNrLCBfdHJpZ2dlcikgPT4ge1xuICAgIHRyYWNrID0gX3RyYWNrO1xuICAgIHRyaWdnZXIgPSBfdHJpZ2dlcjtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0KCkge1xuICAgICAgICBpZiAoZGlydHkudmFsdWUpIHtcbiAgICAgICAgICB2ID0gZ2V0KCk7XG4gICAgICAgICAgZGlydHkudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0cmFjaygpO1xuICAgICAgICByZXR1cm4gdjtcbiAgICAgIH0sXG4gICAgICBzZXQodjIpIHtcbiAgICAgICAgc2V0ID09IG51bGwgPyB2b2lkIDAgOiBzZXQodjIpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICBpZiAoT2JqZWN0LmlzRXh0ZW5zaWJsZShyZXN1bHQpKVxuICAgIHJlc3VsdC50cmlnZ2VyID0gdXBkYXRlO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiB0cnlPblNjb3BlRGlzcG9zZShmbikge1xuICBpZiAoZ2V0Q3VycmVudFNjb3BlKCkpIHtcbiAgICBvblNjb3BlRGlzcG9zZShmbik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVFdmVudEhvb2soKSB7XG4gIGNvbnN0IGZucyA9IFtdO1xuICBjb25zdCBvZmYgPSAoZm4pID0+IHtcbiAgICBjb25zdCBpbmRleCA9IGZucy5pbmRleE9mKGZuKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgZm5zLnNwbGljZShpbmRleCwgMSk7XG4gIH07XG4gIGNvbnN0IG9uID0gKGZuKSA9PiB7XG4gICAgZm5zLnB1c2goZm4pO1xuICAgIGNvbnN0IG9mZkZuID0gKCkgPT4gb2ZmKGZuKTtcbiAgICB0cnlPblNjb3BlRGlzcG9zZShvZmZGbik7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9mZjogb2ZmRm5cbiAgICB9O1xuICB9O1xuICBjb25zdCB0cmlnZ2VyID0gKHBhcmFtKSA9PiB7XG4gICAgZm5zLmZvckVhY2goKGZuKSA9PiBmbihwYXJhbSkpO1xuICB9O1xuICByZXR1cm4ge1xuICAgIG9uLFxuICAgIG9mZixcbiAgICB0cmlnZ2VyXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUdsb2JhbFN0YXRlKHN0YXRlRmFjdG9yeSkge1xuICBsZXQgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgbGV0IHN0YXRlO1xuICBjb25zdCBzY29wZSA9IGVmZmVjdFNjb3BlKHRydWUpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmICghaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHN0YXRlID0gc2NvcGUucnVuKHN0YXRlRmFjdG9yeSk7XG4gICAgICBpbml0aWFsaXplZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW5qZWN0aW9uU3RhdGUoY29tcG9zYWJsZSkge1xuICBjb25zdCBrZXkgPSBTeW1ib2woXCJJbmplY3Rpb25TdGF0ZVwiKTtcbiAgY29uc3QgdXNlUHJvdmlkaW5nU3RhdGUgPSAoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gY29tcG9zYWJsZSguLi5hcmdzKTtcbiAgICBwcm92aWRlKGtleSwgc3RhdGUpO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfTtcbiAgY29uc3QgdXNlSW5qZWN0ZWRTdGF0ZSA9ICgpID0+IGluamVjdChrZXkpO1xuICByZXR1cm4gW3VzZVByb3ZpZGluZ1N0YXRlLCB1c2VJbmplY3RlZFN0YXRlXTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2hhcmVkQ29tcG9zYWJsZShjb21wb3NhYmxlKSB7XG4gIGxldCBzdWJzY3JpYmVycyA9IDA7XG4gIGxldCBzdGF0ZTtcbiAgbGV0IHNjb3BlO1xuICBjb25zdCBkaXNwb3NlID0gKCkgPT4ge1xuICAgIHN1YnNjcmliZXJzIC09IDE7XG4gICAgaWYgKHNjb3BlICYmIHN1YnNjcmliZXJzIDw9IDApIHtcbiAgICAgIHNjb3BlLnN0b3AoKTtcbiAgICAgIHN0YXRlID0gdm9pZCAwO1xuICAgICAgc2NvcGUgPSB2b2lkIDA7XG4gICAgfVxuICB9O1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBzdWJzY3JpYmVycyArPSAxO1xuICAgIGlmICghc3RhdGUpIHtcbiAgICAgIHNjb3BlID0gZWZmZWN0U2NvcGUodHJ1ZSk7XG4gICAgICBzdGF0ZSA9IHNjb3BlLnJ1bigoKSA9PiBjb21wb3NhYmxlKC4uLmFyZ3MpKTtcbiAgICB9XG4gICAgdHJ5T25TY29wZURpc3Bvc2UoZGlzcG9zZSk7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9O1xufVxuXG5mdW5jdGlvbiBleHRlbmRSZWYocmVmLCBleHRlbmQsIHsgZW51bWVyYWJsZSA9IGZhbHNlLCB1bndyYXAgPSB0cnVlIH0gPSB7fSkge1xuICBfX29ubHlWdWUyN1BsdXMoKTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZXh0ZW5kKSkge1xuICAgIGlmIChrZXkgPT09IFwidmFsdWVcIilcbiAgICAgIGNvbnRpbnVlO1xuICAgIGlmIChpc1JlZih2YWx1ZSkgJiYgdW53cmFwKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVmLCBrZXksIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZS52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KHYpIHtcbiAgICAgICAgICB2YWx1ZS52YWx1ZSA9IHY7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVmLCBrZXksIHsgdmFsdWUsIGVudW1lcmFibGUgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZWY7XG59XG5cbmZ1bmN0aW9uIGdldChvYmosIGtleSkge1xuICBpZiAoa2V5ID09IG51bGwpXG4gICAgcmV0dXJuIHVucmVmKG9iaik7XG4gIHJldHVybiB1bnJlZihvYmopW2tleV07XG59XG5cbmZ1bmN0aW9uIGlzRGVmaW5lZCh2KSB7XG4gIHJldHVybiB1bnJlZih2KSAhPSBudWxsO1xufVxuXG52YXIgX19kZWZQcm9wJDggPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyRhID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkYSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJGEgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCQ4ID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQ4KG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyQ4ID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkYS5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJDgoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJGEpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJGEoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kYS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkOChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbmZ1bmN0aW9uIG1ha2VEZXN0cnVjdHVyYWJsZShvYmosIGFycikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNvbnN0IGNsb25lID0gX19zcHJlYWRWYWx1ZXMkOCh7fSwgb2JqKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2xvbmUsIFN5bWJvbC5pdGVyYXRvciwge1xuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZSgpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuZXh0OiAoKSA9PiAoe1xuICAgICAgICAgICAgdmFsdWU6IGFycltpbmRleCsrXSxcbiAgICAgICAgICAgIGRvbmU6IGluZGV4ID4gYXJyLmxlbmd0aFxuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKFsuLi5hcnJdLCBvYmopO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlYWN0aWZ5KGZuLCBvcHRpb25zKSB7XG4gIGNvbnN0IHVucmVmRm4gPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5jb21wdXRlZEdldHRlcikgPT09IGZhbHNlID8gdW5yZWYgOiByZXNvbHZlVW5yZWY7XG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IGZuLmFwcGx5KHRoaXMsIGFyZ3MubWFwKChpKSA9PiB1bnJlZkZuKGkpKSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiByZWFjdGlmeU9iamVjdChvYmosIG9wdGlvbnNPcktleXMgPSB7fSkge1xuICBsZXQga2V5cyA9IFtdO1xuICBsZXQgb3B0aW9ucztcbiAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9uc09yS2V5cykpIHtcbiAgICBrZXlzID0gb3B0aW9uc09yS2V5cztcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zID0gb3B0aW9uc09yS2V5cztcbiAgICBjb25zdCB7IGluY2x1ZGVPd25Qcm9wZXJ0aWVzID0gdHJ1ZSB9ID0gb3B0aW9uc09yS2V5cztcbiAgICBrZXlzLnB1c2goLi4uT2JqZWN0LmtleXMob2JqKSk7XG4gICAgaWYgKGluY2x1ZGVPd25Qcm9wZXJ0aWVzKVxuICAgICAga2V5cy5wdXNoKC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikpO1xuICB9XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoa2V5cy5tYXAoKGtleSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG4gICAgcmV0dXJuIFtcbiAgICAgIGtleSxcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVhY3RpZnkodmFsdWUuYmluZChvYmopLCBvcHRpb25zKSA6IHZhbHVlXG4gICAgXTtcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiB0b1JlYWN0aXZlKG9iamVjdFJlZikge1xuICBpZiAoIWlzUmVmKG9iamVjdFJlZikpXG4gICAgcmV0dXJuIHJlYWN0aXZlKG9iamVjdFJlZik7XG4gIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KHt9LCB7XG4gICAgZ2V0KF8sIHAsIHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gdW5yZWYoUmVmbGVjdC5nZXQob2JqZWN0UmVmLnZhbHVlLCBwLCByZWNlaXZlcikpO1xuICAgIH0sXG4gICAgc2V0KF8sIHAsIHZhbHVlKSB7XG4gICAgICBpZiAoaXNSZWYob2JqZWN0UmVmLnZhbHVlW3BdKSAmJiAhaXNSZWYodmFsdWUpKVxuICAgICAgICBvYmplY3RSZWYudmFsdWVbcF0udmFsdWUgPSB2YWx1ZTtcbiAgICAgIGVsc2VcbiAgICAgICAgb2JqZWN0UmVmLnZhbHVlW3BdID0gdmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGRlbGV0ZVByb3BlcnR5KF8sIHApIHtcbiAgICAgIHJldHVybiBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KG9iamVjdFJlZi52YWx1ZSwgcCk7XG4gICAgfSxcbiAgICBoYXMoXywgcCkge1xuICAgICAgcmV0dXJuIFJlZmxlY3QuaGFzKG9iamVjdFJlZi52YWx1ZSwgcCk7XG4gICAgfSxcbiAgICBvd25LZXlzKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdFJlZi52YWx1ZSk7XG4gICAgfSxcbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlYWN0aXZlKHByb3h5KTtcbn1cblxuZnVuY3Rpb24gcmVhY3RpdmVDb21wdXRlZChmbikge1xuICByZXR1cm4gdG9SZWFjdGl2ZShjb21wdXRlZChmbikpO1xufVxuXG5mdW5jdGlvbiByZWFjdGl2ZU9taXQob2JqLCAuLi5rZXlzKSB7XG4gIGNvbnN0IGZsYXRLZXlzID0ga2V5cy5mbGF0KCk7XG4gIHJldHVybiByZWFjdGl2ZUNvbXB1dGVkKCgpID0+IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0b1JlZnMkMShvYmopKS5maWx0ZXIoKGUpID0+ICFmbGF0S2V5cy5pbmNsdWRlcyhlWzBdKSkpKTtcbn1cblxuZnVuY3Rpb24gcmVhY3RpdmVQaWNrKG9iaiwgLi4ua2V5cykge1xuICBjb25zdCBmbGF0S2V5cyA9IGtleXMuZmxhdCgpO1xuICByZXR1cm4gcmVhY3RpdmUoT2JqZWN0LmZyb21FbnRyaWVzKGZsYXRLZXlzLm1hcCgoaykgPT4gW2ssIHRvUmVmKG9iaiwgayldKSkpO1xufVxuXG5mdW5jdGlvbiByZWZBdXRvUmVzZXQoZGVmYXVsdFZhbHVlLCBhZnRlck1zID0gMWU0KSB7XG4gIHJldHVybiBjdXN0b21SZWYoKHRyYWNrLCB0cmlnZ2VyKSA9PiB7XG4gICAgbGV0IHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgIGxldCB0aW1lcjtcbiAgICBjb25zdCByZXNldEFmdGVyID0gKCkgPT4gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIHRyaWdnZXIoKTtcbiAgICB9LCByZXNvbHZlVW5yZWYoYWZ0ZXJNcykpO1xuICAgIHRyeU9uU2NvcGVEaXNwb3NlKCgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgdHJhY2soKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSxcbiAgICAgIHNldChuZXdWYWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB0cmlnZ2VyKCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIHRpbWVyID0gcmVzZXRBZnRlcigpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VEZWJvdW5jZUZuKGZuLCBtcyA9IDIwMCwgb3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiBjcmVhdGVGaWx0ZXJXcmFwcGVyKGRlYm91bmNlRmlsdGVyKG1zLCBvcHRpb25zKSwgZm4pO1xufVxuXG5mdW5jdGlvbiByZWZEZWJvdW5jZWQodmFsdWUsIG1zID0gMjAwLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgZGVib3VuY2VkID0gcmVmKHZhbHVlLnZhbHVlKTtcbiAgY29uc3QgdXBkYXRlciA9IHVzZURlYm91bmNlRm4oKCkgPT4ge1xuICAgIGRlYm91bmNlZC52YWx1ZSA9IHZhbHVlLnZhbHVlO1xuICB9LCBtcywgb3B0aW9ucyk7XG4gIHdhdGNoKHZhbHVlLCAoKSA9PiB1cGRhdGVyKCkpO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG5mdW5jdGlvbiByZWZEZWZhdWx0KHNvdXJjZSwgZGVmYXVsdFZhbHVlKSB7XG4gIHJldHVybiBjb21wdXRlZCh7XG4gICAgZ2V0KCkge1xuICAgICAgdmFyIF9hO1xuICAgICAgcmV0dXJuIChfYSA9IHNvdXJjZS52YWx1ZSkgIT0gbnVsbCA/IF9hIDogZGVmYXVsdFZhbHVlO1xuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICBzb3VyY2UudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VUaHJvdHRsZUZuKGZuLCBtcyA9IDIwMCwgdHJhaWxpbmcgPSBmYWxzZSwgbGVhZGluZyA9IHRydWUsIHJlamVjdE9uQ2FuY2VsID0gZmFsc2UpIHtcbiAgcmV0dXJuIGNyZWF0ZUZpbHRlcldyYXBwZXIodGhyb3R0bGVGaWx0ZXIobXMsIHRyYWlsaW5nLCBsZWFkaW5nLCByZWplY3RPbkNhbmNlbCksIGZuKTtcbn1cblxuZnVuY3Rpb24gcmVmVGhyb3R0bGVkKHZhbHVlLCBkZWxheSA9IDIwMCwgdHJhaWxpbmcgPSB0cnVlLCBsZWFkaW5nID0gdHJ1ZSkge1xuICBpZiAoZGVsYXkgPD0gMClcbiAgICByZXR1cm4gdmFsdWU7XG4gIGNvbnN0IHRocm90dGxlZCA9IHJlZih2YWx1ZS52YWx1ZSk7XG4gIGNvbnN0IHVwZGF0ZXIgPSB1c2VUaHJvdHRsZUZuKCgpID0+IHtcbiAgICB0aHJvdHRsZWQudmFsdWUgPSB2YWx1ZS52YWx1ZTtcbiAgfSwgZGVsYXksIHRyYWlsaW5nLCBsZWFkaW5nKTtcbiAgd2F0Y2godmFsdWUsICgpID0+IHVwZGF0ZXIoKSk7XG4gIHJldHVybiB0aHJvdHRsZWQ7XG59XG5cbmZ1bmN0aW9uIHJlZldpdGhDb250cm9sKGluaXRpYWwsIG9wdGlvbnMgPSB7fSkge1xuICBsZXQgc291cmNlID0gaW5pdGlhbDtcbiAgbGV0IHRyYWNrO1xuICBsZXQgdHJpZ2dlcjtcbiAgY29uc3QgcmVmID0gY3VzdG9tUmVmKChfdHJhY2ssIF90cmlnZ2VyKSA9PiB7XG4gICAgdHJhY2sgPSBfdHJhY2s7XG4gICAgdHJpZ2dlciA9IF90cmlnZ2VyO1xuICAgIHJldHVybiB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiBnZXQoKTtcbiAgICAgIH0sXG4gICAgICBzZXQodikge1xuICAgICAgICBzZXQodik7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIGZ1bmN0aW9uIGdldCh0cmFja2luZyA9IHRydWUpIHtcbiAgICBpZiAodHJhY2tpbmcpXG4gICAgICB0cmFjaygpO1xuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cbiAgZnVuY3Rpb24gc2V0KHZhbHVlLCB0cmlnZ2VyaW5nID0gdHJ1ZSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKHZhbHVlID09PSBzb3VyY2UpXG4gICAgICByZXR1cm47XG4gICAgY29uc3Qgb2xkID0gc291cmNlO1xuICAgIGlmICgoKF9hID0gb3B0aW9ucy5vbkJlZm9yZUNoYW5nZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwob3B0aW9ucywgdmFsdWUsIG9sZCkpID09PSBmYWxzZSlcbiAgICAgIHJldHVybjtcbiAgICBzb3VyY2UgPSB2YWx1ZTtcbiAgICAoX2IgPSBvcHRpb25zLm9uQ2hhbmdlZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNhbGwob3B0aW9ucywgdmFsdWUsIG9sZCk7XG4gICAgaWYgKHRyaWdnZXJpbmcpXG4gICAgICB0cmlnZ2VyKCk7XG4gIH1cbiAgY29uc3QgdW50cmFja2VkR2V0ID0gKCkgPT4gZ2V0KGZhbHNlKTtcbiAgY29uc3Qgc2lsZW50U2V0ID0gKHYpID0+IHNldCh2LCBmYWxzZSk7XG4gIGNvbnN0IHBlZWsgPSAoKSA9PiBnZXQoZmFsc2UpO1xuICBjb25zdCBsYXkgPSAodikgPT4gc2V0KHYsIGZhbHNlKTtcbiAgcmV0dXJuIGV4dGVuZFJlZihyZWYsIHtcbiAgICBnZXQsXG4gICAgc2V0LFxuICAgIHVudHJhY2tlZEdldCxcbiAgICBzaWxlbnRTZXQsXG4gICAgcGVlayxcbiAgICBsYXlcbiAgfSwgeyBlbnVtZXJhYmxlOiB0cnVlIH0pO1xufVxuY29uc3QgY29udHJvbGxlZFJlZiA9IHJlZldpdGhDb250cm9sO1xuXG5mdW5jdGlvbiByZXNvbHZlUmVmKHIpIHtcbiAgcmV0dXJuIHR5cGVvZiByID09PSBcImZ1bmN0aW9uXCIgPyBjb21wdXRlZChyKSA6IHJlZihyKTtcbn1cblxuZnVuY3Rpb24gc2V0KC4uLmFyZ3MpIHtcbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgY29uc3QgW3JlZiwgdmFsdWVdID0gYXJncztcbiAgICByZWYudmFsdWUgPSB2YWx1ZTtcbiAgfVxuICBpZiAoYXJncy5sZW5ndGggPT09IDMpIHtcbiAgICBpZiAoaXNWdWUyKSB7XG4gICAgICBzZXQkMSguLi5hcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgW3RhcmdldCwga2V5LCB2YWx1ZV0gPSBhcmdzO1xuICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc3luY1JlZihsZWZ0LCByaWdodCwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IHtcbiAgICBmbHVzaCA9IFwic3luY1wiLFxuICAgIGRlZXAgPSBmYWxzZSxcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIGRpcmVjdGlvbiA9IFwiYm90aFwiLFxuICAgIHRyYW5zZm9ybSA9IHt9XG4gIH0gPSBvcHRpb25zO1xuICBsZXQgd2F0Y2hMZWZ0O1xuICBsZXQgd2F0Y2hSaWdodDtcbiAgY29uc3QgdHJhbnNmb3JtTFRSID0gKF9hID0gdHJhbnNmb3JtLmx0cikgIT0gbnVsbCA/IF9hIDogKHYpID0+IHY7XG4gIGNvbnN0IHRyYW5zZm9ybVJUTCA9IChfYiA9IHRyYW5zZm9ybS5ydGwpICE9IG51bGwgPyBfYiA6ICh2KSA9PiB2O1xuICBpZiAoZGlyZWN0aW9uID09PSBcImJvdGhcIiB8fCBkaXJlY3Rpb24gPT09IFwibHRyXCIpIHtcbiAgICB3YXRjaExlZnQgPSB3YXRjaChsZWZ0LCAobmV3VmFsdWUpID0+IHJpZ2h0LnZhbHVlID0gdHJhbnNmb3JtTFRSKG5ld1ZhbHVlKSwgeyBmbHVzaCwgZGVlcCwgaW1tZWRpYXRlIH0pO1xuICB9XG4gIGlmIChkaXJlY3Rpb24gPT09IFwiYm90aFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJydGxcIikge1xuICAgIHdhdGNoUmlnaHQgPSB3YXRjaChyaWdodCwgKG5ld1ZhbHVlKSA9PiBsZWZ0LnZhbHVlID0gdHJhbnNmb3JtUlRMKG5ld1ZhbHVlKSwgeyBmbHVzaCwgZGVlcCwgaW1tZWRpYXRlIH0pO1xuICB9XG4gIHJldHVybiAoKSA9PiB7XG4gICAgd2F0Y2hMZWZ0ID09IG51bGwgPyB2b2lkIDAgOiB3YXRjaExlZnQoKTtcbiAgICB3YXRjaFJpZ2h0ID09IG51bGwgPyB2b2lkIDAgOiB3YXRjaFJpZ2h0KCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN5bmNSZWZzKHNvdXJjZSwgdGFyZ2V0cywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBmbHVzaCA9IFwic3luY1wiLFxuICAgIGRlZXAgPSBmYWxzZSxcbiAgICBpbW1lZGlhdGUgPSB0cnVlXG4gIH0gPSBvcHRpb25zO1xuICBpZiAoIUFycmF5LmlzQXJyYXkodGFyZ2V0cykpXG4gICAgdGFyZ2V0cyA9IFt0YXJnZXRzXTtcbiAgcmV0dXJuIHdhdGNoKHNvdXJjZSwgKG5ld1ZhbHVlKSA9PiB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4gdGFyZ2V0LnZhbHVlID0gbmV3VmFsdWUpLCB7IGZsdXNoLCBkZWVwLCBpbW1lZGlhdGUgfSk7XG59XG5cbnZhciBfX2RlZlByb3AkNyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzJDUgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBfX2dldE93blByb3BEZXNjcyQ1ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQ5ID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkOSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDkgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCQ3ID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQ3KG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyQ3ID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkOS5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJDcoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJDkpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDkoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kOS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkNyhhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzJDUgPSAoYSwgYikgPT4gX19kZWZQcm9wcyQ1KGEsIF9fZ2V0T3duUHJvcERlc2NzJDUoYikpO1xuZnVuY3Rpb24gdG9SZWZzKG9iamVjdFJlZikge1xuICBpZiAoIWlzUmVmKG9iamVjdFJlZikpXG4gICAgcmV0dXJuIHRvUmVmcyQxKG9iamVjdFJlZik7XG4gIGNvbnN0IHJlc3VsdCA9IEFycmF5LmlzQXJyYXkob2JqZWN0UmVmLnZhbHVlKSA/IG5ldyBBcnJheShvYmplY3RSZWYudmFsdWUubGVuZ3RoKSA6IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3RSZWYudmFsdWUpIHtcbiAgICByZXN1bHRba2V5XSA9IGN1c3RvbVJlZigoKSA9PiAoe1xuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0UmVmLnZhbHVlW2tleV07XG4gICAgICB9LFxuICAgICAgc2V0KHYpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0UmVmLnZhbHVlKSkge1xuICAgICAgICAgIGNvbnN0IGNvcHkgPSBbLi4ub2JqZWN0UmVmLnZhbHVlXTtcbiAgICAgICAgICBjb3B5W2tleV0gPSB2O1xuICAgICAgICAgIG9iamVjdFJlZi52YWx1ZSA9IGNvcHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbmV3T2JqZWN0ID0gX19zcHJlYWRQcm9wcyQ1KF9fc3ByZWFkVmFsdWVzJDcoe30sIG9iamVjdFJlZi52YWx1ZSksIHsgW2tleV06IHYgfSk7XG4gICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKG5ld09iamVjdCwgb2JqZWN0UmVmLnZhbHVlKTtcbiAgICAgICAgICBvYmplY3RSZWYudmFsdWUgPSBuZXdPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gdHJ5T25CZWZvcmVNb3VudChmbiwgc3luYyA9IHRydWUpIHtcbiAgaWYgKGdldEN1cnJlbnRJbnN0YW5jZSgpKVxuICAgIG9uQmVmb3JlTW91bnQoZm4pO1xuICBlbHNlIGlmIChzeW5jKVxuICAgIGZuKCk7XG4gIGVsc2VcbiAgICBuZXh0VGljayhmbik7XG59XG5cbmZ1bmN0aW9uIHRyeU9uQmVmb3JlVW5tb3VudChmbikge1xuICBpZiAoZ2V0Q3VycmVudEluc3RhbmNlKCkpXG4gICAgb25CZWZvcmVVbm1vdW50KGZuKTtcbn1cblxuZnVuY3Rpb24gdHJ5T25Nb3VudGVkKGZuLCBzeW5jID0gdHJ1ZSkge1xuICBpZiAoZ2V0Q3VycmVudEluc3RhbmNlKCkpXG4gICAgb25Nb3VudGVkKGZuKTtcbiAgZWxzZSBpZiAoc3luYylcbiAgICBmbigpO1xuICBlbHNlXG4gICAgbmV4dFRpY2soZm4pO1xufVxuXG5mdW5jdGlvbiB0cnlPblVubW91bnRlZChmbikge1xuICBpZiAoZ2V0Q3VycmVudEluc3RhbmNlKCkpXG4gICAgb25Vbm1vdW50ZWQoZm4pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVVbnRpbChyLCBpc05vdCA9IGZhbHNlKSB7XG4gIGZ1bmN0aW9uIHRvTWF0Y2goY29uZGl0aW9uLCB7IGZsdXNoID0gXCJzeW5jXCIsIGRlZXAgPSBmYWxzZSwgdGltZW91dCwgdGhyb3dPblRpbWVvdXQgfSA9IHt9KSB7XG4gICAgbGV0IHN0b3AgPSBudWxsO1xuICAgIGNvbnN0IHdhdGNoZXIgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgc3RvcCA9IHdhdGNoKHIsICh2KSA9PiB7XG4gICAgICAgIGlmIChjb25kaXRpb24odikgIT09IGlzTm90KSB7XG4gICAgICAgICAgc3RvcCA9PSBudWxsID8gdm9pZCAwIDogc3RvcCgpO1xuICAgICAgICAgIHJlc29sdmUodik7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmx1c2gsXG4gICAgICAgIGRlZXAsXG4gICAgICAgIGltbWVkaWF0ZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29uc3QgcHJvbWlzZXMgPSBbd2F0Y2hlcl07XG4gICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgcHJvbWlzZXMucHVzaChwcm9taXNlVGltZW91dCh0aW1lb3V0LCB0aHJvd09uVGltZW91dCkudGhlbigoKSA9PiByZXNvbHZlVW5yZWYocikpLmZpbmFsbHkoKCkgPT4gc3RvcCA9PSBudWxsID8gdm9pZCAwIDogc3RvcCgpKSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJhY2UocHJvbWlzZXMpO1xuICB9XG4gIGZ1bmN0aW9uIHRvQmUodmFsdWUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWlzUmVmKHZhbHVlKSlcbiAgICAgIHJldHVybiB0b01hdGNoKCh2KSA9PiB2ID09PSB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgY29uc3QgeyBmbHVzaCA9IFwic3luY1wiLCBkZWVwID0gZmFsc2UsIHRpbWVvdXQsIHRocm93T25UaW1lb3V0IH0gPSBvcHRpb25zICE9IG51bGwgPyBvcHRpb25zIDoge307XG4gICAgbGV0IHN0b3AgPSBudWxsO1xuICAgIGNvbnN0IHdhdGNoZXIgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgc3RvcCA9IHdhdGNoKFtyLCB2YWx1ZV0sIChbdjEsIHYyXSkgPT4ge1xuICAgICAgICBpZiAoaXNOb3QgIT09ICh2MSA9PT0gdjIpKSB7XG4gICAgICAgICAgc3RvcCA9PSBudWxsID8gdm9pZCAwIDogc3RvcCgpO1xuICAgICAgICAgIHJlc29sdmUodjEpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZsdXNoLFxuICAgICAgICBkZWVwLFxuICAgICAgICBpbW1lZGlhdGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnN0IHByb21pc2VzID0gW3dhdGNoZXJdO1xuICAgIGlmICh0aW1lb3V0ICE9IG51bGwpIHtcbiAgICAgIHByb21pc2VzLnB1c2gocHJvbWlzZVRpbWVvdXQodGltZW91dCwgdGhyb3dPblRpbWVvdXQpLnRoZW4oKCkgPT4gcmVzb2x2ZVVucmVmKHIpKS5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgc3RvcCA9PSBudWxsID8gdm9pZCAwIDogc3RvcCgpO1xuICAgICAgICByZXR1cm4gcmVzb2x2ZVVucmVmKHIpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yYWNlKHByb21pc2VzKTtcbiAgfVxuICBmdW5jdGlvbiB0b0JlVHJ1dGh5KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdG9NYXRjaCgodikgPT4gQm9vbGVhbih2KSwgb3B0aW9ucyk7XG4gIH1cbiAgZnVuY3Rpb24gdG9CZU51bGwob3B0aW9ucykge1xuICAgIHJldHVybiB0b0JlKG51bGwsIG9wdGlvbnMpO1xuICB9XG4gIGZ1bmN0aW9uIHRvQmVVbmRlZmluZWQob3B0aW9ucykge1xuICAgIHJldHVybiB0b0JlKHZvaWQgMCwgb3B0aW9ucyk7XG4gIH1cbiAgZnVuY3Rpb24gdG9CZU5hTihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRvTWF0Y2goTnVtYmVyLmlzTmFOLCBvcHRpb25zKTtcbiAgfVxuICBmdW5jdGlvbiB0b0NvbnRhaW5zKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRvTWF0Y2goKHYpID0+IHtcbiAgICAgIGNvbnN0IGFycmF5ID0gQXJyYXkuZnJvbSh2KTtcbiAgICAgIHJldHVybiBhcnJheS5pbmNsdWRlcyh2YWx1ZSkgfHwgYXJyYXkuaW5jbHVkZXMocmVzb2x2ZVVucmVmKHZhbHVlKSk7XG4gICAgfSwgb3B0aW9ucyk7XG4gIH1cbiAgZnVuY3Rpb24gY2hhbmdlZChvcHRpb25zKSB7XG4gICAgcmV0dXJuIGNoYW5nZWRUaW1lcygxLCBvcHRpb25zKTtcbiAgfVxuICBmdW5jdGlvbiBjaGFuZ2VkVGltZXMobiA9IDEsIG9wdGlvbnMpIHtcbiAgICBsZXQgY291bnQgPSAtMTtcbiAgICByZXR1cm4gdG9NYXRjaCgoKSA9PiB7XG4gICAgICBjb3VudCArPSAxO1xuICAgICAgcmV0dXJuIGNvdW50ID49IG47XG4gICAgfSwgb3B0aW9ucyk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkocmVzb2x2ZVVucmVmKHIpKSkge1xuICAgIGNvbnN0IGluc3RhbmNlID0ge1xuICAgICAgdG9NYXRjaCxcbiAgICAgIHRvQ29udGFpbnMsXG4gICAgICBjaGFuZ2VkLFxuICAgICAgY2hhbmdlZFRpbWVzLFxuICAgICAgZ2V0IG5vdCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVVudGlsKHIsICFpc05vdCk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSB7XG4gICAgICB0b01hdGNoLFxuICAgICAgdG9CZSxcbiAgICAgIHRvQmVUcnV0aHksXG4gICAgICB0b0JlTnVsbCxcbiAgICAgIHRvQmVOYU4sXG4gICAgICB0b0JlVW5kZWZpbmVkLFxuICAgICAgY2hhbmdlZCxcbiAgICAgIGNoYW5nZWRUaW1lcyxcbiAgICAgIGdldCBub3QoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVVbnRpbChyLCAhaXNOb3QpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG59XG5mdW5jdGlvbiB1bnRpbChyKSB7XG4gIHJldHVybiBjcmVhdGVVbnRpbChyKTtcbn1cblxuZnVuY3Rpb24gdXNlQXJyYXlFdmVyeShsaXN0LCBmbikge1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gcmVzb2x2ZVVucmVmKGxpc3QpLmV2ZXJ5KChlbGVtZW50LCBpbmRleCwgYXJyYXkpID0+IGZuKHJlc29sdmVVbnJlZihlbGVtZW50KSwgaW5kZXgsIGFycmF5KSkpO1xufVxuXG5mdW5jdGlvbiB1c2VBcnJheUZpbHRlcihsaXN0LCBmbikge1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gcmVzb2x2ZVVucmVmKGxpc3QpLm1hcCgoaSkgPT4gcmVzb2x2ZVVucmVmKGkpKS5maWx0ZXIoZm4pKTtcbn1cblxuZnVuY3Rpb24gdXNlQXJyYXlGaW5kKGxpc3QsIGZuKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiByZXNvbHZlVW5yZWYocmVzb2x2ZVVucmVmKGxpc3QpLmZpbmQoKGVsZW1lbnQsIGluZGV4LCBhcnJheSkgPT4gZm4ocmVzb2x2ZVVucmVmKGVsZW1lbnQpLCBpbmRleCwgYXJyYXkpKSkpO1xufVxuXG5mdW5jdGlvbiB1c2VBcnJheUZpbmRJbmRleChsaXN0LCBmbikge1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gcmVzb2x2ZVVucmVmKGxpc3QpLmZpbmRJbmRleCgoZWxlbWVudCwgaW5kZXgsIGFycmF5KSA9PiBmbihyZXNvbHZlVW5yZWYoZWxlbWVudCksIGluZGV4LCBhcnJheSkpKTtcbn1cblxuZnVuY3Rpb24gZmluZExhc3QoYXJyLCBjYikge1xuICBsZXQgaW5kZXggPSBhcnIubGVuZ3RoO1xuICB3aGlsZSAoaW5kZXgtLSA+IDApIHtcbiAgICBpZiAoY2IoYXJyW2luZGV4XSwgaW5kZXgsIGFycikpXG4gICAgICByZXR1cm4gYXJyW2luZGV4XTtcbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuZnVuY3Rpb24gdXNlQXJyYXlGaW5kTGFzdChsaXN0LCBmbikge1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gcmVzb2x2ZVVucmVmKCFBcnJheS5wcm90b3R5cGUuZmluZExhc3QgPyBmaW5kTGFzdChyZXNvbHZlVW5yZWYobGlzdCksIChlbGVtZW50LCBpbmRleCwgYXJyYXkpID0+IGZuKHJlc29sdmVVbnJlZihlbGVtZW50KSwgaW5kZXgsIGFycmF5KSkgOiByZXNvbHZlVW5yZWYobGlzdCkuZmluZExhc3QoKGVsZW1lbnQsIGluZGV4LCBhcnJheSkgPT4gZm4ocmVzb2x2ZVVucmVmKGVsZW1lbnQpLCBpbmRleCwgYXJyYXkpKSkpO1xufVxuXG5mdW5jdGlvbiB1c2VBcnJheUpvaW4obGlzdCwgc2VwYXJhdG9yKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiByZXNvbHZlVW5yZWYobGlzdCkubWFwKChpKSA9PiByZXNvbHZlVW5yZWYoaSkpLmpvaW4ocmVzb2x2ZVVucmVmKHNlcGFyYXRvcikpKTtcbn1cblxuZnVuY3Rpb24gdXNlQXJyYXlNYXAobGlzdCwgZm4pIHtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHJlc29sdmVVbnJlZihsaXN0KS5tYXAoKGkpID0+IHJlc29sdmVVbnJlZihpKSkubWFwKGZuKSk7XG59XG5cbmZ1bmN0aW9uIHVzZUFycmF5UmVkdWNlKGxpc3QsIHJlZHVjZXIsIC4uLmFyZ3MpIHtcbiAgY29uc3QgcmVkdWNlQ2FsbGJhY2sgPSAoc3VtLCB2YWx1ZSwgaW5kZXgpID0+IHJlZHVjZXIocmVzb2x2ZVVucmVmKHN1bSksIHJlc29sdmVVbnJlZih2YWx1ZSksIGluZGV4KTtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHtcbiAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVVbnJlZihsaXN0KTtcbiAgICByZXR1cm4gYXJncy5sZW5ndGggPyByZXNvbHZlZC5yZWR1Y2UocmVkdWNlQ2FsbGJhY2ssIHJlc29sdmVVbnJlZihhcmdzWzBdKSkgOiByZXNvbHZlZC5yZWR1Y2UocmVkdWNlQ2FsbGJhY2spO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdXNlQXJyYXlTb21lKGxpc3QsIGZuKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiByZXNvbHZlVW5yZWYobGlzdCkuc29tZSgoZWxlbWVudCwgaW5kZXgsIGFycmF5KSA9PiBmbihyZXNvbHZlVW5yZWYoZWxlbWVudCksIGluZGV4LCBhcnJheSkpKTtcbn1cblxuZnVuY3Rpb24gdXNlQXJyYXlVbmlxdWUobGlzdCkge1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gWy4uLm5ldyBTZXQocmVzb2x2ZVVucmVmKGxpc3QpLm1hcCgoZWxlbWVudCkgPT4gcmVzb2x2ZVVucmVmKGVsZW1lbnQpKSldKTtcbn1cblxuZnVuY3Rpb24gdXNlQ291bnRlcihpbml0aWFsVmFsdWUgPSAwLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgY291bnQgPSByZWYoaW5pdGlhbFZhbHVlKTtcbiAgY29uc3Qge1xuICAgIG1heCA9IEluZmluaXR5LFxuICAgIG1pbiA9IC1JbmZpbml0eVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaW5jID0gKGRlbHRhID0gMSkgPT4gY291bnQudmFsdWUgPSBNYXRoLm1pbihtYXgsIGNvdW50LnZhbHVlICsgZGVsdGEpO1xuICBjb25zdCBkZWMgPSAoZGVsdGEgPSAxKSA9PiBjb3VudC52YWx1ZSA9IE1hdGgubWF4KG1pbiwgY291bnQudmFsdWUgLSBkZWx0YSk7XG4gIGNvbnN0IGdldCA9ICgpID0+IGNvdW50LnZhbHVlO1xuICBjb25zdCBzZXQgPSAodmFsKSA9PiBjb3VudC52YWx1ZSA9IE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWwpKTtcbiAgY29uc3QgcmVzZXQgPSAodmFsID0gaW5pdGlhbFZhbHVlKSA9PiB7XG4gICAgaW5pdGlhbFZhbHVlID0gdmFsO1xuICAgIHJldHVybiBzZXQodmFsKTtcbiAgfTtcbiAgcmV0dXJuIHsgY291bnQsIGluYywgZGVjLCBnZXQsIHNldCwgcmVzZXQgfTtcbn1cblxuY29uc3QgUkVHRVhfUEFSU0UgPSAvXihcXGR7NH0pWy0vXT8oXFxkezEsMn0pP1stL10/KFxcZHswLDJ9KVtUdFxcc10qKFxcZHsxLDJ9KT86PyhcXGR7MSwyfSk/Oj8oXFxkezEsMn0pP1suOl0/KFxcZCspPyQvO1xuY29uc3QgUkVHRVhfRk9STUFUID0gL1xcWyhbXlxcXV0rKV18WXsxLDR9fE17MSw0fXxEezEsMn18ZHsxLDR9fEh7MSwyfXxoezEsMn18YXsxLDJ9fEF7MSwyfXxtezEsMn18c3sxLDJ9fFp7MSwyfXxTU1MvZztcbmNvbnN0IGRlZmF1bHRNZXJpZGllbSA9IChob3VycywgbWludXRlcywgaXNMb3dlcmNhc2UsIGhhc1BlcmlvZCkgPT4ge1xuICBsZXQgbSA9IGhvdXJzIDwgMTIgPyBcIkFNXCIgOiBcIlBNXCI7XG4gIGlmIChoYXNQZXJpb2QpXG4gICAgbSA9IG0uc3BsaXQoXCJcIikucmVkdWNlKChhY2MsIGN1cnIpID0+IGFjYyArPSBgJHtjdXJyfS5gLCBcIlwiKTtcbiAgcmV0dXJuIGlzTG93ZXJjYXNlID8gbS50b0xvd2VyQ2FzZSgpIDogbTtcbn07XG5jb25zdCBmb3JtYXREYXRlID0gKGRhdGUsIGZvcm1hdFN0ciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3QgeWVhcnMgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gIGNvbnN0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xuICBjb25zdCBkYXlzID0gZGF0ZS5nZXREYXRlKCk7XG4gIGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuICBjb25zdCBtaW51dGVzID0gZGF0ZS5nZXRNaW51dGVzKCk7XG4gIGNvbnN0IHNlY29uZHMgPSBkYXRlLmdldFNlY29uZHMoKTtcbiAgY29uc3QgbWlsbGlzZWNvbmRzID0gZGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcbiAgY29uc3QgZGF5ID0gZGF0ZS5nZXREYXkoKTtcbiAgY29uc3QgbWVyaWRpZW0gPSAoX2EgPSBvcHRpb25zLmN1c3RvbU1lcmlkaWVtKSAhPSBudWxsID8gX2EgOiBkZWZhdWx0TWVyaWRpZW07XG4gIGNvbnN0IG1hdGNoZXMgPSB7XG4gICAgWVk6ICgpID0+IFN0cmluZyh5ZWFycykuc2xpY2UoLTIpLFxuICAgIFlZWVk6ICgpID0+IHllYXJzLFxuICAgIE06ICgpID0+IG1vbnRoICsgMSxcbiAgICBNTTogKCkgPT4gYCR7bW9udGggKyAxfWAucGFkU3RhcnQoMiwgXCIwXCIpLFxuICAgIE1NTTogKCkgPT4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcob3B0aW9ucy5sb2NhbGVzLCB7IG1vbnRoOiBcInNob3J0XCIgfSksXG4gICAgTU1NTTogKCkgPT4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcob3B0aW9ucy5sb2NhbGVzLCB7IG1vbnRoOiBcImxvbmdcIiB9KSxcbiAgICBEOiAoKSA9PiBTdHJpbmcoZGF5cyksXG4gICAgREQ6ICgpID0+IGAke2RheXN9YC5wYWRTdGFydCgyLCBcIjBcIiksXG4gICAgSDogKCkgPT4gU3RyaW5nKGhvdXJzKSxcbiAgICBISDogKCkgPT4gYCR7aG91cnN9YC5wYWRTdGFydCgyLCBcIjBcIiksXG4gICAgaDogKCkgPT4gYCR7aG91cnMgJSAxMiB8fCAxMn1gLnBhZFN0YXJ0KDEsIFwiMFwiKSxcbiAgICBoaDogKCkgPT4gYCR7aG91cnMgJSAxMiB8fCAxMn1gLnBhZFN0YXJ0KDIsIFwiMFwiKSxcbiAgICBtOiAoKSA9PiBTdHJpbmcobWludXRlcyksXG4gICAgbW06ICgpID0+IGAke21pbnV0ZXN9YC5wYWRTdGFydCgyLCBcIjBcIiksXG4gICAgczogKCkgPT4gU3RyaW5nKHNlY29uZHMpLFxuICAgIHNzOiAoKSA9PiBgJHtzZWNvbmRzfWAucGFkU3RhcnQoMiwgXCIwXCIpLFxuICAgIFNTUzogKCkgPT4gYCR7bWlsbGlzZWNvbmRzfWAucGFkU3RhcnQoMywgXCIwXCIpLFxuICAgIGQ6ICgpID0+IGRheSxcbiAgICBkZDogKCkgPT4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcob3B0aW9ucy5sb2NhbGVzLCB7IHdlZWtkYXk6IFwibmFycm93XCIgfSksXG4gICAgZGRkOiAoKSA9PiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyhvcHRpb25zLmxvY2FsZXMsIHsgd2Vla2RheTogXCJzaG9ydFwiIH0pLFxuICAgIGRkZGQ6ICgpID0+IGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKG9wdGlvbnMubG9jYWxlcywgeyB3ZWVrZGF5OiBcImxvbmdcIiB9KSxcbiAgICBBOiAoKSA9PiBtZXJpZGllbShob3VycywgbWludXRlcyksXG4gICAgQUE6ICgpID0+IG1lcmlkaWVtKGhvdXJzLCBtaW51dGVzLCBmYWxzZSwgdHJ1ZSksXG4gICAgYTogKCkgPT4gbWVyaWRpZW0oaG91cnMsIG1pbnV0ZXMsIHRydWUpLFxuICAgIGFhOiAoKSA9PiBtZXJpZGllbShob3VycywgbWludXRlcywgdHJ1ZSwgdHJ1ZSlcbiAgfTtcbiAgcmV0dXJuIGZvcm1hdFN0ci5yZXBsYWNlKFJFR0VYX0ZPUk1BVCwgKG1hdGNoLCAkMSkgPT4gJDEgfHwgbWF0Y2hlc1ttYXRjaF0oKSk7XG59O1xuY29uc3Qgbm9ybWFsaXplRGF0ZSA9IChkYXRlKSA9PiB7XG4gIGlmIChkYXRlID09PSBudWxsKVxuICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICBpZiAoZGF0ZSA9PT0gdm9pZCAwKVxuICAgIHJldHVybiBuZXcgRGF0ZSgpO1xuICBpZiAoZGF0ZSBpbnN0YW5jZW9mIERhdGUpXG4gICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUpO1xuICBpZiAodHlwZW9mIGRhdGUgPT09IFwic3RyaW5nXCIgJiYgIS9aJC9pLnRlc3QoZGF0ZSkpIHtcbiAgICBjb25zdCBkID0gZGF0ZS5tYXRjaChSRUdFWF9QQVJTRSk7XG4gICAgaWYgKGQpIHtcbiAgICAgIGNvbnN0IG0gPSBkWzJdIC0gMSB8fCAwO1xuICAgICAgY29uc3QgbXMgPSAoZFs3XSB8fCBcIjBcIikuc3Vic3RyaW5nKDAsIDMpO1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKGRbMV0sIG0sIGRbM10gfHwgMSwgZFs0XSB8fCAwLCBkWzVdIHx8IDAsIGRbNl0gfHwgMCwgbXMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IERhdGUoZGF0ZSk7XG59O1xuZnVuY3Rpb24gdXNlRGF0ZUZvcm1hdChkYXRlLCBmb3JtYXRTdHIgPSBcIkhIOm1tOnNzXCIsIG9wdGlvbnMgPSB7fSkge1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gZm9ybWF0RGF0ZShub3JtYWxpemVEYXRlKHJlc29sdmVVbnJlZihkYXRlKSksIHJlc29sdmVVbnJlZihmb3JtYXRTdHIpLCBvcHRpb25zKSk7XG59XG5cbmZ1bmN0aW9uIHVzZUludGVydmFsRm4oY2IsIGludGVydmFsID0gMWUzLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGltbWVkaWF0ZSA9IHRydWUsXG4gICAgaW1tZWRpYXRlQ2FsbGJhY2sgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgbGV0IHRpbWVyID0gbnVsbDtcbiAgY29uc3QgaXNBY3RpdmUgPSByZWYoZmFsc2UpO1xuICBmdW5jdGlvbiBjbGVhbigpIHtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICAgICAgdGltZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBpc0FjdGl2ZS52YWx1ZSA9IGZhbHNlO1xuICAgIGNsZWFuKCk7XG4gIH1cbiAgZnVuY3Rpb24gcmVzdW1lKCkge1xuICAgIGNvbnN0IGludGVydmFsVmFsdWUgPSByZXNvbHZlVW5yZWYoaW50ZXJ2YWwpO1xuICAgIGlmIChpbnRlcnZhbFZhbHVlIDw9IDApXG4gICAgICByZXR1cm47XG4gICAgaXNBY3RpdmUudmFsdWUgPSB0cnVlO1xuICAgIGlmIChpbW1lZGlhdGVDYWxsYmFjaylcbiAgICAgIGNiKCk7XG4gICAgY2xlYW4oKTtcbiAgICB0aW1lciA9IHNldEludGVydmFsKGNiLCBpbnRlcnZhbFZhbHVlKTtcbiAgfVxuICBpZiAoaW1tZWRpYXRlICYmIGlzQ2xpZW50KVxuICAgIHJlc3VtZSgpO1xuICBpZiAoaXNSZWYoaW50ZXJ2YWwpIHx8IGlzRnVuY3Rpb24oaW50ZXJ2YWwpKSB7XG4gICAgY29uc3Qgc3RvcFdhdGNoID0gd2F0Y2goaW50ZXJ2YWwsICgpID0+IHtcbiAgICAgIGlmIChpc0FjdGl2ZS52YWx1ZSAmJiBpc0NsaWVudClcbiAgICAgICAgcmVzdW1lKCk7XG4gICAgfSk7XG4gICAgdHJ5T25TY29wZURpc3Bvc2Uoc3RvcFdhdGNoKTtcbiAgfVxuICB0cnlPblNjb3BlRGlzcG9zZShwYXVzZSk7XG4gIHJldHVybiB7XG4gICAgaXNBY3RpdmUsXG4gICAgcGF1c2UsXG4gICAgcmVzdW1lXG4gIH07XG59XG5cbnZhciBfX2RlZlByb3AkNiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BTeW1ib2xzJDggPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCQ4ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0kOCA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wJDYgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDYob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzJDYgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcCQ4LmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AkNihhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMkOClcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkOChiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bSQ4LmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcCQ2KGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xuZnVuY3Rpb24gdXNlSW50ZXJ2YWwoaW50ZXJ2YWwgPSAxZTMsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgY29udHJvbHM6IGV4cG9zZUNvbnRyb2xzID0gZmFsc2UsXG4gICAgaW1tZWRpYXRlID0gdHJ1ZSxcbiAgICBjYWxsYmFja1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgY291bnRlciA9IHJlZigwKTtcbiAgY29uc3QgdXBkYXRlID0gKCkgPT4gY291bnRlci52YWx1ZSArPSAxO1xuICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICBjb3VudGVyLnZhbHVlID0gMDtcbiAgfTtcbiAgY29uc3QgY29udHJvbHMgPSB1c2VJbnRlcnZhbEZuKGNhbGxiYWNrID8gKCkgPT4ge1xuICAgIHVwZGF0ZSgpO1xuICAgIGNhbGxiYWNrKGNvdW50ZXIudmFsdWUpO1xuICB9IDogdXBkYXRlLCBpbnRlcnZhbCwgeyBpbW1lZGlhdGUgfSk7XG4gIGlmIChleHBvc2VDb250cm9scykge1xuICAgIHJldHVybiBfX3NwcmVhZFZhbHVlcyQ2KHtcbiAgICAgIGNvdW50ZXIsXG4gICAgICByZXNldFxuICAgIH0sIGNvbnRyb2xzKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY291bnRlcjtcbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VMYXN0Q2hhbmdlZChzb3VyY2UsIG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IG1zID0gcmVmKChfYSA9IG9wdGlvbnMuaW5pdGlhbFZhbHVlKSAhPSBudWxsID8gX2EgOiBudWxsKTtcbiAgd2F0Y2goc291cmNlLCAoKSA9PiBtcy52YWx1ZSA9IHRpbWVzdGFtcCgpLCBvcHRpb25zKTtcbiAgcmV0dXJuIG1zO1xufVxuXG5mdW5jdGlvbiB1c2VUaW1lb3V0Rm4oY2IsIGludGVydmFsLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGltbWVkaWF0ZSA9IHRydWVcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzUGVuZGluZyA9IHJlZihmYWxzZSk7XG4gIGxldCB0aW1lciA9IG51bGw7XG4gIGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHRpbWVyID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBpc1BlbmRpbmcudmFsdWUgPSBmYWxzZTtcbiAgICBjbGVhcigpO1xuICB9XG4gIGZ1bmN0aW9uIHN0YXJ0KC4uLmFyZ3MpIHtcbiAgICBjbGVhcigpO1xuICAgIGlzUGVuZGluZy52YWx1ZSA9IHRydWU7XG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlzUGVuZGluZy52YWx1ZSA9IGZhbHNlO1xuICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgY2IoLi4uYXJncyk7XG4gICAgfSwgcmVzb2x2ZVVucmVmKGludGVydmFsKSk7XG4gIH1cbiAgaWYgKGltbWVkaWF0ZSkge1xuICAgIGlzUGVuZGluZy52YWx1ZSA9IHRydWU7XG4gICAgaWYgKGlzQ2xpZW50KVxuICAgICAgc3RhcnQoKTtcbiAgfVxuICB0cnlPblNjb3BlRGlzcG9zZShzdG9wKTtcbiAgcmV0dXJuIHtcbiAgICBpc1BlbmRpbmc6IHJlYWRvbmx5KGlzUGVuZGluZyksXG4gICAgc3RhcnQsXG4gICAgc3RvcFxuICB9O1xufVxuXG52YXIgX19kZWZQcm9wJDUgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQ3ID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkNyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDcgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCQ1ID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQ1KG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyQ1ID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkNy5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJDUoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJDcpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDcoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kNy5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkNShhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbmZ1bmN0aW9uIHVzZVRpbWVvdXQoaW50ZXJ2YWwgPSAxZTMsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgY29udHJvbHM6IGV4cG9zZUNvbnRyb2xzID0gZmFsc2UsXG4gICAgY2FsbGJhY2tcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGNvbnRyb2xzID0gdXNlVGltZW91dEZuKGNhbGxiYWNrICE9IG51bGwgPyBjYWxsYmFjayA6IG5vb3AsIGludGVydmFsLCBvcHRpb25zKTtcbiAgY29uc3QgcmVhZHkgPSBjb21wdXRlZCgoKSA9PiAhY29udHJvbHMuaXNQZW5kaW5nLnZhbHVlKTtcbiAgaWYgKGV4cG9zZUNvbnRyb2xzKSB7XG4gICAgcmV0dXJuIF9fc3ByZWFkVmFsdWVzJDUoe1xuICAgICAgcmVhZHlcbiAgICB9LCBjb250cm9scyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlYWR5O1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZVRvTnVtYmVyKHZhbHVlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIG1ldGhvZCA9IFwicGFyc2VGbG9hdFwiLFxuICAgIHJhZGl4LFxuICAgIG5hblRvWmVyb1xuICB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHtcbiAgICBsZXQgcmVzb2x2ZWQgPSByZXNvbHZlVW5yZWYodmFsdWUpO1xuICAgIGlmICh0eXBlb2YgcmVzb2x2ZWQgPT09IFwic3RyaW5nXCIpXG4gICAgICByZXNvbHZlZCA9IE51bWJlclttZXRob2RdKHJlc29sdmVkLCByYWRpeCk7XG4gICAgaWYgKG5hblRvWmVybyAmJiBpc05hTihyZXNvbHZlZCkpXG4gICAgICByZXNvbHZlZCA9IDA7XG4gICAgcmV0dXJuIHJlc29sdmVkO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IGAke3Jlc29sdmVVbnJlZih2YWx1ZSl9YCk7XG59XG5cbmZ1bmN0aW9uIHVzZVRvZ2dsZShpbml0aWFsVmFsdWUgPSBmYWxzZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB0cnV0aHlWYWx1ZSA9IHRydWUsXG4gICAgZmFsc3lWYWx1ZSA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB2YWx1ZUlzUmVmID0gaXNSZWYoaW5pdGlhbFZhbHVlKTtcbiAgY29uc3QgX3ZhbHVlID0gcmVmKGluaXRpYWxWYWx1ZSk7XG4gIGZ1bmN0aW9uIHRvZ2dsZSh2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBfdmFsdWUudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHJldHVybiBfdmFsdWUudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRydXRoeSA9IHJlc29sdmVVbnJlZih0cnV0aHlWYWx1ZSk7XG4gICAgICBfdmFsdWUudmFsdWUgPSBfdmFsdWUudmFsdWUgPT09IHRydXRoeSA/IHJlc29sdmVVbnJlZihmYWxzeVZhbHVlKSA6IHRydXRoeTtcbiAgICAgIHJldHVybiBfdmFsdWUudmFsdWU7XG4gICAgfVxuICB9XG4gIGlmICh2YWx1ZUlzUmVmKVxuICAgIHJldHVybiB0b2dnbGU7XG4gIGVsc2VcbiAgICByZXR1cm4gW192YWx1ZSwgdG9nZ2xlXTtcbn1cblxuZnVuY3Rpb24gd2F0Y2hBcnJheShzb3VyY2UsIGNiLCBvcHRpb25zKSB7XG4gIGxldCBvbGRMaXN0ID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW1tZWRpYXRlKSA/IFtdIDogW1xuICAgIC4uLnNvdXJjZSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gc291cmNlKCkgOiBBcnJheS5pc0FycmF5KHNvdXJjZSkgPyBzb3VyY2UgOiB1bnJlZihzb3VyY2UpXG4gIF07XG4gIHJldHVybiB3YXRjaChzb3VyY2UsIChuZXdMaXN0LCBfLCBvbkNsZWFudXApID0+IHtcbiAgICBjb25zdCBvbGRMaXN0UmVtYWlucyA9IG5ldyBBcnJheShvbGRMaXN0Lmxlbmd0aCk7XG4gICAgY29uc3QgYWRkZWQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IG9iaiBvZiBuZXdMaXN0KSB7XG4gICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIW9sZExpc3RSZW1haW5zW2ldICYmIG9iaiA9PT0gb2xkTGlzdFtpXSkge1xuICAgICAgICAgIG9sZExpc3RSZW1haW5zW2ldID0gdHJ1ZTtcbiAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghZm91bmQpXG4gICAgICAgIGFkZGVkLnB1c2gob2JqKTtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlZCA9IG9sZExpc3QuZmlsdGVyKChfMiwgaSkgPT4gIW9sZExpc3RSZW1haW5zW2ldKTtcbiAgICBjYihuZXdMaXN0LCBvbGRMaXN0LCBhZGRlZCwgcmVtb3ZlZCwgb25DbGVhbnVwKTtcbiAgICBvbGRMaXN0ID0gWy4uLm5ld0xpc3RdO1xuICB9LCBvcHRpb25zKTtcbn1cblxudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkNiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJDYgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSQ2ID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX29ialJlc3QkNSA9IChzb3VyY2UsIGV4Y2x1ZGUpID0+IHtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJDYuY2FsbChzb3VyY2UsIHByb3ApICYmIGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDApXG4gICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gIGlmIChzb3VyY2UgIT0gbnVsbCAmJiBfX2dldE93blByb3BTeW1ib2xzJDYpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDYoc291cmNlKSkge1xuICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDAgJiYgX19wcm9wSXNFbnVtJDYuY2FsbChzb3VyY2UsIHByb3ApKVxuICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgfVxuICByZXR1cm4gdGFyZ2V0O1xufTtcbmZ1bmN0aW9uIHdhdGNoV2l0aEZpbHRlcihzb3VyY2UsIGNiLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgX2EgPSBvcHRpb25zLCB7XG4gICAgZXZlbnRGaWx0ZXIgPSBieXBhc3NGaWx0ZXJcbiAgfSA9IF9hLCB3YXRjaE9wdGlvbnMgPSBfX29ialJlc3QkNShfYSwgW1xuICAgIFwiZXZlbnRGaWx0ZXJcIlxuICBdKTtcbiAgcmV0dXJuIHdhdGNoKHNvdXJjZSwgY3JlYXRlRmlsdGVyV3JhcHBlcihldmVudEZpbHRlciwgY2IpLCB3YXRjaE9wdGlvbnMpO1xufVxuXG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQ1ID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkNSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fb2JqUmVzdCQ0ID0gKHNvdXJjZSwgZXhjbHVkZSkgPT4ge1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIGZvciAodmFyIHByb3AgaW4gc291cmNlKVxuICAgIGlmIChfX2hhc093blByb3AkNS5jYWxsKHNvdXJjZSwgcHJvcCkgJiYgZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMClcbiAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgaWYgKHNvdXJjZSAhPSBudWxsICYmIF9fZ2V0T3duUHJvcFN5bWJvbHMkNSlcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkNShzb3VyY2UpKSB7XG4gICAgICBpZiAoZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMCAmJiBfX3Byb3BJc0VudW0kNS5jYWxsKHNvdXJjZSwgcHJvcCkpXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuZnVuY3Rpb24gd2F0Y2hBdE1vc3Qoc291cmNlLCBjYiwgb3B0aW9ucykge1xuICBjb25zdCBfYSA9IG9wdGlvbnMsIHtcbiAgICBjb3VudFxuICB9ID0gX2EsIHdhdGNoT3B0aW9ucyA9IF9fb2JqUmVzdCQ0KF9hLCBbXG4gICAgXCJjb3VudFwiXG4gIF0pO1xuICBjb25zdCBjdXJyZW50ID0gcmVmKDApO1xuICBjb25zdCBzdG9wID0gd2F0Y2hXaXRoRmlsdGVyKHNvdXJjZSwgKC4uLmFyZ3MpID0+IHtcbiAgICBjdXJyZW50LnZhbHVlICs9IDE7XG4gICAgaWYgKGN1cnJlbnQudmFsdWUgPj0gcmVzb2x2ZVVucmVmKGNvdW50KSlcbiAgICAgIG5leHRUaWNrKCgpID0+IHN0b3AoKSk7XG4gICAgY2IoLi4uYXJncyk7XG4gIH0sIHdhdGNoT3B0aW9ucyk7XG4gIHJldHVybiB7IGNvdW50OiBjdXJyZW50LCBzdG9wIH07XG59XG5cbnZhciBfX2RlZlByb3AkNCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzJDQgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBfX2dldE93blByb3BEZXNjcyQ0ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQ0ID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkNCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDQgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCQ0ID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQ0KG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyQ0ID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkNC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJDQoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJDQpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDQoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kNC5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkNChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzJDQgPSAoYSwgYikgPT4gX19kZWZQcm9wcyQ0KGEsIF9fZ2V0T3duUHJvcERlc2NzJDQoYikpO1xudmFyIF9fb2JqUmVzdCQzID0gKHNvdXJjZSwgZXhjbHVkZSkgPT4ge1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIGZvciAodmFyIHByb3AgaW4gc291cmNlKVxuICAgIGlmIChfX2hhc093blByb3AkNC5jYWxsKHNvdXJjZSwgcHJvcCkgJiYgZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMClcbiAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgaWYgKHNvdXJjZSAhPSBudWxsICYmIF9fZ2V0T3duUHJvcFN5bWJvbHMkNClcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkNChzb3VyY2UpKSB7XG4gICAgICBpZiAoZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMCAmJiBfX3Byb3BJc0VudW0kNC5jYWxsKHNvdXJjZSwgcHJvcCkpXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuZnVuY3Rpb24gd2F0Y2hEZWJvdW5jZWQoc291cmNlLCBjYiwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IF9hID0gb3B0aW9ucywge1xuICAgIGRlYm91bmNlID0gMCxcbiAgICBtYXhXYWl0ID0gdm9pZCAwXG4gIH0gPSBfYSwgd2F0Y2hPcHRpb25zID0gX19vYmpSZXN0JDMoX2EsIFtcbiAgICBcImRlYm91bmNlXCIsXG4gICAgXCJtYXhXYWl0XCJcbiAgXSk7XG4gIHJldHVybiB3YXRjaFdpdGhGaWx0ZXIoc291cmNlLCBjYiwgX19zcHJlYWRQcm9wcyQ0KF9fc3ByZWFkVmFsdWVzJDQoe30sIHdhdGNoT3B0aW9ucyksIHtcbiAgICBldmVudEZpbHRlcjogZGVib3VuY2VGaWx0ZXIoZGVib3VuY2UsIHsgbWF4V2FpdCB9KVxuICB9KSk7XG59XG5cbnZhciBfX2RlZlByb3AkMyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzJDMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBfX2dldE93blByb3BEZXNjcyQzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkMyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDMgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCQzID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQzKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyQzID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkMy5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJDMoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJDMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDMoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kMy5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkMyhhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzJDMgPSAoYSwgYikgPT4gX19kZWZQcm9wcyQzKGEsIF9fZ2V0T3duUHJvcERlc2NzJDMoYikpO1xudmFyIF9fb2JqUmVzdCQyID0gKHNvdXJjZSwgZXhjbHVkZSkgPT4ge1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIGZvciAodmFyIHByb3AgaW4gc291cmNlKVxuICAgIGlmIChfX2hhc093blByb3AkMy5jYWxsKHNvdXJjZSwgcHJvcCkgJiYgZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMClcbiAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgaWYgKHNvdXJjZSAhPSBudWxsICYmIF9fZ2V0T3duUHJvcFN5bWJvbHMkMylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkMyhzb3VyY2UpKSB7XG4gICAgICBpZiAoZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMCAmJiBfX3Byb3BJc0VudW0kMy5jYWxsKHNvdXJjZSwgcHJvcCkpXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuZnVuY3Rpb24gd2F0Y2hJZ25vcmFibGUoc291cmNlLCBjYiwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IF9hID0gb3B0aW9ucywge1xuICAgIGV2ZW50RmlsdGVyID0gYnlwYXNzRmlsdGVyXG4gIH0gPSBfYSwgd2F0Y2hPcHRpb25zID0gX19vYmpSZXN0JDIoX2EsIFtcbiAgICBcImV2ZW50RmlsdGVyXCJcbiAgXSk7XG4gIGNvbnN0IGZpbHRlcmVkQ2IgPSBjcmVhdGVGaWx0ZXJXcmFwcGVyKGV2ZW50RmlsdGVyLCBjYik7XG4gIGxldCBpZ25vcmVVcGRhdGVzO1xuICBsZXQgaWdub3JlUHJldkFzeW5jVXBkYXRlcztcbiAgbGV0IHN0b3A7XG4gIGlmICh3YXRjaE9wdGlvbnMuZmx1c2ggPT09IFwic3luY1wiKSB7XG4gICAgY29uc3QgaWdub3JlID0gcmVmKGZhbHNlKTtcbiAgICBpZ25vcmVQcmV2QXN5bmNVcGRhdGVzID0gKCkgPT4ge1xuICAgIH07XG4gICAgaWdub3JlVXBkYXRlcyA9ICh1cGRhdGVyKSA9PiB7XG4gICAgICBpZ25vcmUudmFsdWUgPSB0cnVlO1xuICAgICAgdXBkYXRlcigpO1xuICAgICAgaWdub3JlLnZhbHVlID0gZmFsc2U7XG4gICAgfTtcbiAgICBzdG9wID0gd2F0Y2goc291cmNlLCAoLi4uYXJncykgPT4ge1xuICAgICAgaWYgKCFpZ25vcmUudmFsdWUpXG4gICAgICAgIGZpbHRlcmVkQ2IoLi4uYXJncyk7XG4gICAgfSwgd2F0Y2hPcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBkaXNwb3NhYmxlcyA9IFtdO1xuICAgIGNvbnN0IGlnbm9yZUNvdW50ZXIgPSByZWYoMCk7XG4gICAgY29uc3Qgc3luY0NvdW50ZXIgPSByZWYoMCk7XG4gICAgaWdub3JlUHJldkFzeW5jVXBkYXRlcyA9ICgpID0+IHtcbiAgICAgIGlnbm9yZUNvdW50ZXIudmFsdWUgPSBzeW5jQ291bnRlci52YWx1ZTtcbiAgICB9O1xuICAgIGRpc3Bvc2FibGVzLnB1c2god2F0Y2goc291cmNlLCAoKSA9PiB7XG4gICAgICBzeW5jQ291bnRlci52YWx1ZSsrO1xuICAgIH0sIF9fc3ByZWFkUHJvcHMkMyhfX3NwcmVhZFZhbHVlcyQzKHt9LCB3YXRjaE9wdGlvbnMpLCB7IGZsdXNoOiBcInN5bmNcIiB9KSkpO1xuICAgIGlnbm9yZVVwZGF0ZXMgPSAodXBkYXRlcikgPT4ge1xuICAgICAgY29uc3Qgc3luY0NvdW50ZXJQcmV2ID0gc3luY0NvdW50ZXIudmFsdWU7XG4gICAgICB1cGRhdGVyKCk7XG4gICAgICBpZ25vcmVDb3VudGVyLnZhbHVlICs9IHN5bmNDb3VudGVyLnZhbHVlIC0gc3luY0NvdW50ZXJQcmV2O1xuICAgIH07XG4gICAgZGlzcG9zYWJsZXMucHVzaCh3YXRjaChzb3VyY2UsICguLi5hcmdzKSA9PiB7XG4gICAgICBjb25zdCBpZ25vcmUgPSBpZ25vcmVDb3VudGVyLnZhbHVlID4gMCAmJiBpZ25vcmVDb3VudGVyLnZhbHVlID09PSBzeW5jQ291bnRlci52YWx1ZTtcbiAgICAgIGlnbm9yZUNvdW50ZXIudmFsdWUgPSAwO1xuICAgICAgc3luY0NvdW50ZXIudmFsdWUgPSAwO1xuICAgICAgaWYgKGlnbm9yZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZmlsdGVyZWRDYiguLi5hcmdzKTtcbiAgICB9LCB3YXRjaE9wdGlvbnMpKTtcbiAgICBzdG9wID0gKCkgPT4ge1xuICAgICAgZGlzcG9zYWJsZXMuZm9yRWFjaCgoZm4pID0+IGZuKCkpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIHsgc3RvcCwgaWdub3JlVXBkYXRlcywgaWdub3JlUHJldkFzeW5jVXBkYXRlcyB9O1xufVxuXG5mdW5jdGlvbiB3YXRjaE9uY2Uoc291cmNlLCBjYiwgb3B0aW9ucykge1xuICBjb25zdCBzdG9wID0gd2F0Y2goc291cmNlLCAoLi4uYXJncykgPT4ge1xuICAgIG5leHRUaWNrKCgpID0+IHN0b3AoKSk7XG4gICAgcmV0dXJuIGNiKC4uLmFyZ3MpO1xuICB9LCBvcHRpb25zKTtcbn1cblxudmFyIF9fZGVmUHJvcCQyID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmUHJvcHMkMiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzJDIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbnZhciBfX2dldE93blByb3BTeW1ib2xzJDIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCQyID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0kMiA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wJDIgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDIob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzJDIgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcCQyLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AkMihhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMkMilcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkMihiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bSQyLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcCQyKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMkMiA9IChhLCBiKSA9PiBfX2RlZlByb3BzJDIoYSwgX19nZXRPd25Qcm9wRGVzY3MkMihiKSk7XG52YXIgX19vYmpSZXN0JDEgPSAoc291cmNlLCBleGNsdWRlKSA9PiB7XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpXG4gICAgaWYgKF9faGFzT3duUHJvcCQyLmNhbGwoc291cmNlLCBwcm9wKSAmJiBleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwKVxuICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICBpZiAoc291cmNlICE9IG51bGwgJiYgX19nZXRPd25Qcm9wU3ltYm9scyQyKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyQyKHNvdXJjZSkpIHtcbiAgICAgIGlmIChleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwICYmIF9fcHJvcElzRW51bSQyLmNhbGwoc291cmNlLCBwcm9wKSlcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5mdW5jdGlvbiB3YXRjaFBhdXNhYmxlKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBfYSA9IG9wdGlvbnMsIHtcbiAgICBldmVudEZpbHRlcjogZmlsdGVyXG4gIH0gPSBfYSwgd2F0Y2hPcHRpb25zID0gX19vYmpSZXN0JDEoX2EsIFtcbiAgICBcImV2ZW50RmlsdGVyXCJcbiAgXSk7XG4gIGNvbnN0IHsgZXZlbnRGaWx0ZXIsIHBhdXNlLCByZXN1bWUsIGlzQWN0aXZlIH0gPSBwYXVzYWJsZUZpbHRlcihmaWx0ZXIpO1xuICBjb25zdCBzdG9wID0gd2F0Y2hXaXRoRmlsdGVyKHNvdXJjZSwgY2IsIF9fc3ByZWFkUHJvcHMkMihfX3NwcmVhZFZhbHVlcyQyKHt9LCB3YXRjaE9wdGlvbnMpLCB7XG4gICAgZXZlbnRGaWx0ZXJcbiAgfSkpO1xuICByZXR1cm4geyBzdG9wLCBwYXVzZSwgcmVzdW1lLCBpc0FjdGl2ZSB9O1xufVxuXG52YXIgX19kZWZQcm9wJDEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyQxID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgX19nZXRPd25Qcm9wRGVzY3MkMSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzO1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkMSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJDEgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSQxID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AkMSA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkMShvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMkMSA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJDEuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcCQxKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scyQxKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyQxKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtJDEuY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wJDEoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG52YXIgX19zcHJlYWRQcm9wcyQxID0gKGEsIGIpID0+IF9fZGVmUHJvcHMkMShhLCBfX2dldE93blByb3BEZXNjcyQxKGIpKTtcbnZhciBfX29ialJlc3QgPSAoc291cmNlLCBleGNsdWRlKSA9PiB7XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpXG4gICAgaWYgKF9faGFzT3duUHJvcCQxLmNhbGwoc291cmNlLCBwcm9wKSAmJiBleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwKVxuICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICBpZiAoc291cmNlICE9IG51bGwgJiYgX19nZXRPd25Qcm9wU3ltYm9scyQxKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyQxKHNvdXJjZSkpIHtcbiAgICAgIGlmIChleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwICYmIF9fcHJvcElzRW51bSQxLmNhbGwoc291cmNlLCBwcm9wKSlcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5mdW5jdGlvbiB3YXRjaFRocm90dGxlZChzb3VyY2UsIGNiLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgX2EgPSBvcHRpb25zLCB7XG4gICAgdGhyb3R0bGUgPSAwLFxuICAgIHRyYWlsaW5nID0gdHJ1ZSxcbiAgICBsZWFkaW5nID0gdHJ1ZVxuICB9ID0gX2EsIHdhdGNoT3B0aW9ucyA9IF9fb2JqUmVzdChfYSwgW1xuICAgIFwidGhyb3R0bGVcIixcbiAgICBcInRyYWlsaW5nXCIsXG4gICAgXCJsZWFkaW5nXCJcbiAgXSk7XG4gIHJldHVybiB3YXRjaFdpdGhGaWx0ZXIoc291cmNlLCBjYiwgX19zcHJlYWRQcm9wcyQxKF9fc3ByZWFkVmFsdWVzJDEoe30sIHdhdGNoT3B0aW9ucyksIHtcbiAgICBldmVudEZpbHRlcjogdGhyb3R0bGVGaWx0ZXIodGhyb3R0bGUsIHRyYWlsaW5nLCBsZWFkaW5nKVxuICB9KSk7XG59XG5cbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0gPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzID0gKGEsIGIpID0+IF9fZGVmUHJvcHMoYSwgX19nZXRPd25Qcm9wRGVzY3MoYikpO1xuZnVuY3Rpb24gd2F0Y2hUcmlnZ2VyYWJsZShzb3VyY2UsIGNiLCBvcHRpb25zID0ge30pIHtcbiAgbGV0IGNsZWFudXBGbjtcbiAgZnVuY3Rpb24gb25FZmZlY3QoKSB7XG4gICAgaWYgKCFjbGVhbnVwRm4pXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZm4gPSBjbGVhbnVwRm47XG4gICAgY2xlYW51cEZuID0gdm9pZCAwO1xuICAgIGZuKCk7XG4gIH1cbiAgZnVuY3Rpb24gb25DbGVhbnVwKGNhbGxiYWNrKSB7XG4gICAgY2xlYW51cEZuID0gY2FsbGJhY2s7XG4gIH1cbiAgY29uc3QgX2NiID0gKHZhbHVlLCBvbGRWYWx1ZSkgPT4ge1xuICAgIG9uRWZmZWN0KCk7XG4gICAgcmV0dXJuIGNiKHZhbHVlLCBvbGRWYWx1ZSwgb25DbGVhbnVwKTtcbiAgfTtcbiAgY29uc3QgcmVzID0gd2F0Y2hJZ25vcmFibGUoc291cmNlLCBfY2IsIG9wdGlvbnMpO1xuICBjb25zdCB7IGlnbm9yZVVwZGF0ZXMgfSA9IHJlcztcbiAgY29uc3QgdHJpZ2dlciA9ICgpID0+IHtcbiAgICBsZXQgcmVzMjtcbiAgICBpZ25vcmVVcGRhdGVzKCgpID0+IHtcbiAgICAgIHJlczIgPSBfY2IoZ2V0V2F0Y2hTb3VyY2VzKHNvdXJjZSksIGdldE9sZFZhbHVlKHNvdXJjZSkpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXMyO1xuICB9O1xuICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcmVzKSwge1xuICAgIHRyaWdnZXJcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRXYXRjaFNvdXJjZXMoc291cmNlcykge1xuICBpZiAoaXNSZWFjdGl2ZShzb3VyY2VzKSlcbiAgICByZXR1cm4gc291cmNlcztcbiAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlcykpXG4gICAgcmV0dXJuIHNvdXJjZXMubWFwKChpdGVtKSA9PiBnZXRPbmVXYXRjaFNvdXJjZShpdGVtKSk7XG4gIHJldHVybiBnZXRPbmVXYXRjaFNvdXJjZShzb3VyY2VzKTtcbn1cbmZ1bmN0aW9uIGdldE9uZVdhdGNoU291cmNlKHNvdXJjZSkge1xuICByZXR1cm4gdHlwZW9mIHNvdXJjZSA9PT0gXCJmdW5jdGlvblwiID8gc291cmNlKCkgOiB1bnJlZihzb3VyY2UpO1xufVxuZnVuY3Rpb24gZ2V0T2xkVmFsdWUoc291cmNlKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHNvdXJjZSkgPyBzb3VyY2UubWFwKCgpID0+IHZvaWQgMCkgOiB2b2lkIDA7XG59XG5cbmZ1bmN0aW9uIHdoZW5ldmVyKHNvdXJjZSwgY2IsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHdhdGNoKHNvdXJjZSwgKHYsIG92LCBvbkludmFsaWRhdGUpID0+IHtcbiAgICBpZiAodilcbiAgICAgIGNiKHYsIG92LCBvbkludmFsaWRhdGUpO1xuICB9LCBvcHRpb25zKTtcbn1cblxuZXhwb3J0IHsgX19vbmx5VnVlMjdQbHVzLCBfX29ubHlWdWUzLCBhc3NlcnQsIHJlZkF1dG9SZXNldCBhcyBhdXRvUmVzZXRSZWYsIGJ5cGFzc0ZpbHRlciwgY2xhbXAsIGNvbXB1dGVkRWFnZXIsIGNvbXB1dGVkV2l0aENvbnRyb2wsIGNvbnRhaW5zUHJvcCwgY29tcHV0ZWRXaXRoQ29udHJvbCBhcyBjb250cm9sbGVkQ29tcHV0ZWQsIGNvbnRyb2xsZWRSZWYsIGNyZWF0ZUV2ZW50SG9vaywgY3JlYXRlRmlsdGVyV3JhcHBlciwgY3JlYXRlR2xvYmFsU3RhdGUsIGNyZWF0ZUluamVjdGlvblN0YXRlLCByZWFjdGlmeSBhcyBjcmVhdGVSZWFjdGl2ZUZuLCBjcmVhdGVTaGFyZWRDb21wb3NhYmxlLCBjcmVhdGVTaW5nbGV0b25Qcm9taXNlLCBkZWJvdW5jZUZpbHRlciwgcmVmRGVib3VuY2VkIGFzIGRlYm91bmNlZFJlZiwgd2F0Y2hEZWJvdW5jZWQgYXMgZGVib3VuY2VkV2F0Y2gsIGRpcmVjdGl2ZUhvb2tzLCBjb21wdXRlZEVhZ2VyIGFzIGVhZ2VyQ29tcHV0ZWQsIGV4dGVuZFJlZiwgZm9ybWF0RGF0ZSwgZ2V0LCBoYXNPd24sIGlkZW50aXR5LCB3YXRjaElnbm9yYWJsZSBhcyBpZ25vcmFibGVXYXRjaCwgaW5jcmVhc2VXaXRoVW5pdCwgaW52b2tlLCBpc0Jvb2xlYW4sIGlzQ2xpZW50LCBpc0RlZiwgaXNEZWZpbmVkLCBpc0Z1bmN0aW9uLCBpc0lPUywgaXNOdW1iZXIsIGlzT2JqZWN0LCBpc1N0cmluZywgaXNXaW5kb3csIG1ha2VEZXN0cnVjdHVyYWJsZSwgbm9vcCwgbm9ybWFsaXplRGF0ZSwgbm93LCBvYmplY3RQaWNrLCBwYXVzYWJsZUZpbHRlciwgd2F0Y2hQYXVzYWJsZSBhcyBwYXVzYWJsZVdhdGNoLCBwcm9taXNlVGltZW91dCwgcmFuZCwgcmVhY3RpZnksIHJlYWN0aWZ5T2JqZWN0LCByZWFjdGl2ZUNvbXB1dGVkLCByZWFjdGl2ZU9taXQsIHJlYWN0aXZlUGljaywgcmVmQXV0b1Jlc2V0LCByZWZEZWJvdW5jZWQsIHJlZkRlZmF1bHQsIHJlZlRocm90dGxlZCwgcmVmV2l0aENvbnRyb2wsIHJlc29sdmVSZWYsIHJlc29sdmVVbnJlZiwgc2V0LCBzeW5jUmVmLCBzeW5jUmVmcywgdGhyb3R0bGVGaWx0ZXIsIHJlZlRocm90dGxlZCBhcyB0aHJvdHRsZWRSZWYsIHdhdGNoVGhyb3R0bGVkIGFzIHRocm90dGxlZFdhdGNoLCB0aW1lc3RhbXAsIHRvUmVhY3RpdmUsIHRvUmVmcywgdHJ5T25CZWZvcmVNb3VudCwgdHJ5T25CZWZvcmVVbm1vdW50LCB0cnlPbk1vdW50ZWQsIHRyeU9uU2NvcGVEaXNwb3NlLCB0cnlPblVubW91bnRlZCwgdW50aWwsIHVzZUFycmF5RXZlcnksIHVzZUFycmF5RmlsdGVyLCB1c2VBcnJheUZpbmQsIHVzZUFycmF5RmluZEluZGV4LCB1c2VBcnJheUZpbmRMYXN0LCB1c2VBcnJheUpvaW4sIHVzZUFycmF5TWFwLCB1c2VBcnJheVJlZHVjZSwgdXNlQXJyYXlTb21lLCB1c2VBcnJheVVuaXF1ZSwgdXNlQ291bnRlciwgdXNlRGF0ZUZvcm1hdCwgcmVmRGVib3VuY2VkIGFzIHVzZURlYm91bmNlLCB1c2VEZWJvdW5jZUZuLCB1c2VJbnRlcnZhbCwgdXNlSW50ZXJ2YWxGbiwgdXNlTGFzdENoYW5nZWQsIHJlZlRocm90dGxlZCBhcyB1c2VUaHJvdHRsZSwgdXNlVGhyb3R0bGVGbiwgdXNlVGltZW91dCwgdXNlVGltZW91dEZuLCB1c2VUb051bWJlciwgdXNlVG9TdHJpbmcsIHVzZVRvZ2dsZSwgd2F0Y2hBcnJheSwgd2F0Y2hBdE1vc3QsIHdhdGNoRGVib3VuY2VkLCB3YXRjaElnbm9yYWJsZSwgd2F0Y2hPbmNlLCB3YXRjaFBhdXNhYmxlLCB3YXRjaFRocm90dGxlZCwgd2F0Y2hUcmlnZ2VyYWJsZSwgd2F0Y2hXaXRoRmlsdGVyLCB3aGVuZXZlciB9O1xuIiwiaW1wb3J0IHsgbm9vcCwgcmVzb2x2ZVVucmVmLCBpc0NsaWVudCwgaXNTdHJpbmcsIHRyeU9uU2NvcGVEaXNwb3NlLCBpc0lPUywgdHJ5T25Nb3VudGVkLCBjb21wdXRlZFdpdGhDb250cm9sLCBwcm9taXNlVGltZW91dCwgaXNGdW5jdGlvbiwgcmVzb2x2ZVJlZiwgaW5jcmVhc2VXaXRoVW5pdCwgdXNlVGltZW91dEZuLCBwYXVzYWJsZVdhdGNoLCBjcmVhdGVFdmVudEhvb2ssIHRpbWVzdGFtcCwgcGF1c2FibGVGaWx0ZXIsIHdhdGNoSWdub3JhYmxlLCBkZWJvdW5jZUZpbHRlciwgY3JlYXRlRmlsdGVyV3JhcHBlciwgYnlwYXNzRmlsdGVyLCBjcmVhdGVTaW5nbGV0b25Qcm9taXNlLCB0b1JlZnMsIGNvbnRhaW5zUHJvcCwgdW50aWwsIGhhc093biwgdGhyb3R0bGVGaWx0ZXIsIHVzZURlYm91bmNlRm4sIHVzZVRocm90dGxlRm4sIGlzT2JqZWN0LCBpc051bWJlciwgdXNlSW50ZXJ2YWxGbiwgY2xhbXAsIHN5bmNSZWYsIG9iamVjdFBpY2ssIHRyeU9uVW5tb3VudGVkLCB3YXRjaFdpdGhGaWx0ZXIsIGlkZW50aXR5LCBpc0RlZiB9IGZyb20gJ0B2dWV1c2Uvc2hhcmVkJztcbmV4cG9ydCAqIGZyb20gJ0B2dWV1c2Uvc2hhcmVkJztcbmltcG9ydCB7IGlzUmVmLCByZWYsIHNoYWxsb3dSZWYsIHdhdGNoRWZmZWN0LCBjb21wdXRlZCwgaW5qZWN0LCB1bnJlZiwgd2F0Y2gsIGdldEN1cnJlbnRJbnN0YW5jZSwgY3VzdG9tUmVmLCBvblVwZGF0ZWQsIHJlYWN0aXZlLCBuZXh0VGljaywgb25Nb3VudGVkLCBtYXJrUmF3LCByZWFkb25seSwgZ2V0Q3VycmVudFNjb3BlLCBpc1Z1ZTIsIHNldCwgZGVsLCBpc1JlYWRvbmx5LCBvbkJlZm9yZVVwZGF0ZSB9IGZyb20gJ3Z1ZS1kZW1pJztcblxuZnVuY3Rpb24gY29tcHV0ZWRBc3luYyhldmFsdWF0aW9uQ2FsbGJhY2ssIGluaXRpYWxTdGF0ZSwgb3B0aW9uc09yUmVmKSB7XG4gIGxldCBvcHRpb25zO1xuICBpZiAoaXNSZWYob3B0aW9uc09yUmVmKSkge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBldmFsdWF0aW5nOiBvcHRpb25zT3JSZWZcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zT3JSZWYgfHwge307XG4gIH1cbiAgY29uc3Qge1xuICAgIGxhenkgPSBmYWxzZSxcbiAgICBldmFsdWF0aW5nID0gdm9pZCAwLFxuICAgIHNoYWxsb3cgPSBmYWxzZSxcbiAgICBvbkVycm9yID0gbm9vcFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgc3RhcnRlZCA9IHJlZighbGF6eSk7XG4gIGNvbnN0IGN1cnJlbnQgPSBzaGFsbG93ID8gc2hhbGxvd1JlZihpbml0aWFsU3RhdGUpIDogcmVmKGluaXRpYWxTdGF0ZSk7XG4gIGxldCBjb3VudGVyID0gMDtcbiAgd2F0Y2hFZmZlY3QoYXN5bmMgKG9uSW52YWxpZGF0ZSkgPT4ge1xuICAgIGlmICghc3RhcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBjb3VudGVyKys7XG4gICAgY29uc3QgY291bnRlckF0QmVnaW5uaW5nID0gY291bnRlcjtcbiAgICBsZXQgaGFzRmluaXNoZWQgPSBmYWxzZTtcbiAgICBpZiAoZXZhbHVhdGluZykge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgIGV2YWx1YXRpbmcudmFsdWUgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBldmFsdWF0aW9uQ2FsbGJhY2soKGNhbmNlbENhbGxiYWNrKSA9PiB7XG4gICAgICAgIG9uSW52YWxpZGF0ZSgoKSA9PiB7XG4gICAgICAgICAgaWYgKGV2YWx1YXRpbmcpXG4gICAgICAgICAgICBldmFsdWF0aW5nLnZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgaWYgKCFoYXNGaW5pc2hlZClcbiAgICAgICAgICAgIGNhbmNlbENhbGxiYWNrKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBpZiAoY291bnRlckF0QmVnaW5uaW5nID09PSBjb3VudGVyKVxuICAgICAgICBjdXJyZW50LnZhbHVlID0gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG9uRXJyb3IoZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChldmFsdWF0aW5nICYmIGNvdW50ZXJBdEJlZ2lubmluZyA9PT0gY291bnRlcilcbiAgICAgICAgZXZhbHVhdGluZy52YWx1ZSA9IGZhbHNlO1xuICAgICAgaGFzRmluaXNoZWQgPSB0cnVlO1xuICAgIH1cbiAgfSk7XG4gIGlmIChsYXp5KSB7XG4gICAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHN0YXJ0ZWQudmFsdWUgPSB0cnVlO1xuICAgICAgcmV0dXJuIGN1cnJlbnQudmFsdWU7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZWRJbmplY3Qoa2V5LCBvcHRpb25zLCBkZWZhdWx0U291cmNlLCB0cmVhdERlZmF1bHRBc0ZhY3RvcnkpIHtcbiAgbGV0IHNvdXJjZSA9IGluamVjdChrZXkpO1xuICBpZiAoZGVmYXVsdFNvdXJjZSlcbiAgICBzb3VyY2UgPSBpbmplY3Qoa2V5LCBkZWZhdWx0U291cmNlKTtcbiAgaWYgKHRyZWF0RGVmYXVsdEFzRmFjdG9yeSlcbiAgICBzb3VyY2UgPSBpbmplY3Qoa2V5LCBkZWZhdWx0U291cmNlLCB0cmVhdERlZmF1bHRBc0ZhY3RvcnkpO1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBjb21wdXRlZCgoY3R4KSA9PiBvcHRpb25zKHNvdXJjZSwgY3R4KSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbXB1dGVkKHtcbiAgICAgIGdldDogKGN0eCkgPT4gb3B0aW9ucy5nZXQoc291cmNlLCBjdHgpLFxuICAgICAgc2V0OiBvcHRpb25zLnNldFxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IGNyZWF0ZVVucmVmRm4gPSAoZm4pID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJncy5tYXAoKGkpID0+IHVucmVmKGkpKSk7XG4gIH07XG59O1xuXG5mdW5jdGlvbiB1bnJlZkVsZW1lbnQoZWxSZWYpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBwbGFpbiA9IHJlc29sdmVVbnJlZihlbFJlZik7XG4gIHJldHVybiAoX2EgPSBwbGFpbiA9PSBudWxsID8gdm9pZCAwIDogcGxhaW4uJGVsKSAhPSBudWxsID8gX2EgOiBwbGFpbjtcbn1cblxuY29uc3QgZGVmYXVsdFdpbmRvdyA9IGlzQ2xpZW50ID8gd2luZG93IDogdm9pZCAwO1xuY29uc3QgZGVmYXVsdERvY3VtZW50ID0gaXNDbGllbnQgPyB3aW5kb3cuZG9jdW1lbnQgOiB2b2lkIDA7XG5jb25zdCBkZWZhdWx0TmF2aWdhdG9yID0gaXNDbGllbnQgPyB3aW5kb3cubmF2aWdhdG9yIDogdm9pZCAwO1xuY29uc3QgZGVmYXVsdExvY2F0aW9uID0gaXNDbGllbnQgPyB3aW5kb3cubG9jYXRpb24gOiB2b2lkIDA7XG5cbmZ1bmN0aW9uIHVzZUV2ZW50TGlzdGVuZXIoLi4uYXJncykge1xuICBsZXQgdGFyZ2V0O1xuICBsZXQgZXZlbnRzO1xuICBsZXQgbGlzdGVuZXJzO1xuICBsZXQgb3B0aW9ucztcbiAgaWYgKGlzU3RyaW5nKGFyZ3NbMF0pIHx8IEFycmF5LmlzQXJyYXkoYXJnc1swXSkpIHtcbiAgICBbZXZlbnRzLCBsaXN0ZW5lcnMsIG9wdGlvbnNdID0gYXJncztcbiAgICB0YXJnZXQgPSBkZWZhdWx0V2luZG93O1xuICB9IGVsc2Uge1xuICAgIFt0YXJnZXQsIGV2ZW50cywgbGlzdGVuZXJzLCBvcHRpb25zXSA9IGFyZ3M7XG4gIH1cbiAgaWYgKCF0YXJnZXQpXG4gICAgcmV0dXJuIG5vb3A7XG4gIGlmICghQXJyYXkuaXNBcnJheShldmVudHMpKVxuICAgIGV2ZW50cyA9IFtldmVudHNdO1xuICBpZiAoIUFycmF5LmlzQXJyYXkobGlzdGVuZXJzKSlcbiAgICBsaXN0ZW5lcnMgPSBbbGlzdGVuZXJzXTtcbiAgY29uc3QgY2xlYW51cHMgPSBbXTtcbiAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICBjbGVhbnVwcy5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gICAgY2xlYW51cHMubGVuZ3RoID0gMDtcbiAgfTtcbiAgY29uc3QgcmVnaXN0ZXIgPSAoZWwsIGV2ZW50LCBsaXN0ZW5lciwgb3B0aW9uczIpID0+IHtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgb3B0aW9uczIpO1xuICAgIHJldHVybiAoKSA9PiBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgb3B0aW9uczIpO1xuICB9O1xuICBjb25zdCBzdG9wV2F0Y2ggPSB3YXRjaCgoKSA9PiBbdW5yZWZFbGVtZW50KHRhcmdldCksIHJlc29sdmVVbnJlZihvcHRpb25zKV0sIChbZWwsIG9wdGlvbnMyXSkgPT4ge1xuICAgIGNsZWFudXAoKTtcbiAgICBpZiAoIWVsKVxuICAgICAgcmV0dXJuO1xuICAgIGNsZWFudXBzLnB1c2goLi4uZXZlbnRzLmZsYXRNYXAoKGV2ZW50KSA9PiB7XG4gICAgICByZXR1cm4gbGlzdGVuZXJzLm1hcCgobGlzdGVuZXIpID0+IHJlZ2lzdGVyKGVsLCBldmVudCwgbGlzdGVuZXIsIG9wdGlvbnMyKSk7XG4gICAgfSkpO1xuICB9LCB7IGltbWVkaWF0ZTogdHJ1ZSwgZmx1c2g6IFwicG9zdFwiIH0pO1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIHN0b3BXYXRjaCgpO1xuICAgIGNsZWFudXAoKTtcbiAgfTtcbiAgdHJ5T25TY29wZURpc3Bvc2Uoc3RvcCk7XG4gIHJldHVybiBzdG9wO1xufVxuXG5sZXQgX2lPU1dvcmthcm91bmQgPSBmYWxzZTtcbmZ1bmN0aW9uIG9uQ2xpY2tPdXRzaWRlKHRhcmdldCwgaGFuZGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdywgaWdub3JlID0gW10sIGNhcHR1cmUgPSB0cnVlLCBkZXRlY3RJZnJhbWUgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgaWYgKCF3aW5kb3cpXG4gICAgcmV0dXJuO1xuICBpZiAoaXNJT1MgJiYgIV9pT1NXb3JrYXJvdW5kKSB7XG4gICAgX2lPU1dvcmthcm91bmQgPSB0cnVlO1xuICAgIEFycmF5LmZyb20od2luZG93LmRvY3VtZW50LmJvZHkuY2hpbGRyZW4pLmZvckVhY2goKGVsKSA9PiBlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbm9vcCkpO1xuICB9XG4gIGxldCBzaG91bGRMaXN0ZW4gPSB0cnVlO1xuICBjb25zdCBzaG91bGRJZ25vcmUgPSAoZXZlbnQpID0+IHtcbiAgICByZXR1cm4gaWdub3JlLnNvbWUoKHRhcmdldDIpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdGFyZ2V0MiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0YXJnZXQyKSkuc29tZSgoZWwpID0+IGVsID09PSBldmVudC50YXJnZXQgfHwgZXZlbnQuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoZWwpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVsID0gdW5yZWZFbGVtZW50KHRhcmdldDIpO1xuICAgICAgICByZXR1cm4gZWwgJiYgKGV2ZW50LnRhcmdldCA9PT0gZWwgfHwgZXZlbnQuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoZWwpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgbGlzdGVuZXIgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBlbCA9IHVucmVmRWxlbWVudCh0YXJnZXQpO1xuICAgIGlmICghZWwgfHwgZWwgPT09IGV2ZW50LnRhcmdldCB8fCBldmVudC5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhlbCkpXG4gICAgICByZXR1cm47XG4gICAgaWYgKGV2ZW50LmRldGFpbCA9PT0gMClcbiAgICAgIHNob3VsZExpc3RlbiA9ICFzaG91bGRJZ25vcmUoZXZlbnQpO1xuICAgIGlmICghc2hvdWxkTGlzdGVuKSB7XG4gICAgICBzaG91bGRMaXN0ZW4gPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBoYW5kbGVyKGV2ZW50KTtcbiAgfTtcbiAgY29uc3QgY2xlYW51cCA9IFtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJjbGlja1wiLCBsaXN0ZW5lciwgeyBwYXNzaXZlOiB0cnVlLCBjYXB0dXJlIH0pLFxuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcInBvaW50ZXJkb3duXCIsIChlKSA9PiB7XG4gICAgICBjb25zdCBlbCA9IHVucmVmRWxlbWVudCh0YXJnZXQpO1xuICAgICAgaWYgKGVsKVxuICAgICAgICBzaG91bGRMaXN0ZW4gPSAhZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhlbCkgJiYgIXNob3VsZElnbm9yZShlKTtcbiAgICB9LCB7IHBhc3NpdmU6IHRydWUgfSksXG4gICAgZGV0ZWN0SWZyYW1lICYmIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcImJsdXJcIiwgKGV2ZW50KSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBjb25zdCBlbCA9IHVucmVmRWxlbWVudCh0YXJnZXQpO1xuICAgICAgaWYgKCgoX2EgPSB3aW5kb3cuZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnRhZ05hbWUpID09PSBcIklGUkFNRVwiICYmICEoZWwgPT0gbnVsbCA/IHZvaWQgMCA6IGVsLmNvbnRhaW5zKHdpbmRvdy5kb2N1bWVudC5hY3RpdmVFbGVtZW50KSkpXG4gICAgICAgIGhhbmRsZXIoZXZlbnQpO1xuICAgIH0pXG4gIF0uZmlsdGVyKEJvb2xlYW4pO1xuICBjb25zdCBzdG9wID0gKCkgPT4gY2xlYW51cC5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gIHJldHVybiBzdG9wO1xufVxuXG52YXIgX19kZWZQcm9wJG4gPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyQ5ID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgX19nZXRPd25Qcm9wRGVzY3MkOSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzO1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJHAgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSRwID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AkbiA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkbihvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMkbiA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJHAuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcCRuKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scyRwKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyRwKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtJHAuY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wJG4oYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG52YXIgX19zcHJlYWRQcm9wcyQ5ID0gKGEsIGIpID0+IF9fZGVmUHJvcHMkOShhLCBfX2dldE93blByb3BEZXNjcyQ5KGIpKTtcbmNvbnN0IGNyZWF0ZUtleVByZWRpY2F0ZSA9IChrZXlGaWx0ZXIpID0+IHtcbiAgaWYgKHR5cGVvZiBrZXlGaWx0ZXIgPT09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4ga2V5RmlsdGVyO1xuICBlbHNlIGlmICh0eXBlb2Yga2V5RmlsdGVyID09PSBcInN0cmluZ1wiKVxuICAgIHJldHVybiAoZXZlbnQpID0+IGV2ZW50LmtleSA9PT0ga2V5RmlsdGVyO1xuICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGtleUZpbHRlcikpXG4gICAgcmV0dXJuIChldmVudCkgPT4ga2V5RmlsdGVyLmluY2x1ZGVzKGV2ZW50LmtleSk7XG4gIHJldHVybiAoKSA9PiB0cnVlO1xufTtcbmZ1bmN0aW9uIG9uS2V5U3Ryb2tlKC4uLmFyZ3MpIHtcbiAgbGV0IGtleTtcbiAgbGV0IGhhbmRsZXI7XG4gIGxldCBvcHRpb25zID0ge307XG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgIGtleSA9IGFyZ3NbMF07XG4gICAgaGFuZGxlciA9IGFyZ3NbMV07XG4gICAgb3B0aW9ucyA9IGFyZ3NbMl07XG4gIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGtleSA9IHRydWU7XG4gICAgICBoYW5kbGVyID0gYXJnc1swXTtcbiAgICAgIG9wdGlvbnMgPSBhcmdzWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXkgPSBhcmdzWzBdO1xuICAgICAgaGFuZGxlciA9IGFyZ3NbMV07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGtleSA9IHRydWU7XG4gICAgaGFuZGxlciA9IGFyZ3NbMF07XG4gIH1cbiAgY29uc3QgeyB0YXJnZXQgPSBkZWZhdWx0V2luZG93LCBldmVudE5hbWUgPSBcImtleWRvd25cIiwgcGFzc2l2ZSA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICBjb25zdCBwcmVkaWNhdGUgPSBjcmVhdGVLZXlQcmVkaWNhdGUoa2V5KTtcbiAgY29uc3QgbGlzdGVuZXIgPSAoZSkgPT4ge1xuICAgIGlmIChwcmVkaWNhdGUoZSkpXG4gICAgICBoYW5kbGVyKGUpO1xuICB9O1xuICByZXR1cm4gdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIGV2ZW50TmFtZSwgbGlzdGVuZXIsIHBhc3NpdmUpO1xufVxuZnVuY3Rpb24gb25LZXlEb3duKGtleSwgaGFuZGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiBvbktleVN0cm9rZShrZXksIGhhbmRsZXIsIF9fc3ByZWFkUHJvcHMkOShfX3NwcmVhZFZhbHVlcyRuKHt9LCBvcHRpb25zKSwgeyBldmVudE5hbWU6IFwia2V5ZG93blwiIH0pKTtcbn1cbmZ1bmN0aW9uIG9uS2V5UHJlc3NlZChrZXksIGhhbmRsZXIsIG9wdGlvbnMgPSB7fSkge1xuICByZXR1cm4gb25LZXlTdHJva2Uoa2V5LCBoYW5kbGVyLCBfX3NwcmVhZFByb3BzJDkoX19zcHJlYWRWYWx1ZXMkbih7fSwgb3B0aW9ucyksIHsgZXZlbnROYW1lOiBcImtleXByZXNzXCIgfSkpO1xufVxuZnVuY3Rpb24gb25LZXlVcChrZXksIGhhbmRsZXIsIG9wdGlvbnMgPSB7fSkge1xuICByZXR1cm4gb25LZXlTdHJva2Uoa2V5LCBoYW5kbGVyLCBfX3NwcmVhZFByb3BzJDkoX19zcHJlYWRWYWx1ZXMkbih7fSwgb3B0aW9ucyksIHsgZXZlbnROYW1lOiBcImtleXVwXCIgfSkpO1xufVxuXG5jb25zdCBERUZBVUxUX0RFTEFZID0gNTAwO1xuZnVuY3Rpb24gb25Mb25nUHJlc3ModGFyZ2V0LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IGVsZW1lbnRSZWYgPSBjb21wdXRlZCgoKSA9PiB1bnJlZkVsZW1lbnQodGFyZ2V0KSk7XG4gIGxldCB0aW1lb3V0O1xuICBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICBpZiAodGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gb25Eb3duKGV2KSB7XG4gICAgdmFyIF9hMiwgX2IyLCBfYywgX2Q7XG4gICAgaWYgKCgoX2EyID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuc2VsZikgJiYgZXYudGFyZ2V0ICE9PSBlbGVtZW50UmVmLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGNsZWFyKCk7XG4gICAgaWYgKChfYjIgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm1vZGlmaWVycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMi5wcmV2ZW50KVxuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoKF9jID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYy5zdG9wKVxuICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gaGFuZGxlcihldiksIChfZCA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZGVsYXkpICE9IG51bGwgPyBfZCA6IERFRkFVTFRfREVMQVkpO1xuICB9XG4gIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHtcbiAgICBjYXB0dXJlOiAoX2EgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm1vZGlmaWVycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhcHR1cmUsXG4gICAgb25jZTogKF9iID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5vbmNlXG4gIH07XG4gIHVzZUV2ZW50TGlzdGVuZXIoZWxlbWVudFJlZiwgXCJwb2ludGVyZG93blwiLCBvbkRvd24sIGxpc3RlbmVyT3B0aW9ucyk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoZWxlbWVudFJlZiwgXCJwb2ludGVydXBcIiwgY2xlYXIsIGxpc3RlbmVyT3B0aW9ucyk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoZWxlbWVudFJlZiwgXCJwb2ludGVybGVhdmVcIiwgY2xlYXIsIGxpc3RlbmVyT3B0aW9ucyk7XG59XG5cbmNvbnN0IGlzRm9jdXNlZEVsZW1lbnRFZGl0YWJsZSA9ICgpID0+IHtcbiAgY29uc3QgeyBhY3RpdmVFbGVtZW50LCBib2R5IH0gPSBkb2N1bWVudDtcbiAgaWYgKCFhY3RpdmVFbGVtZW50KVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKGFjdGl2ZUVsZW1lbnQgPT09IGJvZHkpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBzd2l0Y2ggKGFjdGl2ZUVsZW1lbnQudGFnTmFtZSkge1xuICAgIGNhc2UgXCJJTlBVVFwiOlxuICAgIGNhc2UgXCJURVhUQVJFQVwiOlxuICAgICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGFjdGl2ZUVsZW1lbnQuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpO1xufTtcbmNvbnN0IGlzVHlwZWRDaGFyVmFsaWQgPSAoe1xuICBrZXlDb2RlLFxuICBtZXRhS2V5LFxuICBjdHJsS2V5LFxuICBhbHRLZXlcbn0pID0+IHtcbiAgaWYgKG1ldGFLZXkgfHwgY3RybEtleSB8fCBhbHRLZXkpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAoa2V5Q29kZSA+PSA0OCAmJiBrZXlDb2RlIDw9IDU3IHx8IGtleUNvZGUgPj0gOTYgJiYga2V5Q29kZSA8PSAxMDUpXG4gICAgcmV0dXJuIHRydWU7XG4gIGlmIChrZXlDb2RlID49IDY1ICYmIGtleUNvZGUgPD0gOTApXG4gICAgcmV0dXJuIHRydWU7XG4gIHJldHVybiBmYWxzZTtcbn07XG5mdW5jdGlvbiBvblN0YXJ0VHlwaW5nKGNhbGxiYWNrLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyBkb2N1bWVudDogZG9jdW1lbnQyID0gZGVmYXVsdERvY3VtZW50IH0gPSBvcHRpb25zO1xuICBjb25zdCBrZXlkb3duID0gKGV2ZW50KSA9PiB7XG4gICAgIWlzRm9jdXNlZEVsZW1lbnRFZGl0YWJsZSgpICYmIGlzVHlwZWRDaGFyVmFsaWQoZXZlbnQpICYmIGNhbGxiYWNrKGV2ZW50KTtcbiAgfTtcbiAgaWYgKGRvY3VtZW50MilcbiAgICB1c2VFdmVudExpc3RlbmVyKGRvY3VtZW50MiwgXCJrZXlkb3duXCIsIGtleWRvd24sIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbn1cblxuZnVuY3Rpb24gdGVtcGxhdGVSZWYoa2V5LCBpbml0aWFsVmFsdWUgPSBudWxsKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGxldCBfdHJpZ2dlciA9ICgpID0+IHtcbiAgfTtcbiAgY29uc3QgZWxlbWVudCA9IGN1c3RvbVJlZigodHJhY2ssIHRyaWdnZXIpID0+IHtcbiAgICBfdHJpZ2dlciA9IHRyaWdnZXI7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdHJhY2soKTtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IGluc3RhbmNlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS5wcm94eSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLiRyZWZzW2tleV0pICE9IG51bGwgPyBfYiA6IGluaXRpYWxWYWx1ZTtcbiAgICAgIH0sXG4gICAgICBzZXQoKSB7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHRyeU9uTW91bnRlZChfdHJpZ2dlcik7XG4gIG9uVXBkYXRlZChfdHJpZ2dlcik7XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5mdW5jdGlvbiB1c2VBY3RpdmVFbGVtZW50KG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdyB9ID0gb3B0aW9ucztcbiAgY29uc3QgZG9jdW1lbnQgPSAoX2EgPSBvcHRpb25zLmRvY3VtZW50KSAhPSBudWxsID8gX2EgOiB3aW5kb3cgPT0gbnVsbCA/IHZvaWQgMCA6IHdpbmRvdy5kb2N1bWVudDtcbiAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGNvbXB1dGVkV2l0aENvbnRyb2woKCkgPT4gbnVsbCwgKCkgPT4gZG9jdW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICBpZiAod2luZG93KSB7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwiYmx1clwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5yZWxhdGVkVGFyZ2V0ICE9PSBudWxsKVxuICAgICAgICByZXR1cm47XG4gICAgICBhY3RpdmVFbGVtZW50LnRyaWdnZXIoKTtcbiAgICB9LCB0cnVlKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJmb2N1c1wiLCBhY3RpdmVFbGVtZW50LnRyaWdnZXIsIHRydWUpO1xuICB9XG4gIHJldHVybiBhY3RpdmVFbGVtZW50O1xufVxuXG5mdW5jdGlvbiB1c2VBc3luY1F1ZXVlKHRhc2tzLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGludGVycnVwdCA9IHRydWUsXG4gICAgb25FcnJvciA9IG5vb3AsXG4gICAgb25GaW5pc2hlZCA9IG5vb3BcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHByb21pc2VTdGF0ZSA9IHtcbiAgICBwZW5kaW5nOiBcInBlbmRpbmdcIixcbiAgICByZWplY3RlZDogXCJyZWplY3RlZFwiLFxuICAgIGZ1bGZpbGxlZDogXCJmdWxmaWxsZWRcIlxuICB9O1xuICBjb25zdCBpbml0aWFsUmVzdWx0ID0gQXJyYXkuZnJvbShuZXcgQXJyYXkodGFza3MubGVuZ3RoKSwgKCkgPT4gKHsgc3RhdGU6IHByb21pc2VTdGF0ZS5wZW5kaW5nLCBkYXRhOiBudWxsIH0pKTtcbiAgY29uc3QgcmVzdWx0ID0gcmVhY3RpdmUoaW5pdGlhbFJlc3VsdCk7XG4gIGNvbnN0IGFjdGl2ZUluZGV4ID0gcmVmKC0xKTtcbiAgaWYgKCF0YXNrcyB8fCB0YXNrcy5sZW5ndGggPT09IDApIHtcbiAgICBvbkZpbmlzaGVkKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGl2ZUluZGV4LFxuICAgICAgcmVzdWx0XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVSZXN1bHQoc3RhdGUsIHJlcykge1xuICAgIGFjdGl2ZUluZGV4LnZhbHVlKys7XG4gICAgcmVzdWx0W2FjdGl2ZUluZGV4LnZhbHVlXS5kYXRhID0gcmVzO1xuICAgIHJlc3VsdFthY3RpdmVJbmRleC52YWx1ZV0uc3RhdGUgPSBzdGF0ZTtcbiAgfVxuICB0YXNrcy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcbiAgICByZXR1cm4gcHJldi50aGVuKChwcmV2UmVzKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBpZiAoKChfYSA9IHJlc3VsdFthY3RpdmVJbmRleC52YWx1ZV0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5zdGF0ZSkgPT09IHByb21pc2VTdGF0ZS5yZWplY3RlZCAmJiBpbnRlcnJ1cHQpIHtcbiAgICAgICAgb25GaW5pc2hlZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gY3VycihwcmV2UmVzKS50aGVuKChjdXJyZW50UmVzKSA9PiB7XG4gICAgICAgIHVwZGF0ZVJlc3VsdChwcm9taXNlU3RhdGUuZnVsZmlsbGVkLCBjdXJyZW50UmVzKTtcbiAgICAgICAgYWN0aXZlSW5kZXgudmFsdWUgPT09IHRhc2tzLmxlbmd0aCAtIDEgJiYgb25GaW5pc2hlZCgpO1xuICAgICAgICByZXR1cm4gY3VycmVudFJlcztcbiAgICAgIH0pO1xuICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICB1cGRhdGVSZXN1bHQocHJvbWlzZVN0YXRlLnJlamVjdGVkLCBlKTtcbiAgICAgIG9uRXJyb3IoKTtcbiAgICAgIHJldHVybiBlO1xuICAgIH0pO1xuICB9LCBQcm9taXNlLnJlc29sdmUoKSk7XG4gIHJldHVybiB7XG4gICAgYWN0aXZlSW5kZXgsXG4gICAgcmVzdWx0XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUFzeW5jU3RhdGUocHJvbWlzZSwgaW5pdGlhbFN0YXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIGRlbGF5ID0gMCxcbiAgICBvbkVycm9yID0gbm9vcCxcbiAgICBvblN1Y2Nlc3MgPSBub29wLFxuICAgIHJlc2V0T25FeGVjdXRlID0gdHJ1ZSxcbiAgICBzaGFsbG93ID0gdHJ1ZSxcbiAgICB0aHJvd0Vycm9yXG4gIH0gPSBvcHRpb25zICE9IG51bGwgPyBvcHRpb25zIDoge307XG4gIGNvbnN0IHN0YXRlID0gc2hhbGxvdyA/IHNoYWxsb3dSZWYoaW5pdGlhbFN0YXRlKSA6IHJlZihpbml0aWFsU3RhdGUpO1xuICBjb25zdCBpc1JlYWR5ID0gcmVmKGZhbHNlKTtcbiAgY29uc3QgaXNMb2FkaW5nID0gcmVmKGZhbHNlKTtcbiAgY29uc3QgZXJyb3IgPSByZWYodm9pZCAwKTtcbiAgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZShkZWxheTIgPSAwLCAuLi5hcmdzKSB7XG4gICAgaWYgKHJlc2V0T25FeGVjdXRlKVxuICAgICAgc3RhdGUudmFsdWUgPSBpbml0aWFsU3RhdGU7XG4gICAgZXJyb3IudmFsdWUgPSB2b2lkIDA7XG4gICAgaXNSZWFkeS52YWx1ZSA9IGZhbHNlO1xuICAgIGlzTG9hZGluZy52YWx1ZSA9IHRydWU7XG4gICAgaWYgKGRlbGF5MiA+IDApXG4gICAgICBhd2FpdCBwcm9taXNlVGltZW91dChkZWxheTIpO1xuICAgIGNvbnN0IF9wcm9taXNlID0gdHlwZW9mIHByb21pc2UgPT09IFwiZnVuY3Rpb25cIiA/IHByb21pc2UoLi4uYXJncykgOiBwcm9taXNlO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgX3Byb21pc2U7XG4gICAgICBzdGF0ZS52YWx1ZSA9IGRhdGE7XG4gICAgICBpc1JlYWR5LnZhbHVlID0gdHJ1ZTtcbiAgICAgIG9uU3VjY2VzcyhkYXRhKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlcnJvci52YWx1ZSA9IGU7XG4gICAgICBvbkVycm9yKGUpO1xuICAgICAgaWYgKHRocm93RXJyb3IpXG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0xvYWRpbmcudmFsdWUgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlLnZhbHVlO1xuICB9XG4gIGlmIChpbW1lZGlhdGUpXG4gICAgZXhlY3V0ZShkZWxheSk7XG4gIHJldHVybiB7XG4gICAgc3RhdGUsXG4gICAgaXNSZWFkeSxcbiAgICBpc0xvYWRpbmcsXG4gICAgZXJyb3IsXG4gICAgZXhlY3V0ZVxuICB9O1xufVxuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgYXJyYXk6ICh2KSA9PiBKU09OLnN0cmluZ2lmeSh2KSxcbiAgb2JqZWN0OiAodikgPT4gSlNPTi5zdHJpbmdpZnkodiksXG4gIHNldDogKHYpID0+IEpTT04uc3RyaW5naWZ5KEFycmF5LmZyb20odikpLFxuICBtYXA6ICh2KSA9PiBKU09OLnN0cmluZ2lmeShPYmplY3QuZnJvbUVudHJpZXModikpLFxuICBudWxsOiAoKSA9PiBcIlwiXG59O1xuZnVuY3Rpb24gZ2V0RGVmYXVsdFNlcmlhbGl6YXRpb24odGFyZ2V0KSB7XG4gIGlmICghdGFyZ2V0KVxuICAgIHJldHVybiBkZWZhdWx0cy5udWxsO1xuICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgTWFwKVxuICAgIHJldHVybiBkZWZhdWx0cy5tYXA7XG4gIGVsc2UgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFNldClcbiAgICByZXR1cm4gZGVmYXVsdHMuc2V0O1xuICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpXG4gICAgcmV0dXJuIGRlZmF1bHRzLmFycmF5O1xuICBlbHNlXG4gICAgcmV0dXJuIGRlZmF1bHRzLm9iamVjdDtcbn1cblxuZnVuY3Rpb24gdXNlQmFzZTY0KHRhcmdldCwgb3B0aW9ucykge1xuICBjb25zdCBiYXNlNjQgPSByZWYoXCJcIik7XG4gIGNvbnN0IHByb21pc2UgPSByZWYoKTtcbiAgZnVuY3Rpb24gZXhlY3V0ZSgpIHtcbiAgICBpZiAoIWlzQ2xpZW50KVxuICAgICAgcmV0dXJuO1xuICAgIHByb21pc2UudmFsdWUgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBfdGFyZ2V0ID0gcmVzb2x2ZVVucmVmKHRhcmdldCk7XG4gICAgICAgIGlmIChfdGFyZ2V0ID09IG51bGwpIHtcbiAgICAgICAgICByZXNvbHZlKFwiXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGFyZ2V0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgcmVzb2x2ZShibG9iVG9CYXNlNjQobmV3IEJsb2IoW190YXJnZXRdLCB7IHR5cGU6IFwidGV4dC9wbGFpblwiIH0pKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoX3RhcmdldCBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgICByZXNvbHZlKGJsb2JUb0Jhc2U2NChfdGFyZ2V0KSk7XG4gICAgICAgIH0gZWxzZSBpZiAoX3RhcmdldCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgcmVzb2x2ZSh3aW5kb3cuYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLm5ldyBVaW50OEFycmF5KF90YXJnZXQpKSkpO1xuICAgICAgICB9IGVsc2UgaWYgKF90YXJnZXQgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICAgIHJlc29sdmUoX3RhcmdldC50b0RhdGFVUkwob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy50eXBlLCBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnF1YWxpdHkpKTtcbiAgICAgICAgfSBlbHNlIGlmIChfdGFyZ2V0IGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICAgIGNvbnN0IGltZyA9IF90YXJnZXQuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgICAgICBpbWcuY3Jvc3NPcmlnaW4gPSBcIkFub255bW91c1wiO1xuICAgICAgICAgIGltZ0xvYWRlZChpbWcpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgcmVzb2x2ZShjYW52YXMudG9EYXRhVVJMKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMudHlwZSwgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5xdWFsaXR5KSk7XG4gICAgICAgICAgfSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgX3RhcmdldCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIGNvbnN0IF9zZXJpYWxpemVGbiA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnNlcmlhbGl6ZXIpIHx8IGdldERlZmF1bHRTZXJpYWxpemF0aW9uKF90YXJnZXQpO1xuICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBfc2VyaWFsaXplRm4oX3RhcmdldCk7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoYmxvYlRvQmFzZTY0KG5ldyBCbG9iKFtzZXJpYWxpemVkXSwgeyB0eXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9KSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJ0YXJnZXQgaXMgdW5zdXBwb3J0ZWQgdHlwZXNcIikpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHByb21pc2UudmFsdWUudGhlbigocmVzKSA9PiBiYXNlNjQudmFsdWUgPSByZXMpO1xuICAgIHJldHVybiBwcm9taXNlLnZhbHVlO1xuICB9XG4gIGlmIChpc1JlZih0YXJnZXQpIHx8IGlzRnVuY3Rpb24odGFyZ2V0KSlcbiAgICB3YXRjaCh0YXJnZXQsIGV4ZWN1dGUsIHsgaW1tZWRpYXRlOiB0cnVlIH0pO1xuICBlbHNlXG4gICAgZXhlY3V0ZSgpO1xuICByZXR1cm4ge1xuICAgIGJhc2U2NCxcbiAgICBwcm9taXNlLFxuICAgIGV4ZWN1dGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGltZ0xvYWRlZChpbWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBpZiAoIWltZy5jb21wbGV0ZSkge1xuICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfTtcbiAgICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGJsb2JUb0Jhc2U2NChibG9iKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgZnIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIGZyLm9ubG9hZCA9IChlKSA9PiB7XG4gICAgICByZXNvbHZlKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgfTtcbiAgICBmci5vbmVycm9yID0gcmVqZWN0O1xuICAgIGZyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VTdXBwb3J0ZWQoY2FsbGJhY2ssIHN5bmMgPSBmYWxzZSkge1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHJlZigpO1xuICBjb25zdCB1cGRhdGUgPSAoKSA9PiBpc1N1cHBvcnRlZC52YWx1ZSA9IEJvb2xlYW4oY2FsbGJhY2soKSk7XG4gIHVwZGF0ZSgpO1xuICB0cnlPbk1vdW50ZWQodXBkYXRlLCBzeW5jKTtcbiAgcmV0dXJuIGlzU3VwcG9ydGVkO1xufVxuXG5mdW5jdGlvbiB1c2VCYXR0ZXJ5KHsgbmF2aWdhdG9yID0gZGVmYXVsdE5hdmlnYXRvciB9ID0ge30pIHtcbiAgY29uc3QgZXZlbnRzID0gW1wiY2hhcmdpbmdjaGFuZ2VcIiwgXCJjaGFyZ2luZ3RpbWVjaGFuZ2VcIiwgXCJkaXNjaGFyZ2luZ3RpbWVjaGFuZ2VcIiwgXCJsZXZlbGNoYW5nZVwiXTtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gbmF2aWdhdG9yICYmIFwiZ2V0QmF0dGVyeVwiIGluIG5hdmlnYXRvcik7XG4gIGNvbnN0IGNoYXJnaW5nID0gcmVmKGZhbHNlKTtcbiAgY29uc3QgY2hhcmdpbmdUaW1lID0gcmVmKDApO1xuICBjb25zdCBkaXNjaGFyZ2luZ1RpbWUgPSByZWYoMCk7XG4gIGNvbnN0IGxldmVsID0gcmVmKDEpO1xuICBsZXQgYmF0dGVyeTtcbiAgZnVuY3Rpb24gdXBkYXRlQmF0dGVyeUluZm8oKSB7XG4gICAgY2hhcmdpbmcudmFsdWUgPSB0aGlzLmNoYXJnaW5nO1xuICAgIGNoYXJnaW5nVGltZS52YWx1ZSA9IHRoaXMuY2hhcmdpbmdUaW1lIHx8IDA7XG4gICAgZGlzY2hhcmdpbmdUaW1lLnZhbHVlID0gdGhpcy5kaXNjaGFyZ2luZ1RpbWUgfHwgMDtcbiAgICBsZXZlbC52YWx1ZSA9IHRoaXMubGV2ZWw7XG4gIH1cbiAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgbmF2aWdhdG9yLmdldEJhdHRlcnkoKS50aGVuKChfYmF0dGVyeSkgPT4ge1xuICAgICAgYmF0dGVyeSA9IF9iYXR0ZXJ5O1xuICAgICAgdXBkYXRlQmF0dGVyeUluZm8uY2FsbChiYXR0ZXJ5KTtcbiAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgZXZlbnRzKVxuICAgICAgICB1c2VFdmVudExpc3RlbmVyKGJhdHRlcnksIGV2ZW50LCB1cGRhdGVCYXR0ZXJ5SW5mbywgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgY2hhcmdpbmcsXG4gICAgY2hhcmdpbmdUaW1lLFxuICAgIGRpc2NoYXJnaW5nVGltZSxcbiAgICBsZXZlbFxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VCbHVldG9vdGgob3B0aW9ucykge1xuICBsZXQge1xuICAgIGFjY2VwdEFsbERldmljZXMgPSBmYWxzZVxuICB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3Qge1xuICAgIGZpbHRlcnMgPSB2b2lkIDAsXG4gICAgb3B0aW9uYWxTZXJ2aWNlcyA9IHZvaWQgMCxcbiAgICBuYXZpZ2F0b3IgPSBkZWZhdWx0TmF2aWdhdG9yXG4gIH0gPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiBuYXZpZ2F0b3IgJiYgXCJibHVldG9vdGhcIiBpbiBuYXZpZ2F0b3IpO1xuICBjb25zdCBkZXZpY2UgPSBzaGFsbG93UmVmKHZvaWQgMCk7XG4gIGNvbnN0IGVycm9yID0gc2hhbGxvd1JlZihudWxsKTtcbiAgd2F0Y2goZGV2aWNlLCAoKSA9PiB7XG4gICAgY29ubmVjdFRvQmx1ZXRvb3RoR0FUVFNlcnZlcigpO1xuICB9KTtcbiAgYXN5bmMgZnVuY3Rpb24gcmVxdWVzdERldmljZSgpIHtcbiAgICBpZiAoIWlzU3VwcG9ydGVkLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGVycm9yLnZhbHVlID0gbnVsbDtcbiAgICBpZiAoZmlsdGVycyAmJiBmaWx0ZXJzLmxlbmd0aCA+IDApXG4gICAgICBhY2NlcHRBbGxEZXZpY2VzID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgIGRldmljZS52YWx1ZSA9IGF3YWl0IChuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5ibHVldG9vdGgucmVxdWVzdERldmljZSh7XG4gICAgICAgIGFjY2VwdEFsbERldmljZXMsXG4gICAgICAgIGZpbHRlcnMsXG4gICAgICAgIG9wdGlvbmFsU2VydmljZXNcbiAgICAgIH0pKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xuICAgIH1cbiAgfVxuICBjb25zdCBzZXJ2ZXIgPSByZWYoKTtcbiAgY29uc3QgaXNDb25uZWN0ZWQgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoKF9hID0gc2VydmVyLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY29ubmVjdGVkKSB8fCBmYWxzZTtcbiAgfSk7XG4gIGFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RUb0JsdWV0b290aEdBVFRTZXJ2ZXIoKSB7XG4gICAgZXJyb3IudmFsdWUgPSBudWxsO1xuICAgIGlmIChkZXZpY2UudmFsdWUgJiYgZGV2aWNlLnZhbHVlLmdhdHQpIHtcbiAgICAgIGRldmljZS52YWx1ZS5hZGRFdmVudExpc3RlbmVyKFwiZ2F0dHNlcnZlcmRpc2Nvbm5lY3RlZFwiLCAoKSA9PiB7XG4gICAgICB9KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNlcnZlci52YWx1ZSA9IGF3YWl0IGRldmljZS52YWx1ZS5nYXR0LmNvbm5lY3QoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdHJ5T25Nb3VudGVkKCgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGRldmljZS52YWx1ZSlcbiAgICAgIChfYSA9IGRldmljZS52YWx1ZS5nYXR0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuY29ubmVjdCgpO1xuICB9KTtcbiAgdHJ5T25TY29wZURpc3Bvc2UoKCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpZiAoZGV2aWNlLnZhbHVlKVxuICAgICAgKF9hID0gZGV2aWNlLnZhbHVlLmdhdHQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kaXNjb25uZWN0KCk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGlzQ29ubmVjdGVkLFxuICAgIGRldmljZSxcbiAgICByZXF1ZXN0RGV2aWNlLFxuICAgIHNlcnZlcixcbiAgICBlcnJvclxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VNZWRpYVF1ZXJ5KHF1ZXJ5LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93IH0gPSBvcHRpb25zO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB3aW5kb3cgJiYgXCJtYXRjaE1lZGlhXCIgaW4gd2luZG93ICYmIHR5cGVvZiB3aW5kb3cubWF0Y2hNZWRpYSA9PT0gXCJmdW5jdGlvblwiKTtcbiAgbGV0IG1lZGlhUXVlcnk7XG4gIGNvbnN0IG1hdGNoZXMgPSByZWYoZmFsc2UpO1xuICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgIGlmICghbWVkaWFRdWVyeSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoXCJyZW1vdmVFdmVudExpc3RlbmVyXCIgaW4gbWVkaWFRdWVyeSlcbiAgICAgIG1lZGlhUXVlcnkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCB1cGRhdGUpO1xuICAgIGVsc2VcbiAgICAgIG1lZGlhUXVlcnkucmVtb3ZlTGlzdGVuZXIodXBkYXRlKTtcbiAgfTtcbiAgY29uc3QgdXBkYXRlID0gKCkgPT4ge1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgY2xlYW51cCgpO1xuICAgIG1lZGlhUXVlcnkgPSB3aW5kb3cubWF0Y2hNZWRpYShyZXNvbHZlUmVmKHF1ZXJ5KS52YWx1ZSk7XG4gICAgbWF0Y2hlcy52YWx1ZSA9IG1lZGlhUXVlcnkubWF0Y2hlcztcbiAgICBpZiAoXCJhZGRFdmVudExpc3RlbmVyXCIgaW4gbWVkaWFRdWVyeSlcbiAgICAgIG1lZGlhUXVlcnkuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCB1cGRhdGUpO1xuICAgIGVsc2VcbiAgICAgIG1lZGlhUXVlcnkuYWRkTGlzdGVuZXIodXBkYXRlKTtcbiAgfTtcbiAgd2F0Y2hFZmZlY3QodXBkYXRlKTtcbiAgdHJ5T25TY29wZURpc3Bvc2UoKCkgPT4gY2xlYW51cCgpKTtcbiAgcmV0dXJuIG1hdGNoZXM7XG59XG5cbmNvbnN0IGJyZWFrcG9pbnRzVGFpbHdpbmQgPSB7XG4gIFwic21cIjogNjQwLFxuICBcIm1kXCI6IDc2OCxcbiAgXCJsZ1wiOiAxMDI0LFxuICBcInhsXCI6IDEyODAsXG4gIFwiMnhsXCI6IDE1MzZcbn07XG5jb25zdCBicmVha3BvaW50c0Jvb3RzdHJhcFY1ID0ge1xuICBzbTogNTc2LFxuICBtZDogNzY4LFxuICBsZzogOTkyLFxuICB4bDogMTIwMCxcbiAgeHhsOiAxNDAwXG59O1xuY29uc3QgYnJlYWtwb2ludHNWdWV0aWZ5ID0ge1xuICB4czogNjAwLFxuICBzbTogOTYwLFxuICBtZDogMTI2NCxcbiAgbGc6IDE5MDRcbn07XG5jb25zdCBicmVha3BvaW50c0FudERlc2lnbiA9IHtcbiAgeHM6IDQ4MCxcbiAgc206IDU3NixcbiAgbWQ6IDc2OCxcbiAgbGc6IDk5MixcbiAgeGw6IDEyMDAsXG4gIHh4bDogMTYwMFxufTtcbmNvbnN0IGJyZWFrcG9pbnRzUXVhc2FyID0ge1xuICB4czogNjAwLFxuICBzbTogMTAyNCxcbiAgbWQ6IDE0NDAsXG4gIGxnOiAxOTIwXG59O1xuY29uc3QgYnJlYWtwb2ludHNTZW1hdGljID0ge1xuICBtb2JpbGVTOiAzMjAsXG4gIG1vYmlsZU06IDM3NSxcbiAgbW9iaWxlTDogNDI1LFxuICB0YWJsZXQ6IDc2OCxcbiAgbGFwdG9wOiAxMDI0LFxuICBsYXB0b3BMOiAxNDQwLFxuICBkZXNrdG9wNEs6IDI1NjBcbn07XG5jb25zdCBicmVha3BvaW50c01hc3RlckNzcyA9IHtcbiAgXCIzeHNcIjogMzYwLFxuICBcIjJ4c1wiOiA0ODAsXG4gIFwieHNcIjogNjAwLFxuICBcInNtXCI6IDc2OCxcbiAgXCJtZFwiOiAxMDI0LFxuICBcImxnXCI6IDEyODAsXG4gIFwieGxcIjogMTQ0MCxcbiAgXCIyeGxcIjogMTYwMCxcbiAgXCIzeGxcIjogMTkyMCxcbiAgXCI0eGxcIjogMjU2MFxufTtcblxudmFyIF9fZGVmUHJvcCRtID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJG8gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSRvID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AkbSA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkbShvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMkbSA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJG8uY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcCRtKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scyRvKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyRvKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtJG8uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wJG0oYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG5mdW5jdGlvbiB1c2VCcmVha3BvaW50cyhicmVha3BvaW50cywgb3B0aW9ucyA9IHt9KSB7XG4gIGZ1bmN0aW9uIGdldFZhbHVlKGssIGRlbHRhKSB7XG4gICAgbGV0IHYgPSBicmVha3BvaW50c1trXTtcbiAgICBpZiAoZGVsdGEgIT0gbnVsbClcbiAgICAgIHYgPSBpbmNyZWFzZVdpdGhVbml0KHYsIGRlbHRhKTtcbiAgICBpZiAodHlwZW9mIHYgPT09IFwibnVtYmVyXCIpXG4gICAgICB2ID0gYCR7dn1weGA7XG4gICAgcmV0dXJuIHY7XG4gIH1cbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93IH0gPSBvcHRpb25zO1xuICBmdW5jdGlvbiBtYXRjaChxdWVyeSkge1xuICAgIGlmICghd2luZG93KVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYShxdWVyeSkubWF0Y2hlcztcbiAgfVxuICBjb25zdCBncmVhdGVyT3JFcXVhbCA9IChrKSA9PiB7XG4gICAgcmV0dXJuIHVzZU1lZGlhUXVlcnkoYChtaW4td2lkdGg6ICR7Z2V0VmFsdWUoayl9KWAsIG9wdGlvbnMpO1xuICB9O1xuICBjb25zdCBzaG9ydGN1dE1ldGhvZHMgPSBPYmplY3Qua2V5cyhicmVha3BvaW50cykucmVkdWNlKChzaG9ydGN1dHMsIGspID0+IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2hvcnRjdXRzLCBrLCB7XG4gICAgICBnZXQ6ICgpID0+IGdyZWF0ZXJPckVxdWFsKGspLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBzaG9ydGN1dHM7XG4gIH0sIHt9KTtcbiAgcmV0dXJuIF9fc3ByZWFkVmFsdWVzJG0oe1xuICAgIGdyZWF0ZXIoaykge1xuICAgICAgcmV0dXJuIHVzZU1lZGlhUXVlcnkoYChtaW4td2lkdGg6ICR7Z2V0VmFsdWUoaywgMC4xKX0pYCwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBncmVhdGVyT3JFcXVhbCxcbiAgICBzbWFsbGVyKGspIHtcbiAgICAgIHJldHVybiB1c2VNZWRpYVF1ZXJ5KGAobWF4LXdpZHRoOiAke2dldFZhbHVlKGssIC0wLjEpfSlgLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIHNtYWxsZXJPckVxdWFsKGspIHtcbiAgICAgIHJldHVybiB1c2VNZWRpYVF1ZXJ5KGAobWF4LXdpZHRoOiAke2dldFZhbHVlKGspfSlgLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGJldHdlZW4oYSwgYikge1xuICAgICAgcmV0dXJuIHVzZU1lZGlhUXVlcnkoYChtaW4td2lkdGg6ICR7Z2V0VmFsdWUoYSl9KSBhbmQgKG1heC13aWR0aDogJHtnZXRWYWx1ZShiLCAtMC4xKX0pYCwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBpc0dyZWF0ZXIoaykge1xuICAgICAgcmV0dXJuIG1hdGNoKGAobWluLXdpZHRoOiAke2dldFZhbHVlKGssIDAuMSl9KWApO1xuICAgIH0sXG4gICAgaXNHcmVhdGVyT3JFcXVhbChrKSB7XG4gICAgICByZXR1cm4gbWF0Y2goYChtaW4td2lkdGg6ICR7Z2V0VmFsdWUoayl9KWApO1xuICAgIH0sXG4gICAgaXNTbWFsbGVyKGspIHtcbiAgICAgIHJldHVybiBtYXRjaChgKG1heC13aWR0aDogJHtnZXRWYWx1ZShrLCAtMC4xKX0pYCk7XG4gICAgfSxcbiAgICBpc1NtYWxsZXJPckVxdWFsKGspIHtcbiAgICAgIHJldHVybiBtYXRjaChgKG1heC13aWR0aDogJHtnZXRWYWx1ZShrKX0pYCk7XG4gICAgfSxcbiAgICBpc0luQmV0d2VlbihhLCBiKSB7XG4gICAgICByZXR1cm4gbWF0Y2goYChtaW4td2lkdGg6ICR7Z2V0VmFsdWUoYSl9KSBhbmQgKG1heC13aWR0aDogJHtnZXRWYWx1ZShiLCAtMC4xKX0pYCk7XG4gICAgfVxuICB9LCBzaG9ydGN1dE1ldGhvZHMpO1xufVxuXG5jb25zdCB1c2VCcm9hZGNhc3RDaGFubmVsID0gKG9wdGlvbnMpID0+IHtcbiAgY29uc3Qge1xuICAgIG5hbWUsXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gd2luZG93ICYmIFwiQnJvYWRjYXN0Q2hhbm5lbFwiIGluIHdpbmRvdyk7XG4gIGNvbnN0IGlzQ2xvc2VkID0gcmVmKGZhbHNlKTtcbiAgY29uc3QgY2hhbm5lbCA9IHJlZigpO1xuICBjb25zdCBkYXRhID0gcmVmKCk7XG4gIGNvbnN0IGVycm9yID0gcmVmKG51bGwpO1xuICBjb25zdCBwb3N0ID0gKGRhdGEyKSA9PiB7XG4gICAgaWYgKGNoYW5uZWwudmFsdWUpXG4gICAgICBjaGFubmVsLnZhbHVlLnBvc3RNZXNzYWdlKGRhdGEyKTtcbiAgfTtcbiAgY29uc3QgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKGNoYW5uZWwudmFsdWUpXG4gICAgICBjaGFubmVsLnZhbHVlLmNsb3NlKCk7XG4gICAgaXNDbG9zZWQudmFsdWUgPSB0cnVlO1xuICB9O1xuICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpIHtcbiAgICB0cnlPbk1vdW50ZWQoKCkgPT4ge1xuICAgICAgZXJyb3IudmFsdWUgPSBudWxsO1xuICAgICAgY2hhbm5lbC52YWx1ZSA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKG5hbWUpO1xuICAgICAgY2hhbm5lbC52YWx1ZS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoZSkgPT4ge1xuICAgICAgICBkYXRhLnZhbHVlID0gZS5kYXRhO1xuICAgICAgfSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgY2hhbm5lbC52YWx1ZS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZWVycm9yXCIsIChlKSA9PiB7XG4gICAgICAgIGVycm9yLnZhbHVlID0gZTtcbiAgICAgIH0sIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgIGNoYW5uZWwudmFsdWUuYWRkRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsICgpID0+IHtcbiAgICAgICAgaXNDbG9zZWQudmFsdWUgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgdHJ5T25TY29wZURpc3Bvc2UoKCkgPT4ge1xuICAgIGNsb3NlKCk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGNoYW5uZWwsXG4gICAgZGF0YSxcbiAgICBwb3N0LFxuICAgIGNsb3NlLFxuICAgIGVycm9yLFxuICAgIGlzQ2xvc2VkXG4gIH07XG59O1xuXG5mdW5jdGlvbiB1c2VCcm93c2VyTG9jYXRpb24oeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93IH0gPSB7fSkge1xuICBjb25zdCBidWlsZFN0YXRlID0gKHRyaWdnZXIpID0+IHtcbiAgICBjb25zdCB7IHN0YXRlOiBzdGF0ZTIsIGxlbmd0aCB9ID0gKHdpbmRvdyA9PSBudWxsID8gdm9pZCAwIDogd2luZG93Lmhpc3RvcnkpIHx8IHt9O1xuICAgIGNvbnN0IHsgaGFzaCwgaG9zdCwgaG9zdG5hbWUsIGhyZWYsIG9yaWdpbiwgcGF0aG5hbWUsIHBvcnQsIHByb3RvY29sLCBzZWFyY2ggfSA9ICh3aW5kb3cgPT0gbnVsbCA/IHZvaWQgMCA6IHdpbmRvdy5sb2NhdGlvbikgfHwge307XG4gICAgcmV0dXJuIHtcbiAgICAgIHRyaWdnZXIsXG4gICAgICBzdGF0ZTogc3RhdGUyLFxuICAgICAgbGVuZ3RoLFxuICAgICAgaGFzaCxcbiAgICAgIGhvc3QsXG4gICAgICBob3N0bmFtZSxcbiAgICAgIGhyZWYsXG4gICAgICBvcmlnaW4sXG4gICAgICBwYXRobmFtZSxcbiAgICAgIHBvcnQsXG4gICAgICBwcm90b2NvbCxcbiAgICAgIHNlYXJjaFxuICAgIH07XG4gIH07XG4gIGNvbnN0IHN0YXRlID0gcmVmKGJ1aWxkU3RhdGUoXCJsb2FkXCIpKTtcbiAgaWYgKHdpbmRvdykge1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcInBvcHN0YXRlXCIsICgpID0+IHN0YXRlLnZhbHVlID0gYnVpbGRTdGF0ZShcInBvcHN0YXRlXCIpLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwiaGFzaGNoYW5nZVwiLCAoKSA9PiBzdGF0ZS52YWx1ZSA9IGJ1aWxkU3RhdGUoXCJoYXNoY2hhbmdlXCIpLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5mdW5jdGlvbiB1c2VDYWNoZWQocmVmVmFsdWUsIGNvbXBhcmF0b3IgPSAoYSwgYikgPT4gYSA9PT0gYiwgd2F0Y2hPcHRpb25zKSB7XG4gIGNvbnN0IGNhY2hlZFZhbHVlID0gcmVmKHJlZlZhbHVlLnZhbHVlKTtcbiAgd2F0Y2goKCkgPT4gcmVmVmFsdWUudmFsdWUsICh2YWx1ZSkgPT4ge1xuICAgIGlmICghY29tcGFyYXRvcih2YWx1ZSwgY2FjaGVkVmFsdWUudmFsdWUpKVxuICAgICAgY2FjaGVkVmFsdWUudmFsdWUgPSB2YWx1ZTtcbiAgfSwgd2F0Y2hPcHRpb25zKTtcbiAgcmV0dXJuIGNhY2hlZFZhbHVlO1xufVxuXG5mdW5jdGlvbiB1c2VDbGlwYm9hcmQob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBuYXZpZ2F0b3IgPSBkZWZhdWx0TmF2aWdhdG9yLFxuICAgIHJlYWQgPSBmYWxzZSxcbiAgICBzb3VyY2UsXG4gICAgY29waWVkRHVyaW5nID0gMTUwMCxcbiAgICBsZWdhY3kgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgZXZlbnRzID0gW1wiY29weVwiLCBcImN1dFwiXTtcbiAgY29uc3QgaXNDbGlwYm9hcmRBcGlTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gbmF2aWdhdG9yICYmIFwiY2xpcGJvYXJkXCIgaW4gbmF2aWdhdG9yKTtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSBjb21wdXRlZCgoKSA9PiBpc0NsaXBib2FyZEFwaVN1cHBvcnRlZC52YWx1ZSB8fCBsZWdhY3kpO1xuICBjb25zdCB0ZXh0ID0gcmVmKFwiXCIpO1xuICBjb25zdCBjb3BpZWQgPSByZWYoZmFsc2UpO1xuICBjb25zdCB0aW1lb3V0ID0gdXNlVGltZW91dEZuKCgpID0+IGNvcGllZC52YWx1ZSA9IGZhbHNlLCBjb3BpZWREdXJpbmcpO1xuICBmdW5jdGlvbiB1cGRhdGVUZXh0KCkge1xuICAgIGlmIChpc0NsaXBib2FyZEFwaVN1cHBvcnRlZC52YWx1ZSkge1xuICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgICAgIHRleHQudmFsdWUgPSB2YWx1ZTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZXh0LnZhbHVlID0gbGVnYWN5UmVhZCgpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUgJiYgcmVhZCkge1xuICAgIGZvciAoY29uc3QgZXZlbnQgb2YgZXZlbnRzKVxuICAgICAgdXNlRXZlbnRMaXN0ZW5lcihldmVudCwgdXBkYXRlVGV4dCk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gY29weSh2YWx1ZSA9IHJlc29sdmVVbnJlZihzb3VyY2UpKSB7XG4gICAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlICYmIHZhbHVlICE9IG51bGwpIHtcbiAgICAgIGlmIChpc0NsaXBib2FyZEFwaVN1cHBvcnRlZC52YWx1ZSlcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodmFsdWUpO1xuICAgICAgZWxzZVxuICAgICAgICBsZWdhY3lDb3B5KHZhbHVlKTtcbiAgICAgIHRleHQudmFsdWUgPSB2YWx1ZTtcbiAgICAgIGNvcGllZC52YWx1ZSA9IHRydWU7XG4gICAgICB0aW1lb3V0LnN0YXJ0KCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGxlZ2FjeUNvcHkodmFsdWUpIHtcbiAgICBjb25zdCB0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICB0YS52YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6IFwiXCI7XG4gICAgdGEuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgdGEuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGEpO1xuICAgIHRhLnNlbGVjdCgpO1xuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTtcbiAgICB0YS5yZW1vdmUoKTtcbiAgfVxuICBmdW5jdGlvbiBsZWdhY3lSZWFkKCkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHJldHVybiAoX2MgPSAoX2IgPSAoX2EgPSBkb2N1bWVudCA9PSBudWxsID8gdm9pZCAwIDogZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChkb2N1bWVudCkpID09IG51bGwgPyB2b2lkIDAgOiBfYi50b1N0cmluZygpKSAhPSBudWxsID8gX2MgOiBcIlwiO1xuICB9XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgdGV4dCxcbiAgICBjb3BpZWQsXG4gICAgY29weVxuICB9O1xufVxuXG52YXIgX19kZWZQcm9wJGwgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyQ4ID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgX19nZXRPd25Qcm9wRGVzY3MkOCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzO1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkbiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJG4gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSRuID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AkbCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkbChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMkbCA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJG4uY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcCRsKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scyRuKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyRuKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtJG4uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wJGwoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG52YXIgX19zcHJlYWRQcm9wcyQ4ID0gKGEsIGIpID0+IF9fZGVmUHJvcHMkOChhLCBfX2dldE93blByb3BEZXNjcyQ4KGIpKTtcbmZ1bmN0aW9uIGNsb25lRm5KU09OKHNvdXJjZSkge1xuICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzb3VyY2UpKTtcbn1cbmZ1bmN0aW9uIHVzZUNsb25lZChzb3VyY2UsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBjbG9uZWQgPSByZWYoe30pO1xuICBjb25zdCB7XG4gICAgbWFudWFsLFxuICAgIGNsb25lID0gY2xvbmVGbkpTT04sXG4gICAgZGVlcCA9IHRydWUsXG4gICAgaW1tZWRpYXRlID0gdHJ1ZVxuICB9ID0gb3B0aW9ucztcbiAgZnVuY3Rpb24gc3luYygpIHtcbiAgICBjbG9uZWQudmFsdWUgPSBjbG9uZSh1bnJlZihzb3VyY2UpKTtcbiAgfVxuICBpZiAoIW1hbnVhbCAmJiBpc1JlZihzb3VyY2UpKSB7XG4gICAgd2F0Y2goc291cmNlLCBzeW5jLCBfX3NwcmVhZFByb3BzJDgoX19zcHJlYWRWYWx1ZXMkbCh7fSwgb3B0aW9ucyksIHtcbiAgICAgIGRlZXAsXG4gICAgICBpbW1lZGlhdGVcbiAgICB9KSk7XG4gIH0gZWxzZSB7XG4gICAgc3luYygpO1xuICB9XG4gIHJldHVybiB7IGNsb25lZCwgc3luYyB9O1xufVxuXG5jb25zdCBfZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB7fTtcbmNvbnN0IGdsb2JhbEtleSA9IFwiX192dWV1c2Vfc3NyX2hhbmRsZXJzX19cIjtcbl9nbG9iYWxbZ2xvYmFsS2V5XSA9IF9nbG9iYWxbZ2xvYmFsS2V5XSB8fCB7fTtcbmNvbnN0IGhhbmRsZXJzID0gX2dsb2JhbFtnbG9iYWxLZXldO1xuZnVuY3Rpb24gZ2V0U1NSSGFuZGxlcihrZXksIGZhbGxiYWNrKSB7XG4gIHJldHVybiBoYW5kbGVyc1trZXldIHx8IGZhbGxiYWNrO1xufVxuZnVuY3Rpb24gc2V0U1NSSGFuZGxlcihrZXksIGZuKSB7XG4gIGhhbmRsZXJzW2tleV0gPSBmbjtcbn1cblxuZnVuY3Rpb24gZ3Vlc3NTZXJpYWxpemVyVHlwZShyYXdJbml0KSB7XG4gIHJldHVybiByYXdJbml0ID09IG51bGwgPyBcImFueVwiIDogcmF3SW5pdCBpbnN0YW5jZW9mIFNldCA/IFwic2V0XCIgOiByYXdJbml0IGluc3RhbmNlb2YgTWFwID8gXCJtYXBcIiA6IHJhd0luaXQgaW5zdGFuY2VvZiBEYXRlID8gXCJkYXRlXCIgOiB0eXBlb2YgcmF3SW5pdCA9PT0gXCJib29sZWFuXCIgPyBcImJvb2xlYW5cIiA6IHR5cGVvZiByYXdJbml0ID09PSBcInN0cmluZ1wiID8gXCJzdHJpbmdcIiA6IHR5cGVvZiByYXdJbml0ID09PSBcIm9iamVjdFwiID8gXCJvYmplY3RcIiA6ICFOdW1iZXIuaXNOYU4ocmF3SW5pdCkgPyBcIm51bWJlclwiIDogXCJhbnlcIjtcbn1cblxudmFyIF9fZGVmUHJvcCRrID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkbSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJG0gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSRtID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AkayA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkayhvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMkayA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJG0uY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcCRrKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scyRtKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyRtKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtJG0uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wJGsoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG5jb25zdCBTdG9yYWdlU2VyaWFsaXplcnMgPSB7XG4gIGJvb2xlYW46IHtcbiAgICByZWFkOiAodikgPT4gdiA9PT0gXCJ0cnVlXCIsXG4gICAgd3JpdGU6ICh2KSA9PiBTdHJpbmcodilcbiAgfSxcbiAgb2JqZWN0OiB7XG4gICAgcmVhZDogKHYpID0+IEpTT04ucGFyc2UodiksXG4gICAgd3JpdGU6ICh2KSA9PiBKU09OLnN0cmluZ2lmeSh2KVxuICB9LFxuICBudW1iZXI6IHtcbiAgICByZWFkOiAodikgPT4gTnVtYmVyLnBhcnNlRmxvYXQodiksXG4gICAgd3JpdGU6ICh2KSA9PiBTdHJpbmcodilcbiAgfSxcbiAgYW55OiB7XG4gICAgcmVhZDogKHYpID0+IHYsXG4gICAgd3JpdGU6ICh2KSA9PiBTdHJpbmcodilcbiAgfSxcbiAgc3RyaW5nOiB7XG4gICAgcmVhZDogKHYpID0+IHYsXG4gICAgd3JpdGU6ICh2KSA9PiBTdHJpbmcodilcbiAgfSxcbiAgbWFwOiB7XG4gICAgcmVhZDogKHYpID0+IG5ldyBNYXAoSlNPTi5wYXJzZSh2KSksXG4gICAgd3JpdGU6ICh2KSA9PiBKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKHYuZW50cmllcygpKSlcbiAgfSxcbiAgc2V0OiB7XG4gICAgcmVhZDogKHYpID0+IG5ldyBTZXQoSlNPTi5wYXJzZSh2KSksXG4gICAgd3JpdGU6ICh2KSA9PiBKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKHYpKVxuICB9LFxuICBkYXRlOiB7XG4gICAgcmVhZDogKHYpID0+IG5ldyBEYXRlKHYpLFxuICAgIHdyaXRlOiAodikgPT4gdi50b0lTT1N0cmluZygpXG4gIH1cbn07XG5jb25zdCBjdXN0b21TdG9yYWdlRXZlbnROYW1lID0gXCJ2dWV1c2Utc3RvcmFnZVwiO1xuZnVuY3Rpb24gdXNlU3RvcmFnZShrZXksIGRlZmF1bHRzLCBzdG9yYWdlLCBvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7XG4gICAgZmx1c2ggPSBcInByZVwiLFxuICAgIGRlZXAgPSB0cnVlLFxuICAgIGxpc3RlblRvU3RvcmFnZUNoYW5nZXMgPSB0cnVlLFxuICAgIHdyaXRlRGVmYXVsdHMgPSB0cnVlLFxuICAgIG1lcmdlRGVmYXVsdHMgPSBmYWxzZSxcbiAgICBzaGFsbG93LFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgZXZlbnRGaWx0ZXIsXG4gICAgb25FcnJvciA9IChlKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGRhdGEgPSAoc2hhbGxvdyA/IHNoYWxsb3dSZWYgOiByZWYpKGRlZmF1bHRzKTtcbiAgaWYgKCFzdG9yYWdlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JhZ2UgPSBnZXRTU1JIYW5kbGVyKFwiZ2V0RGVmYXVsdFN0b3JhZ2VcIiwgKCkgPT4ge1xuICAgICAgICB2YXIgX2EyO1xuICAgICAgICByZXR1cm4gKF9hMiA9IGRlZmF1bHRXaW5kb3cpID09IG51bGwgPyB2b2lkIDAgOiBfYTIubG9jYWxTdG9yYWdlO1xuICAgICAgfSkoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBvbkVycm9yKGUpO1xuICAgIH1cbiAgfVxuICBpZiAoIXN0b3JhZ2UpXG4gICAgcmV0dXJuIGRhdGE7XG4gIGNvbnN0IHJhd0luaXQgPSByZXNvbHZlVW5yZWYoZGVmYXVsdHMpO1xuICBjb25zdCB0eXBlID0gZ3Vlc3NTZXJpYWxpemVyVHlwZShyYXdJbml0KTtcbiAgY29uc3Qgc2VyaWFsaXplciA9IChfYSA9IG9wdGlvbnMuc2VyaWFsaXplcikgIT0gbnVsbCA/IF9hIDogU3RvcmFnZVNlcmlhbGl6ZXJzW3R5cGVdO1xuICBjb25zdCB7IHBhdXNlOiBwYXVzZVdhdGNoLCByZXN1bWU6IHJlc3VtZVdhdGNoIH0gPSBwYXVzYWJsZVdhdGNoKGRhdGEsICgpID0+IHdyaXRlKGRhdGEudmFsdWUpLCB7IGZsdXNoLCBkZWVwLCBldmVudEZpbHRlciB9KTtcbiAgaWYgKHdpbmRvdyAmJiBsaXN0ZW5Ub1N0b3JhZ2VDaGFuZ2VzKSB7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwic3RvcmFnZVwiLCB1cGRhdGUpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBjdXN0b21TdG9yYWdlRXZlbnROYW1lLCB1cGRhdGVGcm9tQ3VzdG9tRXZlbnQpO1xuICB9XG4gIHVwZGF0ZSgpO1xuICByZXR1cm4gZGF0YTtcbiAgZnVuY3Rpb24gd3JpdGUodikge1xuICAgIHRyeSB7XG4gICAgICBpZiAodiA9PSBudWxsKSB7XG4gICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IHNlcmlhbGl6ZXIud3JpdGUodik7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gc3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gc2VyaWFsaXplZCkge1xuICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbShrZXksIHNlcmlhbGl6ZWQpO1xuICAgICAgICAgIGlmICh3aW5kb3cpIHtcbiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChjdXN0b21TdG9yYWdlRXZlbnROYW1lLCB7XG4gICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZSxcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogc2VyaWFsaXplZCxcbiAgICAgICAgICAgICAgICBzdG9yYWdlQXJlYTogc3RvcmFnZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgb25FcnJvcihlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVhZChldmVudCkge1xuICAgIGNvbnN0IHJhd1ZhbHVlID0gZXZlbnQgPyBldmVudC5uZXdWYWx1ZSA6IHN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgIGlmIChyYXdWYWx1ZSA9PSBudWxsKSB7XG4gICAgICBpZiAod3JpdGVEZWZhdWx0cyAmJiByYXdJbml0ICE9PSBudWxsKVxuICAgICAgICBzdG9yYWdlLnNldEl0ZW0oa2V5LCBzZXJpYWxpemVyLndyaXRlKHJhd0luaXQpKTtcbiAgICAgIHJldHVybiByYXdJbml0O1xuICAgIH0gZWxzZSBpZiAoIWV2ZW50ICYmIG1lcmdlRGVmYXVsdHMpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gc2VyaWFsaXplci5yZWFkKHJhd1ZhbHVlKTtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKG1lcmdlRGVmYXVsdHMpKVxuICAgICAgICByZXR1cm4gbWVyZ2VEZWZhdWx0cyh2YWx1ZSwgcmF3SW5pdCk7XG4gICAgICBlbHNlIGlmICh0eXBlID09PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIF9fc3ByZWFkVmFsdWVzJGsoX19zcHJlYWRWYWx1ZXMkayh7fSwgcmF3SW5pdCksIHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiByYXdWYWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHJhd1ZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc2VyaWFsaXplci5yZWFkKHJhd1ZhbHVlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlRnJvbUN1c3RvbUV2ZW50KGV2ZW50KSB7XG4gICAgdXBkYXRlKGV2ZW50LmRldGFpbCk7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ICYmIGV2ZW50LnN0b3JhZ2VBcmVhICE9PSBzdG9yYWdlKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChldmVudCAmJiBldmVudC5rZXkgPT0gbnVsbCkge1xuICAgICAgZGF0YS52YWx1ZSA9IHJhd0luaXQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChldmVudCAmJiBldmVudC5rZXkgIT09IGtleSlcbiAgICAgIHJldHVybjtcbiAgICBwYXVzZVdhdGNoKCk7XG4gICAgdHJ5IHtcbiAgICAgIGRhdGEudmFsdWUgPSByZWFkKGV2ZW50KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBvbkVycm9yKGUpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZXZlbnQpXG4gICAgICAgIG5leHRUaWNrKHJlc3VtZVdhdGNoKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmVzdW1lV2F0Y2goKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlUHJlZmVycmVkRGFyayhvcHRpb25zKSB7XG4gIHJldHVybiB1c2VNZWRpYVF1ZXJ5KFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiLCBvcHRpb25zKTtcbn1cblxudmFyIF9fZGVmUHJvcCRqID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkbCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJGwgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSRsID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AkaiA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkaihvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMkaiA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJGwuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcCRqKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scyRsKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyRsKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtJGwuY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wJGooYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG5mdW5jdGlvbiB1c2VDb2xvck1vZGUob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBzZWxlY3RvciA9IFwiaHRtbFwiLFxuICAgIGF0dHJpYnV0ZSA9IFwiY2xhc3NcIixcbiAgICBpbml0aWFsVmFsdWUgPSBcImF1dG9cIixcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93LFxuICAgIHN0b3JhZ2UsXG4gICAgc3RvcmFnZUtleSA9IFwidnVldXNlLWNvbG9yLXNjaGVtZVwiLFxuICAgIGxpc3RlblRvU3RvcmFnZUNoYW5nZXMgPSB0cnVlLFxuICAgIHN0b3JhZ2VSZWYsXG4gICAgZW1pdEF1dG9cbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IG1vZGVzID0gX19zcHJlYWRWYWx1ZXMkaih7XG4gICAgYXV0bzogXCJcIixcbiAgICBsaWdodDogXCJsaWdodFwiLFxuICAgIGRhcms6IFwiZGFya1wiXG4gIH0sIG9wdGlvbnMubW9kZXMgfHwge30pO1xuICBjb25zdCBwcmVmZXJyZWREYXJrID0gdXNlUHJlZmVycmVkRGFyayh7IHdpbmRvdyB9KTtcbiAgY29uc3QgcHJlZmVycmVkTW9kZSA9IGNvbXB1dGVkKCgpID0+IHByZWZlcnJlZERhcmsudmFsdWUgPyBcImRhcmtcIiA6IFwibGlnaHRcIik7XG4gIGNvbnN0IHN0b3JlID0gc3RvcmFnZVJlZiB8fCAoc3RvcmFnZUtleSA9PSBudWxsID8gcmVmKGluaXRpYWxWYWx1ZSkgOiB1c2VTdG9yYWdlKHN0b3JhZ2VLZXksIGluaXRpYWxWYWx1ZSwgc3RvcmFnZSwgeyB3aW5kb3csIGxpc3RlblRvU3RvcmFnZUNoYW5nZXMgfSkpO1xuICBjb25zdCBzdGF0ZSA9IGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gc3RvcmUudmFsdWUgPT09IFwiYXV0b1wiICYmICFlbWl0QXV0byA/IHByZWZlcnJlZE1vZGUudmFsdWUgOiBzdG9yZS52YWx1ZTtcbiAgICB9LFxuICAgIHNldCh2KSB7XG4gICAgICBzdG9yZS52YWx1ZSA9IHY7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgdXBkYXRlSFRNTEF0dHJzID0gZ2V0U1NSSGFuZGxlcihcInVwZGF0ZUhUTUxBdHRyc1wiLCAoc2VsZWN0b3IyLCBhdHRyaWJ1dGUyLCB2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGVsID0gd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcjIpO1xuICAgIGlmICghZWwpXG4gICAgICByZXR1cm47XG4gICAgaWYgKGF0dHJpYnV0ZTIgPT09IFwiY2xhc3NcIikge1xuICAgICAgY29uc3QgY3VycmVudCA9IHZhbHVlLnNwbGl0KC9cXHMvZyk7XG4gICAgICBPYmplY3QudmFsdWVzKG1vZGVzKS5mbGF0TWFwKChpKSA9PiAoaSB8fCBcIlwiKS5zcGxpdCgvXFxzL2cpKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICBpZiAoY3VycmVudC5pbmNsdWRlcyh2KSlcbiAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKHYpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSh2KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlMiwgdmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIGZ1bmN0aW9uIGRlZmF1bHRPbkNoYW5nZWQobW9kZSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByZXNvbHZlZE1vZGUgPSBtb2RlID09PSBcImF1dG9cIiA/IHByZWZlcnJlZE1vZGUudmFsdWUgOiBtb2RlO1xuICAgIHVwZGF0ZUhUTUxBdHRycyhzZWxlY3RvciwgYXR0cmlidXRlLCAoX2EgPSBtb2Rlc1tyZXNvbHZlZE1vZGVdKSAhPSBudWxsID8gX2EgOiByZXNvbHZlZE1vZGUpO1xuICB9XG4gIGZ1bmN0aW9uIG9uQ2hhbmdlZChtb2RlKSB7XG4gICAgaWYgKG9wdGlvbnMub25DaGFuZ2VkKVxuICAgICAgb3B0aW9ucy5vbkNoYW5nZWQobW9kZSwgZGVmYXVsdE9uQ2hhbmdlZCk7XG4gICAgZWxzZVxuICAgICAgZGVmYXVsdE9uQ2hhbmdlZChtb2RlKTtcbiAgfVxuICB3YXRjaChzdGF0ZSwgb25DaGFuZ2VkLCB7IGZsdXNoOiBcInBvc3RcIiwgaW1tZWRpYXRlOiB0cnVlIH0pO1xuICBpZiAoZW1pdEF1dG8pXG4gICAgd2F0Y2gocHJlZmVycmVkTW9kZSwgKCkgPT4gb25DaGFuZ2VkKHN0YXRlLnZhbHVlKSwgeyBmbHVzaDogXCJwb3N0XCIgfSk7XG4gIHRyeU9uTW91bnRlZCgoKSA9PiBvbkNoYW5nZWQoc3RhdGUudmFsdWUpKTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5mdW5jdGlvbiB1c2VDb25maXJtRGlhbG9nKHJldmVhbGVkID0gcmVmKGZhbHNlKSkge1xuICBjb25zdCBjb25maXJtSG9vayA9IGNyZWF0ZUV2ZW50SG9vaygpO1xuICBjb25zdCBjYW5jZWxIb29rID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IHJldmVhbEhvb2sgPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgbGV0IF9yZXNvbHZlID0gbm9vcDtcbiAgY29uc3QgcmV2ZWFsID0gKGRhdGEpID0+IHtcbiAgICByZXZlYWxIb29rLnRyaWdnZXIoZGF0YSk7XG4gICAgcmV2ZWFsZWQudmFsdWUgPSB0cnVlO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBjb25maXJtID0gKGRhdGEpID0+IHtcbiAgICByZXZlYWxlZC52YWx1ZSA9IGZhbHNlO1xuICAgIGNvbmZpcm1Ib29rLnRyaWdnZXIoZGF0YSk7XG4gICAgX3Jlc29sdmUoeyBkYXRhLCBpc0NhbmNlbGVkOiBmYWxzZSB9KTtcbiAgfTtcbiAgY29uc3QgY2FuY2VsID0gKGRhdGEpID0+IHtcbiAgICByZXZlYWxlZC52YWx1ZSA9IGZhbHNlO1xuICAgIGNhbmNlbEhvb2sudHJpZ2dlcihkYXRhKTtcbiAgICBfcmVzb2x2ZSh7IGRhdGEsIGlzQ2FuY2VsZWQ6IHRydWUgfSk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgaXNSZXZlYWxlZDogY29tcHV0ZWQoKCkgPT4gcmV2ZWFsZWQudmFsdWUpLFxuICAgIHJldmVhbCxcbiAgICBjb25maXJtLFxuICAgIGNhbmNlbCxcbiAgICBvblJldmVhbDogcmV2ZWFsSG9vay5vbixcbiAgICBvbkNvbmZpcm06IGNvbmZpcm1Ib29rLm9uLFxuICAgIG9uQ2FuY2VsOiBjYW5jZWxIb29rLm9uXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUNzc1Zhcihwcm9wLCB0YXJnZXQsIHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdywgaW5pdGlhbFZhbHVlID0gXCJcIiB9ID0ge30pIHtcbiAgY29uc3QgdmFyaWFibGUgPSByZWYoaW5pdGlhbFZhbHVlKTtcbiAgY29uc3QgZWxSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiB1bnJlZkVsZW1lbnQodGFyZ2V0KSB8fCAoKF9hID0gd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cuZG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kb2N1bWVudEVsZW1lbnQpO1xuICB9KTtcbiAgd2F0Y2goW2VsUmVmLCAoKSA9PiByZXNvbHZlVW5yZWYocHJvcCldLCAoW2VsLCBwcm9wMl0pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGVsICYmIHdpbmRvdykge1xuICAgICAgY29uc3QgdmFsdWUgPSAoX2EgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZShwcm9wMikpID09IG51bGwgPyB2b2lkIDAgOiBfYS50cmltKCk7XG4gICAgICB2YXJpYWJsZS52YWx1ZSA9IHZhbHVlIHx8IGluaXRpYWxWYWx1ZTtcbiAgICB9XG4gIH0sIHsgaW1tZWRpYXRlOiB0cnVlIH0pO1xuICB3YXRjaCh2YXJpYWJsZSwgKHZhbCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpZiAoKF9hID0gZWxSZWYudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zdHlsZSlcbiAgICAgIGVsUmVmLnZhbHVlLnN0eWxlLnNldFByb3BlcnR5KHJlc29sdmVVbnJlZihwcm9wKSwgdmFsKTtcbiAgfSk7XG4gIHJldHVybiB2YXJpYWJsZTtcbn1cblxuZnVuY3Rpb24gdXNlQ3VycmVudEVsZW1lbnQoKSB7XG4gIGNvbnN0IHZtID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGNvbnN0IGN1cnJlbnRFbGVtZW50ID0gY29tcHV0ZWRXaXRoQ29udHJvbCgoKSA9PiBudWxsLCAoKSA9PiB2bS5wcm94eS4kZWwpO1xuICBvblVwZGF0ZWQoY3VycmVudEVsZW1lbnQudHJpZ2dlcik7XG4gIG9uTW91bnRlZChjdXJyZW50RWxlbWVudC50cmlnZ2VyKTtcbiAgcmV0dXJuIGN1cnJlbnRFbGVtZW50O1xufVxuXG5mdW5jdGlvbiB1c2VDeWNsZUxpc3QobGlzdCwgb3B0aW9ucykge1xuICB2YXIgX2E7XG4gIGNvbnN0IHN0YXRlID0gc2hhbGxvd1JlZigoX2EgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluaXRpYWxWYWx1ZSkgIT0gbnVsbCA/IF9hIDogbGlzdFswXSk7XG4gIGNvbnN0IGluZGV4ID0gY29tcHV0ZWQoe1xuICAgIGdldCgpIHtcbiAgICAgIHZhciBfYTI7XG4gICAgICBsZXQgaW5kZXgyID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZ2V0SW5kZXhPZikgPyBvcHRpb25zLmdldEluZGV4T2Yoc3RhdGUudmFsdWUsIGxpc3QpIDogbGlzdC5pbmRleE9mKHN0YXRlLnZhbHVlKTtcbiAgICAgIGlmIChpbmRleDIgPCAwKVxuICAgICAgICBpbmRleDIgPSAoX2EyID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5mYWxsYmFja0luZGV4KSAhPSBudWxsID8gX2EyIDogMDtcbiAgICAgIHJldHVybiBpbmRleDI7XG4gICAgfSxcbiAgICBzZXQodikge1xuICAgICAgc2V0KHYpO1xuICAgIH1cbiAgfSk7XG4gIGZ1bmN0aW9uIHNldChpKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gICAgY29uc3QgaW5kZXgyID0gKGkgJSBsZW5ndGggKyBsZW5ndGgpICUgbGVuZ3RoO1xuICAgIGNvbnN0IHZhbHVlID0gbGlzdFtpbmRleDJdO1xuICAgIHN0YXRlLnZhbHVlID0gdmFsdWU7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGZ1bmN0aW9uIHNoaWZ0KGRlbHRhID0gMSkge1xuICAgIHJldHVybiBzZXQoaW5kZXgudmFsdWUgKyBkZWx0YSk7XG4gIH1cbiAgZnVuY3Rpb24gbmV4dChuID0gMSkge1xuICAgIHJldHVybiBzaGlmdChuKTtcbiAgfVxuICBmdW5jdGlvbiBwcmV2KG4gPSAxKSB7XG4gICAgcmV0dXJuIHNoaWZ0KC1uKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHN0YXRlLFxuICAgIGluZGV4LFxuICAgIG5leHQsXG4gICAgcHJldlxuICB9O1xufVxuXG52YXIgX19kZWZQcm9wJGkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyQ3ID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgX19nZXRPd25Qcm9wRGVzY3MkNyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzO1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkayA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJGsgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSRrID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AkaSA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkaShvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMkaSA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJGsuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcCRpKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scyRrKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyRrKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtJGsuY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wJGkoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG52YXIgX19zcHJlYWRQcm9wcyQ3ID0gKGEsIGIpID0+IF9fZGVmUHJvcHMkNyhhLCBfX2dldE93blByb3BEZXNjcyQ3KGIpKTtcbmZ1bmN0aW9uIHVzZURhcmsob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB2YWx1ZURhcmsgPSBcImRhcmtcIixcbiAgICB2YWx1ZUxpZ2h0ID0gXCJcIixcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBtb2RlID0gdXNlQ29sb3JNb2RlKF9fc3ByZWFkUHJvcHMkNyhfX3NwcmVhZFZhbHVlcyRpKHt9LCBvcHRpb25zKSwge1xuICAgIG9uQ2hhbmdlZDogKG1vZGUyLCBkZWZhdWx0SGFuZGxlcikgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgaWYgKG9wdGlvbnMub25DaGFuZ2VkKVxuICAgICAgICAoX2EgPSBvcHRpb25zLm9uQ2hhbmdlZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwob3B0aW9ucywgbW9kZTIgPT09IFwiZGFya1wiKTtcbiAgICAgIGVsc2VcbiAgICAgICAgZGVmYXVsdEhhbmRsZXIobW9kZTIpO1xuICAgIH0sXG4gICAgbW9kZXM6IHtcbiAgICAgIGRhcms6IHZhbHVlRGFyayxcbiAgICAgIGxpZ2h0OiB2YWx1ZUxpZ2h0XG4gICAgfVxuICB9KSk7XG4gIGNvbnN0IHByZWZlcnJlZERhcmsgPSB1c2VQcmVmZXJyZWREYXJrKHsgd2luZG93IH0pO1xuICBjb25zdCBpc0RhcmsgPSBjb21wdXRlZCh7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIG1vZGUudmFsdWUgPT09IFwiZGFya1wiO1xuICAgIH0sXG4gICAgc2V0KHYpIHtcbiAgICAgIGlmICh2ID09PSBwcmVmZXJyZWREYXJrLnZhbHVlKVxuICAgICAgICBtb2RlLnZhbHVlID0gXCJhdXRvXCI7XG4gICAgICBlbHNlXG4gICAgICAgIG1vZGUudmFsdWUgPSB2ID8gXCJkYXJrXCIgOiBcImxpZ2h0XCI7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGlzRGFyaztcbn1cblxuY29uc3QgZm5CeXBhc3MgPSAodikgPT4gdjtcbmNvbnN0IGZuU2V0U291cmNlID0gKHNvdXJjZSwgdmFsdWUpID0+IHNvdXJjZS52YWx1ZSA9IHZhbHVlO1xuZnVuY3Rpb24gZGVmYXVsdER1bXAoY2xvbmUpIHtcbiAgcmV0dXJuIGNsb25lID8gaXNGdW5jdGlvbihjbG9uZSkgPyBjbG9uZSA6IGNsb25lRm5KU09OIDogZm5CeXBhc3M7XG59XG5mdW5jdGlvbiBkZWZhdWx0UGFyc2UoY2xvbmUpIHtcbiAgcmV0dXJuIGNsb25lID8gaXNGdW5jdGlvbihjbG9uZSkgPyBjbG9uZSA6IGNsb25lRm5KU09OIDogZm5CeXBhc3M7XG59XG5mdW5jdGlvbiB1c2VNYW51YWxSZWZIaXN0b3J5KHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBjbG9uZSA9IGZhbHNlLFxuICAgIGR1bXAgPSBkZWZhdWx0RHVtcChjbG9uZSksXG4gICAgcGFyc2UgPSBkZWZhdWx0UGFyc2UoY2xvbmUpLFxuICAgIHNldFNvdXJjZSA9IGZuU2V0U291cmNlXG4gIH0gPSBvcHRpb25zO1xuICBmdW5jdGlvbiBfY3JlYXRlSGlzdG9yeVJlY29yZCgpIHtcbiAgICByZXR1cm4gbWFya1Jhdyh7XG4gICAgICBzbmFwc2hvdDogZHVtcChzb3VyY2UudmFsdWUpLFxuICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAoKVxuICAgIH0pO1xuICB9XG4gIGNvbnN0IGxhc3QgPSByZWYoX2NyZWF0ZUhpc3RvcnlSZWNvcmQoKSk7XG4gIGNvbnN0IHVuZG9TdGFjayA9IHJlZihbXSk7XG4gIGNvbnN0IHJlZG9TdGFjayA9IHJlZihbXSk7XG4gIGNvbnN0IF9zZXRTb3VyY2UgPSAocmVjb3JkKSA9PiB7XG4gICAgc2V0U291cmNlKHNvdXJjZSwgcGFyc2UocmVjb3JkLnNuYXBzaG90KSk7XG4gICAgbGFzdC52YWx1ZSA9IHJlY29yZDtcbiAgfTtcbiAgY29uc3QgY29tbWl0ID0gKCkgPT4ge1xuICAgIHVuZG9TdGFjay52YWx1ZS51bnNoaWZ0KGxhc3QudmFsdWUpO1xuICAgIGxhc3QudmFsdWUgPSBfY3JlYXRlSGlzdG9yeVJlY29yZCgpO1xuICAgIGlmIChvcHRpb25zLmNhcGFjaXR5ICYmIHVuZG9TdGFjay52YWx1ZS5sZW5ndGggPiBvcHRpb25zLmNhcGFjaXR5KVxuICAgICAgdW5kb1N0YWNrLnZhbHVlLnNwbGljZShvcHRpb25zLmNhcGFjaXR5LCBJbmZpbml0eSk7XG4gICAgaWYgKHJlZG9TdGFjay52YWx1ZS5sZW5ndGgpXG4gICAgICByZWRvU3RhY2sudmFsdWUuc3BsaWNlKDAsIHJlZG9TdGFjay52YWx1ZS5sZW5ndGgpO1xuICB9O1xuICBjb25zdCBjbGVhciA9ICgpID0+IHtcbiAgICB1bmRvU3RhY2sudmFsdWUuc3BsaWNlKDAsIHVuZG9TdGFjay52YWx1ZS5sZW5ndGgpO1xuICAgIHJlZG9TdGFjay52YWx1ZS5zcGxpY2UoMCwgcmVkb1N0YWNrLnZhbHVlLmxlbmd0aCk7XG4gIH07XG4gIGNvbnN0IHVuZG8gPSAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB1bmRvU3RhY2sudmFsdWUuc2hpZnQoKTtcbiAgICBpZiAoc3RhdGUpIHtcbiAgICAgIHJlZG9TdGFjay52YWx1ZS51bnNoaWZ0KGxhc3QudmFsdWUpO1xuICAgICAgX3NldFNvdXJjZShzdGF0ZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZWRvID0gKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gcmVkb1N0YWNrLnZhbHVlLnNoaWZ0KCk7XG4gICAgaWYgKHN0YXRlKSB7XG4gICAgICB1bmRvU3RhY2sudmFsdWUudW5zaGlmdChsYXN0LnZhbHVlKTtcbiAgICAgIF9zZXRTb3VyY2Uoc3RhdGUpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVzZXQgPSAoKSA9PiB7XG4gICAgX3NldFNvdXJjZShsYXN0LnZhbHVlKTtcbiAgfTtcbiAgY29uc3QgaGlzdG9yeSA9IGNvbXB1dGVkKCgpID0+IFtsYXN0LnZhbHVlLCAuLi51bmRvU3RhY2sudmFsdWVdKTtcbiAgY29uc3QgY2FuVW5kbyA9IGNvbXB1dGVkKCgpID0+IHVuZG9TdGFjay52YWx1ZS5sZW5ndGggPiAwKTtcbiAgY29uc3QgY2FuUmVkbyA9IGNvbXB1dGVkKCgpID0+IHJlZG9TdGFjay52YWx1ZS5sZW5ndGggPiAwKTtcbiAgcmV0dXJuIHtcbiAgICBzb3VyY2UsXG4gICAgdW5kb1N0YWNrLFxuICAgIHJlZG9TdGFjayxcbiAgICBsYXN0LFxuICAgIGhpc3RvcnksXG4gICAgY2FuVW5kbyxcbiAgICBjYW5SZWRvLFxuICAgIGNsZWFyLFxuICAgIGNvbW1pdCxcbiAgICByZXNldCxcbiAgICB1bmRvLFxuICAgIHJlZG9cbiAgfTtcbn1cblxudmFyIF9fZGVmUHJvcCRoID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmUHJvcHMkNiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzJDYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbnZhciBfX2dldE93blByb3BTeW1ib2xzJGogPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCRqID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0kaiA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wJGggPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJGgob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzJGggPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcCRqLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AkaChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMkailcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkaihiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bSRqLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcCRoKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMkNiA9IChhLCBiKSA9PiBfX2RlZlByb3BzJDYoYSwgX19nZXRPd25Qcm9wRGVzY3MkNihiKSk7XG5mdW5jdGlvbiB1c2VSZWZIaXN0b3J5KHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBkZWVwID0gZmFsc2UsXG4gICAgZmx1c2ggPSBcInByZVwiLFxuICAgIGV2ZW50RmlsdGVyXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB7XG4gICAgZXZlbnRGaWx0ZXI6IGNvbXBvc2VkRmlsdGVyLFxuICAgIHBhdXNlLFxuICAgIHJlc3VtZTogcmVzdW1lVHJhY2tpbmcsXG4gICAgaXNBY3RpdmU6IGlzVHJhY2tpbmdcbiAgfSA9IHBhdXNhYmxlRmlsdGVyKGV2ZW50RmlsdGVyKTtcbiAgY29uc3Qge1xuICAgIGlnbm9yZVVwZGF0ZXMsXG4gICAgaWdub3JlUHJldkFzeW5jVXBkYXRlcyxcbiAgICBzdG9wXG4gIH0gPSB3YXRjaElnbm9yYWJsZShzb3VyY2UsIGNvbW1pdCwgeyBkZWVwLCBmbHVzaCwgZXZlbnRGaWx0ZXI6IGNvbXBvc2VkRmlsdGVyIH0pO1xuICBmdW5jdGlvbiBzZXRTb3VyY2Uoc291cmNlMiwgdmFsdWUpIHtcbiAgICBpZ25vcmVQcmV2QXN5bmNVcGRhdGVzKCk7XG4gICAgaWdub3JlVXBkYXRlcygoKSA9PiB7XG4gICAgICBzb3VyY2UyLnZhbHVlID0gdmFsdWU7XG4gICAgfSk7XG4gIH1cbiAgY29uc3QgbWFudWFsSGlzdG9yeSA9IHVzZU1hbnVhbFJlZkhpc3Rvcnkoc291cmNlLCBfX3NwcmVhZFByb3BzJDYoX19zcHJlYWRWYWx1ZXMkaCh7fSwgb3B0aW9ucyksIHsgY2xvbmU6IG9wdGlvbnMuY2xvbmUgfHwgZGVlcCwgc2V0U291cmNlIH0pKTtcbiAgY29uc3QgeyBjbGVhciwgY29tbWl0OiBtYW51YWxDb21taXQgfSA9IG1hbnVhbEhpc3Rvcnk7XG4gIGZ1bmN0aW9uIGNvbW1pdCgpIHtcbiAgICBpZ25vcmVQcmV2QXN5bmNVcGRhdGVzKCk7XG4gICAgbWFudWFsQ29tbWl0KCk7XG4gIH1cbiAgZnVuY3Rpb24gcmVzdW1lKGNvbW1pdE5vdykge1xuICAgIHJlc3VtZVRyYWNraW5nKCk7XG4gICAgaWYgKGNvbW1pdE5vdylcbiAgICAgIGNvbW1pdCgpO1xuICB9XG4gIGZ1bmN0aW9uIGJhdGNoKGZuKSB7XG4gICAgbGV0IGNhbmNlbGVkID0gZmFsc2U7XG4gICAgY29uc3QgY2FuY2VsID0gKCkgPT4gY2FuY2VsZWQgPSB0cnVlO1xuICAgIGlnbm9yZVVwZGF0ZXMoKCkgPT4ge1xuICAgICAgZm4oY2FuY2VsKTtcbiAgICB9KTtcbiAgICBpZiAoIWNhbmNlbGVkKVxuICAgICAgY29tbWl0KCk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICBzdG9wKCk7XG4gICAgY2xlYXIoKTtcbiAgfVxuICByZXR1cm4gX19zcHJlYWRQcm9wcyQ2KF9fc3ByZWFkVmFsdWVzJGgoe30sIG1hbnVhbEhpc3RvcnkpLCB7XG4gICAgaXNUcmFja2luZyxcbiAgICBwYXVzZSxcbiAgICByZXN1bWUsXG4gICAgY29tbWl0LFxuICAgIGJhdGNoLFxuICAgIGRpc3Bvc2VcbiAgfSk7XG59XG5cbnZhciBfX2RlZlByb3AkZyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzJDUgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBfX2dldE93blByb3BEZXNjcyQ1ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyRpID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkaSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJGkgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCRnID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCRnKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyRnID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkaS5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJGcoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJGkpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJGkoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kaS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkZyhhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzJDUgPSAoYSwgYikgPT4gX19kZWZQcm9wcyQ1KGEsIF9fZ2V0T3duUHJvcERlc2NzJDUoYikpO1xuZnVuY3Rpb24gdXNlRGVib3VuY2VkUmVmSGlzdG9yeShzb3VyY2UsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBmaWx0ZXIgPSBvcHRpb25zLmRlYm91bmNlID8gZGVib3VuY2VGaWx0ZXIob3B0aW9ucy5kZWJvdW5jZSkgOiB2b2lkIDA7XG4gIGNvbnN0IGhpc3RvcnkgPSB1c2VSZWZIaXN0b3J5KHNvdXJjZSwgX19zcHJlYWRQcm9wcyQ1KF9fc3ByZWFkVmFsdWVzJGcoe30sIG9wdGlvbnMpLCB7IGV2ZW50RmlsdGVyOiBmaWx0ZXIgfSkpO1xuICByZXR1cm4gX19zcHJlYWRWYWx1ZXMkZyh7fSwgaGlzdG9yeSk7XG59XG5cbmZ1bmN0aW9uIHVzZURldmljZU1vdGlvbihvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgZXZlbnRGaWx0ZXIgPSBieXBhc3NGaWx0ZXJcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGFjY2VsZXJhdGlvbiA9IHJlZih7IHg6IG51bGwsIHk6IG51bGwsIHo6IG51bGwgfSk7XG4gIGNvbnN0IHJvdGF0aW9uUmF0ZSA9IHJlZih7IGFscGhhOiBudWxsLCBiZXRhOiBudWxsLCBnYW1tYTogbnVsbCB9KTtcbiAgY29uc3QgaW50ZXJ2YWwgPSByZWYoMCk7XG4gIGNvbnN0IGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkgPSByZWYoe1xuICAgIHg6IG51bGwsXG4gICAgeTogbnVsbCxcbiAgICB6OiBudWxsXG4gIH0pO1xuICBpZiAod2luZG93KSB7XG4gICAgY29uc3Qgb25EZXZpY2VNb3Rpb24gPSBjcmVhdGVGaWx0ZXJXcmFwcGVyKGV2ZW50RmlsdGVyLCAoZXZlbnQpID0+IHtcbiAgICAgIGFjY2VsZXJhdGlvbi52YWx1ZSA9IGV2ZW50LmFjY2VsZXJhdGlvbjtcbiAgICAgIGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkudmFsdWUgPSBldmVudC5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5O1xuICAgICAgcm90YXRpb25SYXRlLnZhbHVlID0gZXZlbnQucm90YXRpb25SYXRlO1xuICAgICAgaW50ZXJ2YWwudmFsdWUgPSBldmVudC5pbnRlcnZhbDtcbiAgICB9KTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJkZXZpY2Vtb3Rpb25cIiwgb25EZXZpY2VNb3Rpb24pO1xuICB9XG4gIHJldHVybiB7XG4gICAgYWNjZWxlcmF0aW9uLFxuICAgIGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHksXG4gICAgcm90YXRpb25SYXRlLFxuICAgIGludGVydmFsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZURldmljZU9yaWVudGF0aW9uKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHdpbmRvdyA9IGRlZmF1bHRXaW5kb3cgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHdpbmRvdyAmJiBcIkRldmljZU9yaWVudGF0aW9uRXZlbnRcIiBpbiB3aW5kb3cpO1xuICBjb25zdCBpc0Fic29sdXRlID0gcmVmKGZhbHNlKTtcbiAgY29uc3QgYWxwaGEgPSByZWYobnVsbCk7XG4gIGNvbnN0IGJldGEgPSByZWYobnVsbCk7XG4gIGNvbnN0IGdhbW1hID0gcmVmKG51bGwpO1xuICBpZiAod2luZG93ICYmIGlzU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwiZGV2aWNlb3JpZW50YXRpb25cIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpc0Fic29sdXRlLnZhbHVlID0gZXZlbnQuYWJzb2x1dGU7XG4gICAgICBhbHBoYS52YWx1ZSA9IGV2ZW50LmFscGhhO1xuICAgICAgYmV0YS52YWx1ZSA9IGV2ZW50LmJldGE7XG4gICAgICBnYW1tYS52YWx1ZSA9IGV2ZW50LmdhbW1hO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgaXNBYnNvbHV0ZSxcbiAgICBhbHBoYSxcbiAgICBiZXRhLFxuICAgIGdhbW1hXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZURldmljZVBpeGVsUmF0aW8oe1xuICB3aW5kb3cgPSBkZWZhdWx0V2luZG93XG59ID0ge30pIHtcbiAgY29uc3QgcGl4ZWxSYXRpbyA9IHJlZigxKTtcbiAgaWYgKHdpbmRvdykge1xuICAgIGxldCBvYnNlcnZlID0gZnVuY3Rpb24oKSB7XG4gICAgICBwaXhlbFJhdGlvLnZhbHVlID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICBtZWRpYSA9IHdpbmRvdy5tYXRjaE1lZGlhKGAocmVzb2x1dGlvbjogJHtwaXhlbFJhdGlvLnZhbHVlfWRwcHgpYCk7XG4gICAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIG9ic2VydmUsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9LCBjbGVhbnVwID0gZnVuY3Rpb24oKSB7XG4gICAgICBtZWRpYSA9PSBudWxsID8gdm9pZCAwIDogbWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBvYnNlcnZlKTtcbiAgICB9O1xuICAgIGxldCBtZWRpYTtcbiAgICBvYnNlcnZlKCk7XG4gICAgdHJ5T25TY29wZURpc3Bvc2UoY2xlYW51cCk7XG4gIH1cbiAgcmV0dXJuIHsgcGl4ZWxSYXRpbyB9O1xufVxuXG5mdW5jdGlvbiB1c2VQZXJtaXNzaW9uKHBlcm1pc3Npb25EZXNjLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGNvbnRyb2xzID0gZmFsc2UsXG4gICAgbmF2aWdhdG9yID0gZGVmYXVsdE5hdmlnYXRvclxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gbmF2aWdhdG9yICYmIFwicGVybWlzc2lvbnNcIiBpbiBuYXZpZ2F0b3IpO1xuICBsZXQgcGVybWlzc2lvblN0YXR1cztcbiAgY29uc3QgZGVzYyA9IHR5cGVvZiBwZXJtaXNzaW9uRGVzYyA9PT0gXCJzdHJpbmdcIiA/IHsgbmFtZTogcGVybWlzc2lvbkRlc2MgfSA6IHBlcm1pc3Npb25EZXNjO1xuICBjb25zdCBzdGF0ZSA9IHJlZigpO1xuICBjb25zdCBvbkNoYW5nZSA9ICgpID0+IHtcbiAgICBpZiAocGVybWlzc2lvblN0YXR1cylcbiAgICAgIHN0YXRlLnZhbHVlID0gcGVybWlzc2lvblN0YXR1cy5zdGF0ZTtcbiAgfTtcbiAgY29uc3QgcXVlcnkgPSBjcmVhdGVTaW5nbGV0b25Qcm9taXNlKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWlzU3VwcG9ydGVkLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICghcGVybWlzc2lvblN0YXR1cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcGVybWlzc2lvblN0YXR1cyA9IGF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeShkZXNjKTtcbiAgICAgICAgdXNlRXZlbnRMaXN0ZW5lcihwZXJtaXNzaW9uU3RhdHVzLCBcImNoYW5nZVwiLCBvbkNoYW5nZSk7XG4gICAgICAgIG9uQ2hhbmdlKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHN0YXRlLnZhbHVlID0gXCJwcm9tcHRcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBlcm1pc3Npb25TdGF0dXM7XG4gIH0pO1xuICBxdWVyeSgpO1xuICBpZiAoY29udHJvbHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdGUsXG4gICAgICBpc1N1cHBvcnRlZCxcbiAgICAgIHF1ZXJ5XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlRGV2aWNlc0xpc3Qob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBuYXZpZ2F0b3IgPSBkZWZhdWx0TmF2aWdhdG9yLFxuICAgIHJlcXVlc3RQZXJtaXNzaW9ucyA9IGZhbHNlLFxuICAgIGNvbnN0cmFpbnRzID0geyBhdWRpbzogdHJ1ZSwgdmlkZW86IHRydWUgfSxcbiAgICBvblVwZGF0ZWRcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGRldmljZXMgPSByZWYoW10pO1xuICBjb25zdCB2aWRlb0lucHV0cyA9IGNvbXB1dGVkKCgpID0+IGRldmljZXMudmFsdWUuZmlsdGVyKChpKSA9PiBpLmtpbmQgPT09IFwidmlkZW9pbnB1dFwiKSk7XG4gIGNvbnN0IGF1ZGlvSW5wdXRzID0gY29tcHV0ZWQoKCkgPT4gZGV2aWNlcy52YWx1ZS5maWx0ZXIoKGkpID0+IGkua2luZCA9PT0gXCJhdWRpb2lucHV0XCIpKTtcbiAgY29uc3QgYXVkaW9PdXRwdXRzID0gY29tcHV0ZWQoKCkgPT4gZGV2aWNlcy52YWx1ZS5maWx0ZXIoKGkpID0+IGkua2luZCA9PT0gXCJhdWRpb291dHB1dFwiKSk7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICYmIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcyk7XG4gIGNvbnN0IHBlcm1pc3Npb25HcmFudGVkID0gcmVmKGZhbHNlKTtcbiAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgZGV2aWNlcy52YWx1ZSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO1xuICAgIG9uVXBkYXRlZCA9PSBudWxsID8gdm9pZCAwIDogb25VcGRhdGVkKGRldmljZXMudmFsdWUpO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGVuc3VyZVBlcm1pc3Npb25zKCkge1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHBlcm1pc3Npb25HcmFudGVkLnZhbHVlKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgY29uc3QgeyBzdGF0ZSwgcXVlcnkgfSA9IHVzZVBlcm1pc3Npb24oXCJjYW1lcmFcIiwgeyBjb250cm9sczogdHJ1ZSB9KTtcbiAgICBhd2FpdCBxdWVyeSgpO1xuICAgIGlmIChzdGF0ZS52YWx1ZSAhPT0gXCJncmFudGVkXCIpIHtcbiAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0KSA9PiB0LnN0b3AoKSk7XG4gICAgICB1cGRhdGUoKTtcbiAgICAgIHBlcm1pc3Npb25HcmFudGVkLnZhbHVlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGVybWlzc2lvbkdyYW50ZWQudmFsdWUgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcGVybWlzc2lvbkdyYW50ZWQudmFsdWU7XG4gIH1cbiAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgaWYgKHJlcXVlc3RQZXJtaXNzaW9ucylcbiAgICAgIGVuc3VyZVBlcm1pc3Npb25zKCk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLCBcImRldmljZWNoYW5nZVwiLCB1cGRhdGUpO1xuICAgIHVwZGF0ZSgpO1xuICB9XG4gIHJldHVybiB7XG4gICAgZGV2aWNlcyxcbiAgICBlbnN1cmVQZXJtaXNzaW9ucyxcbiAgICBwZXJtaXNzaW9uR3JhbnRlZCxcbiAgICB2aWRlb0lucHV0cyxcbiAgICBhdWRpb0lucHV0cyxcbiAgICBhdWRpb091dHB1dHMsXG4gICAgaXNTdXBwb3J0ZWRcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlRGlzcGxheU1lZGlhKG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IGVuYWJsZWQgPSByZWYoKF9hID0gb3B0aW9ucy5lbmFibGVkKSAhPSBudWxsID8gX2EgOiBmYWxzZSk7XG4gIGNvbnN0IHZpZGVvID0gb3B0aW9ucy52aWRlbztcbiAgY29uc3QgYXVkaW8gPSBvcHRpb25zLmF1ZGlvO1xuICBjb25zdCB7IG5hdmlnYXRvciA9IGRlZmF1bHROYXZpZ2F0b3IgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIHJldHVybiAoX2EyID0gbmF2aWdhdG9yID09IG51bGwgPyB2b2lkIDAgOiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmdldERpc3BsYXlNZWRpYTtcbiAgfSk7XG4gIGNvbnN0IGNvbnN0cmFpbnQgPSB7IGF1ZGlvLCB2aWRlbyB9O1xuICBjb25zdCBzdHJlYW0gPSBzaGFsbG93UmVmKCk7XG4gIGFzeW5jIGZ1bmN0aW9uIF9zdGFydCgpIHtcbiAgICBpZiAoIWlzU3VwcG9ydGVkLnZhbHVlIHx8IHN0cmVhbS52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBzdHJlYW0udmFsdWUgPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYShjb25zdHJhaW50KTtcbiAgICByZXR1cm4gc3RyZWFtLnZhbHVlO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIF9zdG9wKCkge1xuICAgIHZhciBfYTI7XG4gICAgKF9hMiA9IHN0cmVhbS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5nZXRUcmFja3MoKS5mb3JFYWNoKCh0KSA9PiB0LnN0b3AoKSk7XG4gICAgc3RyZWFtLnZhbHVlID0gdm9pZCAwO1xuICB9XG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgX3N0b3AoKTtcbiAgICBlbmFibGVkLnZhbHVlID0gZmFsc2U7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgYXdhaXQgX3N0YXJ0KCk7XG4gICAgaWYgKHN0cmVhbS52YWx1ZSlcbiAgICAgIGVuYWJsZWQudmFsdWUgPSB0cnVlO1xuICAgIHJldHVybiBzdHJlYW0udmFsdWU7XG4gIH1cbiAgd2F0Y2goZW5hYmxlZCwgKHYpID0+IHtcbiAgICBpZiAodilcbiAgICAgIF9zdGFydCgpO1xuICAgIGVsc2VcbiAgICAgIF9zdG9wKCk7XG4gIH0sIHsgaW1tZWRpYXRlOiB0cnVlIH0pO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIHN0cmVhbSxcbiAgICBzdGFydCxcbiAgICBzdG9wLFxuICAgIGVuYWJsZWRcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlRG9jdW1lbnRWaXNpYmlsaXR5KHsgZG9jdW1lbnQgPSBkZWZhdWx0RG9jdW1lbnQgfSA9IHt9KSB7XG4gIGlmICghZG9jdW1lbnQpXG4gICAgcmV0dXJuIHJlZihcInZpc2libGVcIik7XG4gIGNvbnN0IHZpc2liaWxpdHkgPSByZWYoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsICgpID0+IHtcbiAgICB2aXNpYmlsaXR5LnZhbHVlID0gZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlO1xuICB9KTtcbiAgcmV0dXJuIHZpc2liaWxpdHk7XG59XG5cbnZhciBfX2RlZlByb3AkZiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzJDQgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBfX2dldE93blByb3BEZXNjcyQ0ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyRoID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkaCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJGggPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCRmID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCRmKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyRmID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkaC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJGYoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJGgpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJGgoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kaC5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkZihhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzJDQgPSAoYSwgYikgPT4gX19kZWZQcm9wcyQ0KGEsIF9fZ2V0T3duUHJvcERlc2NzJDQoYikpO1xuZnVuY3Rpb24gdXNlRHJhZ2dhYmxlKHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBjb25zdCBkcmFnZ2luZ0VsZW1lbnQgPSAoX2EgPSBvcHRpb25zLmRyYWdnaW5nRWxlbWVudCkgIT0gbnVsbCA/IF9hIDogZGVmYXVsdFdpbmRvdztcbiAgY29uc3QgZHJhZ2dpbmdIYW5kbGUgPSAoX2IgPSBvcHRpb25zLmhhbmRsZSkgIT0gbnVsbCA/IF9iIDogdGFyZ2V0O1xuICBjb25zdCBwb3NpdGlvbiA9IHJlZigoX2MgPSByZXNvbHZlVW5yZWYob3B0aW9ucy5pbml0aWFsVmFsdWUpKSAhPSBudWxsID8gX2MgOiB7IHg6IDAsIHk6IDAgfSk7XG4gIGNvbnN0IHByZXNzZWREZWx0YSA9IHJlZigpO1xuICBjb25zdCBmaWx0ZXJFdmVudCA9IChlKSA9PiB7XG4gICAgaWYgKG9wdGlvbnMucG9pbnRlclR5cGVzKVxuICAgICAgcmV0dXJuIG9wdGlvbnMucG9pbnRlclR5cGVzLmluY2x1ZGVzKGUucG9pbnRlclR5cGUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBjb25zdCBoYW5kbGVFdmVudCA9IChlKSA9PiB7XG4gICAgaWYgKHJlc29sdmVVbnJlZihvcHRpb25zLnByZXZlbnREZWZhdWx0KSlcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAocmVzb2x2ZVVucmVmKG9wdGlvbnMuc3RvcFByb3BhZ2F0aW9uKSlcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH07XG4gIGNvbnN0IHN0YXJ0ID0gKGUpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIGlmICghZmlsdGVyRXZlbnQoZSkpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHJlc29sdmVVbnJlZihvcHRpb25zLmV4YWN0KSAmJiBlLnRhcmdldCAhPT0gcmVzb2x2ZVVucmVmKHRhcmdldCkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgcmVjdCA9IHJlc29sdmVVbnJlZih0YXJnZXQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHBvcyA9IHtcbiAgICAgIHg6IGUuY2xpZW50WCAtIHJlY3QubGVmdCxcbiAgICAgIHk6IGUuY2xpZW50WSAtIHJlY3QudG9wXG4gICAgfTtcbiAgICBpZiAoKChfYTIgPSBvcHRpb25zLm9uU3RhcnQpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuY2FsbChvcHRpb25zLCBwb3MsIGUpKSA9PT0gZmFsc2UpXG4gICAgICByZXR1cm47XG4gICAgcHJlc3NlZERlbHRhLnZhbHVlID0gcG9zO1xuICAgIGhhbmRsZUV2ZW50KGUpO1xuICB9O1xuICBjb25zdCBtb3ZlID0gKGUpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIGlmICghZmlsdGVyRXZlbnQoZSkpXG4gICAgICByZXR1cm47XG4gICAgaWYgKCFwcmVzc2VkRGVsdGEudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgcG9zaXRpb24udmFsdWUgPSB7XG4gICAgICB4OiBlLmNsaWVudFggLSBwcmVzc2VkRGVsdGEudmFsdWUueCxcbiAgICAgIHk6IGUuY2xpZW50WSAtIHByZXNzZWREZWx0YS52YWx1ZS55XG4gICAgfTtcbiAgICAoX2EyID0gb3B0aW9ucy5vbk1vdmUpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuY2FsbChvcHRpb25zLCBwb3NpdGlvbi52YWx1ZSwgZSk7XG4gICAgaGFuZGxlRXZlbnQoZSk7XG4gIH07XG4gIGNvbnN0IGVuZCA9IChlKSA9PiB7XG4gICAgdmFyIF9hMjtcbiAgICBpZiAoIWZpbHRlckV2ZW50KGUpKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICghcHJlc3NlZERlbHRhLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIHByZXNzZWREZWx0YS52YWx1ZSA9IHZvaWQgMDtcbiAgICAoX2EyID0gb3B0aW9ucy5vbkVuZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jYWxsKG9wdGlvbnMsIHBvc2l0aW9uLnZhbHVlLCBlKTtcbiAgICBoYW5kbGVFdmVudChlKTtcbiAgfTtcbiAgaWYgKGlzQ2xpZW50KSB7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihkcmFnZ2luZ0hhbmRsZSwgXCJwb2ludGVyZG93blwiLCBzdGFydCwgdHJ1ZSk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihkcmFnZ2luZ0VsZW1lbnQsIFwicG9pbnRlcm1vdmVcIiwgbW92ZSwgdHJ1ZSk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihkcmFnZ2luZ0VsZW1lbnQsIFwicG9pbnRlcnVwXCIsIGVuZCwgdHJ1ZSk7XG4gIH1cbiAgcmV0dXJuIF9fc3ByZWFkUHJvcHMkNChfX3NwcmVhZFZhbHVlcyRmKHt9LCB0b1JlZnMocG9zaXRpb24pKSwge1xuICAgIHBvc2l0aW9uLFxuICAgIGlzRHJhZ2dpbmc6IGNvbXB1dGVkKCgpID0+ICEhcHJlc3NlZERlbHRhLnZhbHVlKSxcbiAgICBzdHlsZTogY29tcHV0ZWQoKCkgPT4gYGxlZnQ6JHtwb3NpdGlvbi52YWx1ZS54fXB4O3RvcDoke3Bvc2l0aW9uLnZhbHVlLnl9cHg7YClcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZURyb3Bab25lKHRhcmdldCwgb25Ecm9wKSB7XG4gIGNvbnN0IGlzT3ZlckRyb3Bab25lID0gcmVmKGZhbHNlKTtcbiAgbGV0IGNvdW50ZXIgPSAwO1xuICBpZiAoaXNDbGllbnQpIHtcbiAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJkcmFnZW50ZXJcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY291bnRlciArPSAxO1xuICAgICAgaXNPdmVyRHJvcFpvbmUudmFsdWUgPSB0cnVlO1xuICAgIH0pO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcImRyYWdvdmVyXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJkcmFnbGVhdmVcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY291bnRlciAtPSAxO1xuICAgICAgaWYgKGNvdW50ZXIgPT09IDApXG4gICAgICAgIGlzT3ZlckRyb3Bab25lLnZhbHVlID0gZmFsc2U7XG4gICAgfSk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwiZHJvcFwiLCAoZXZlbnQpID0+IHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY291bnRlciA9IDA7XG4gICAgICBpc092ZXJEcm9wWm9uZS52YWx1ZSA9IGZhbHNlO1xuICAgICAgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKChfYiA9IChfYSA9IGV2ZW50LmRhdGFUcmFuc2ZlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmZpbGVzKSAhPSBudWxsID8gX2IgOiBbXSk7XG4gICAgICBvbkRyb3AgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRHJvcChmaWxlcy5sZW5ndGggPT09IDAgPyBudWxsIDogZmlsZXMpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgaXNPdmVyRHJvcFpvbmVcbiAgfTtcbn1cblxudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkZyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJGcgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSRnID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX29ialJlc3QkMiA9IChzb3VyY2UsIGV4Y2x1ZGUpID0+IHtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJGcuY2FsbChzb3VyY2UsIHByb3ApICYmIGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDApXG4gICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gIGlmIChzb3VyY2UgIT0gbnVsbCAmJiBfX2dldE93blByb3BTeW1ib2xzJGcpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJGcoc291cmNlKSkge1xuICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDAgJiYgX19wcm9wSXNFbnVtJGcuY2FsbChzb3VyY2UsIHByb3ApKVxuICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgfVxuICByZXR1cm4gdGFyZ2V0O1xufTtcbmZ1bmN0aW9uIHVzZVJlc2l6ZU9ic2VydmVyKHRhcmdldCwgY2FsbGJhY2ssIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBfYSA9IG9wdGlvbnMsIHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdyB9ID0gX2EsIG9ic2VydmVyT3B0aW9ucyA9IF9fb2JqUmVzdCQyKF9hLCBbXCJ3aW5kb3dcIl0pO1xuICBsZXQgb2JzZXJ2ZXI7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHdpbmRvdyAmJiBcIlJlc2l6ZU9ic2VydmVyXCIgaW4gd2luZG93KTtcbiAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICBpZiAob2JzZXJ2ZXIpIHtcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIG9ic2VydmVyID0gdm9pZCAwO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc3RvcFdhdGNoID0gd2F0Y2goKCkgPT4gdW5yZWZFbGVtZW50KHRhcmdldCksIChlbCkgPT4ge1xuICAgIGNsZWFudXAoKTtcbiAgICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUgJiYgd2luZG93ICYmIGVsKSB7XG4gICAgICBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihjYWxsYmFjayk7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKGVsLCBvYnNlcnZlck9wdGlvbnMpO1xuICAgIH1cbiAgfSwgeyBpbW1lZGlhdGU6IHRydWUsIGZsdXNoOiBcInBvc3RcIiB9KTtcbiAgY29uc3Qgc3RvcCA9ICgpID0+IHtcbiAgICBjbGVhbnVwKCk7XG4gICAgc3RvcFdhdGNoKCk7XG4gIH07XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHN0b3ApO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIHN0b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlRWxlbWVudEJvdW5kaW5nKHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICByZXNldCA9IHRydWUsXG4gICAgd2luZG93UmVzaXplID0gdHJ1ZSxcbiAgICB3aW5kb3dTY3JvbGwgPSB0cnVlLFxuICAgIGltbWVkaWF0ZSA9IHRydWVcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGhlaWdodCA9IHJlZigwKTtcbiAgY29uc3QgYm90dG9tID0gcmVmKDApO1xuICBjb25zdCBsZWZ0ID0gcmVmKDApO1xuICBjb25zdCByaWdodCA9IHJlZigwKTtcbiAgY29uc3QgdG9wID0gcmVmKDApO1xuICBjb25zdCB3aWR0aCA9IHJlZigwKTtcbiAgY29uc3QgeCA9IHJlZigwKTtcbiAgY29uc3QgeSA9IHJlZigwKTtcbiAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIGNvbnN0IGVsID0gdW5yZWZFbGVtZW50KHRhcmdldCk7XG4gICAgaWYgKCFlbCkge1xuICAgICAgaWYgKHJlc2V0KSB7XG4gICAgICAgIGhlaWdodC52YWx1ZSA9IDA7XG4gICAgICAgIGJvdHRvbS52YWx1ZSA9IDA7XG4gICAgICAgIGxlZnQudmFsdWUgPSAwO1xuICAgICAgICByaWdodC52YWx1ZSA9IDA7XG4gICAgICAgIHRvcC52YWx1ZSA9IDA7XG4gICAgICAgIHdpZHRoLnZhbHVlID0gMDtcbiAgICAgICAgeC52YWx1ZSA9IDA7XG4gICAgICAgIHkudmFsdWUgPSAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaGVpZ2h0LnZhbHVlID0gcmVjdC5oZWlnaHQ7XG4gICAgYm90dG9tLnZhbHVlID0gcmVjdC5ib3R0b207XG4gICAgbGVmdC52YWx1ZSA9IHJlY3QubGVmdDtcbiAgICByaWdodC52YWx1ZSA9IHJlY3QucmlnaHQ7XG4gICAgdG9wLnZhbHVlID0gcmVjdC50b3A7XG4gICAgd2lkdGgudmFsdWUgPSByZWN0LndpZHRoO1xuICAgIHgudmFsdWUgPSByZWN0Lng7XG4gICAgeS52YWx1ZSA9IHJlY3QueTtcbiAgfVxuICB1c2VSZXNpemVPYnNlcnZlcih0YXJnZXQsIHVwZGF0ZSk7XG4gIHdhdGNoKCgpID0+IHVucmVmRWxlbWVudCh0YXJnZXQpLCAoZWxlKSA9PiAhZWxlICYmIHVwZGF0ZSgpKTtcbiAgaWYgKHdpbmRvd1Njcm9sbClcbiAgICB1c2VFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHVwZGF0ZSwgeyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlIH0pO1xuICBpZiAod2luZG93UmVzaXplKVxuICAgIHVzZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdXBkYXRlLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIHRyeU9uTW91bnRlZCgoKSA9PiB7XG4gICAgaWYgKGltbWVkaWF0ZSlcbiAgICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBoZWlnaHQsXG4gICAgYm90dG9tLFxuICAgIGxlZnQsXG4gICAgcmlnaHQsXG4gICAgdG9wLFxuICAgIHdpZHRoLFxuICAgIHgsXG4gICAgeSxcbiAgICB1cGRhdGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlUmFmRm4oZm4sIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgaW1tZWRpYXRlID0gdHJ1ZSxcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc0FjdGl2ZSA9IHJlZihmYWxzZSk7XG4gIGxldCBwcmV2aW91c0ZyYW1lVGltZXN0YW1wID0gMDtcbiAgbGV0IHJhZklkID0gbnVsbDtcbiAgZnVuY3Rpb24gbG9vcCh0aW1lc3RhbXApIHtcbiAgICBpZiAoIWlzQWN0aXZlLnZhbHVlIHx8ICF3aW5kb3cpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZGVsdGEgPSB0aW1lc3RhbXAgLSBwcmV2aW91c0ZyYW1lVGltZXN0YW1wO1xuICAgIGZuKHsgZGVsdGEsIHRpbWVzdGFtcCB9KTtcbiAgICBwcmV2aW91c0ZyYW1lVGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgIHJhZklkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgfVxuICBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgaWYgKCFpc0FjdGl2ZS52YWx1ZSAmJiB3aW5kb3cpIHtcbiAgICAgIGlzQWN0aXZlLnZhbHVlID0gdHJ1ZTtcbiAgICAgIHJhZklkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgaXNBY3RpdmUudmFsdWUgPSBmYWxzZTtcbiAgICBpZiAocmFmSWQgIT0gbnVsbCAmJiB3aW5kb3cpIHtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShyYWZJZCk7XG4gICAgICByYWZJZCA9IG51bGw7XG4gICAgfVxuICB9XG4gIGlmIChpbW1lZGlhdGUpXG4gICAgcmVzdW1lKCk7XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHBhdXNlKTtcbiAgcmV0dXJuIHtcbiAgICBpc0FjdGl2ZTogcmVhZG9ubHkoaXNBY3RpdmUpLFxuICAgIHBhdXNlLFxuICAgIHJlc3VtZVxuICB9O1xufVxuXG52YXIgX19kZWZQcm9wJGUgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyRmID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkZiA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJGYgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCRlID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCRlKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyRlID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkZi5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJGUoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJGYpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJGYoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kZi5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkZShhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbmZ1bmN0aW9uIHVzZUVsZW1lbnRCeVBvaW50KG9wdGlvbnMpIHtcbiAgY29uc3QgZWxlbWVudCA9IHJlZihudWxsKTtcbiAgY29uc3QgeyB4LCB5LCBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudCB9ID0gb3B0aW9ucztcbiAgY29uc3QgY29udHJvbHMgPSB1c2VSYWZGbigoKSA9PiB7XG4gICAgZWxlbWVudC52YWx1ZSA9IChkb2N1bWVudCA9PSBudWxsID8gdm9pZCAwIDogZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChyZXNvbHZlVW5yZWYoeCksIHJlc29sdmVVbnJlZih5KSkpIHx8IG51bGw7XG4gIH0pO1xuICByZXR1cm4gX19zcHJlYWRWYWx1ZXMkZSh7XG4gICAgZWxlbWVudFxuICB9LCBjb250cm9scyk7XG59XG5cbmZ1bmN0aW9uIHVzZUVsZW1lbnRIb3ZlcihlbCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGRlbGF5RW50ZXIgPSBvcHRpb25zID8gb3B0aW9ucy5kZWxheUVudGVyIDogMDtcbiAgY29uc3QgZGVsYXlMZWF2ZSA9IG9wdGlvbnMgPyBvcHRpb25zLmRlbGF5TGVhdmUgOiAwO1xuICBjb25zdCBpc0hvdmVyZWQgPSByZWYoZmFsc2UpO1xuICBsZXQgdGltZXI7XG4gIGNvbnN0IHRvZ2dsZSA9IChlbnRlcmluZykgPT4ge1xuICAgIGNvbnN0IGRlbGF5ID0gZW50ZXJpbmcgPyBkZWxheUVudGVyIDogZGVsYXlMZWF2ZTtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB0aW1lciA9IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKGRlbGF5KVxuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IGlzSG92ZXJlZC52YWx1ZSA9IGVudGVyaW5nLCBkZWxheSk7XG4gICAgZWxzZVxuICAgICAgaXNIb3ZlcmVkLnZhbHVlID0gZW50ZXJpbmc7XG4gIH07XG4gIGlmICghd2luZG93KVxuICAgIHJldHVybiBpc0hvdmVyZWQ7XG4gIHVzZUV2ZW50TGlzdGVuZXIoZWwsIFwibW91c2VlbnRlclwiLCAoKSA9PiB0b2dnbGUodHJ1ZSksIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihlbCwgXCJtb3VzZWxlYXZlXCIsICgpID0+IHRvZ2dsZShmYWxzZSksIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgcmV0dXJuIGlzSG92ZXJlZDtcbn1cblxuZnVuY3Rpb24gdXNlRWxlbWVudFNpemUodGFyZ2V0LCBpbml0aWFsU2l6ZSA9IHsgd2lkdGg6IDAsIGhlaWdodDogMCB9LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93LCBib3ggPSBcImNvbnRlbnQtYm94XCIgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU1ZHID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIChfYiA9IChfYSA9IHVucmVmRWxlbWVudCh0YXJnZXQpKSA9PSBudWxsID8gdm9pZCAwIDogX2EubmFtZXNwYWNlVVJJKSA9PSBudWxsID8gdm9pZCAwIDogX2IuaW5jbHVkZXMoXCJzdmdcIik7XG4gIH0pO1xuICBjb25zdCB3aWR0aCA9IHJlZihpbml0aWFsU2l6ZS53aWR0aCk7XG4gIGNvbnN0IGhlaWdodCA9IHJlZihpbml0aWFsU2l6ZS5oZWlnaHQpO1xuICB1c2VSZXNpemVPYnNlcnZlcih0YXJnZXQsIChbZW50cnldKSA9PiB7XG4gICAgY29uc3QgYm94U2l6ZSA9IGJveCA9PT0gXCJib3JkZXItYm94XCIgPyBlbnRyeS5ib3JkZXJCb3hTaXplIDogYm94ID09PSBcImNvbnRlbnQtYm94XCIgPyBlbnRyeS5jb250ZW50Qm94U2l6ZSA6IGVudHJ5LmRldmljZVBpeGVsQ29udGVudEJveFNpemU7XG4gICAgaWYgKHdpbmRvdyAmJiBpc1NWRy52YWx1ZSkge1xuICAgICAgY29uc3QgJGVsZW0gPSB1bnJlZkVsZW1lbnQodGFyZ2V0KTtcbiAgICAgIGlmICgkZWxlbSkge1xuICAgICAgICBjb25zdCBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSgkZWxlbSk7XG4gICAgICAgIHdpZHRoLnZhbHVlID0gcGFyc2VGbG9hdChzdHlsZXMud2lkdGgpO1xuICAgICAgICBoZWlnaHQudmFsdWUgPSBwYXJzZUZsb2F0KHN0eWxlcy5oZWlnaHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYm94U2l6ZSkge1xuICAgICAgICBjb25zdCBmb3JtYXRCb3hTaXplID0gQXJyYXkuaXNBcnJheShib3hTaXplKSA/IGJveFNpemUgOiBbYm94U2l6ZV07XG4gICAgICAgIHdpZHRoLnZhbHVlID0gZm9ybWF0Qm94U2l6ZS5yZWR1Y2UoKGFjYywgeyBpbmxpbmVTaXplIH0pID0+IGFjYyArIGlubGluZVNpemUsIDApO1xuICAgICAgICBoZWlnaHQudmFsdWUgPSBmb3JtYXRCb3hTaXplLnJlZHVjZSgoYWNjLCB7IGJsb2NrU2l6ZSB9KSA9PiBhY2MgKyBibG9ja1NpemUsIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGgudmFsdWUgPSBlbnRyeS5jb250ZW50UmVjdC53aWR0aDtcbiAgICAgICAgaGVpZ2h0LnZhbHVlID0gZW50cnkuY29udGVudFJlY3QuaGVpZ2h0O1xuICAgICAgfVxuICAgIH1cbiAgfSwgb3B0aW9ucyk7XG4gIHdhdGNoKCgpID0+IHVucmVmRWxlbWVudCh0YXJnZXQpLCAoZWxlKSA9PiB7XG4gICAgd2lkdGgudmFsdWUgPSBlbGUgPyBpbml0aWFsU2l6ZS53aWR0aCA6IDA7XG4gICAgaGVpZ2h0LnZhbHVlID0gZWxlID8gaW5pdGlhbFNpemUuaGVpZ2h0IDogMDtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUVsZW1lbnRWaXNpYmlsaXR5KGVsZW1lbnQsIHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdywgc2Nyb2xsVGFyZ2V0IH0gPSB7fSkge1xuICBjb25zdCBlbGVtZW50SXNWaXNpYmxlID0gcmVmKGZhbHNlKTtcbiAgY29uc3QgdGVzdEJvdW5kaW5nID0gKCkgPT4ge1xuICAgIGlmICghd2luZG93KVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuICAgIGNvbnN0IGVsID0gdW5yZWZFbGVtZW50KGVsZW1lbnQpO1xuICAgIGlmICghZWwpIHtcbiAgICAgIGVsZW1lbnRJc1Zpc2libGUudmFsdWUgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgZWxlbWVudElzVmlzaWJsZS52YWx1ZSA9IHJlY3QudG9wIDw9ICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkgJiYgcmVjdC5sZWZ0IDw9ICh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpICYmIHJlY3QuYm90dG9tID49IDAgJiYgcmVjdC5yaWdodCA+PSAwO1xuICAgIH1cbiAgfTtcbiAgd2F0Y2goKCkgPT4gdW5yZWZFbGVtZW50KGVsZW1lbnQpLCAoKSA9PiB0ZXN0Qm91bmRpbmcoKSwgeyBpbW1lZGlhdGU6IHRydWUsIGZsdXNoOiBcInBvc3RcIiB9KTtcbiAgaWYgKHdpbmRvdykge1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoc2Nyb2xsVGFyZ2V0IHx8IHdpbmRvdywgXCJzY3JvbGxcIiwgdGVzdEJvdW5kaW5nLCB7XG4gICAgICBjYXB0dXJlOiBmYWxzZSxcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZWxlbWVudElzVmlzaWJsZTtcbn1cblxuY29uc3QgZXZlbnRzID0gbmV3IE1hcCgpO1xuXG5mdW5jdGlvbiB1c2VFdmVudEJ1cyhrZXkpIHtcbiAgY29uc3Qgc2NvcGUgPSBnZXRDdXJyZW50U2NvcGUoKTtcbiAgZnVuY3Rpb24gb24obGlzdGVuZXIpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gZXZlbnRzLmdldChrZXkpIHx8IFtdO1xuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICBldmVudHMuc2V0KGtleSwgbGlzdGVuZXJzKTtcbiAgICBjb25zdCBfb2ZmID0gKCkgPT4gb2ZmKGxpc3RlbmVyKTtcbiAgICAoX2EgPSBzY29wZSA9PSBudWxsID8gdm9pZCAwIDogc2NvcGUuY2xlYW51cHMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5wdXNoKF9vZmYpO1xuICAgIHJldHVybiBfb2ZmO1xuICB9XG4gIGZ1bmN0aW9uIG9uY2UobGlzdGVuZXIpIHtcbiAgICBmdW5jdGlvbiBfbGlzdGVuZXIoLi4uYXJncykge1xuICAgICAgb2ZmKF9saXN0ZW5lcik7XG4gICAgICBsaXN0ZW5lciguLi5hcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIG9uKF9saXN0ZW5lcik7XG4gIH1cbiAgZnVuY3Rpb24gb2ZmKGxpc3RlbmVyKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gZXZlbnRzLmdldChrZXkpO1xuICAgIGlmICghbGlzdGVuZXJzKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgaWYgKCFsaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgZXZlbnRzLmRlbGV0ZShrZXkpO1xuICB9XG4gIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIGV2ZW50cy5kZWxldGUoa2V5KTtcbiAgfVxuICBmdW5jdGlvbiBlbWl0KGV2ZW50LCBwYXlsb2FkKSB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IGV2ZW50cy5nZXQoa2V5KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKHYpID0+IHYoZXZlbnQsIHBheWxvYWQpKTtcbiAgfVxuICByZXR1cm4geyBvbiwgb25jZSwgb2ZmLCBlbWl0LCByZXNldCB9O1xufVxuXG5mdW5jdGlvbiB1c2VFdmVudFNvdXJjZSh1cmwsIGV2ZW50cyA9IFtdLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgZXZlbnQgPSByZWYobnVsbCk7XG4gIGNvbnN0IGRhdGEgPSByZWYobnVsbCk7XG4gIGNvbnN0IHN0YXR1cyA9IHJlZihcIkNPTk5FQ1RJTkdcIik7XG4gIGNvbnN0IGV2ZW50U291cmNlID0gcmVmKG51bGwpO1xuICBjb25zdCBlcnJvciA9IHJlZihudWxsKTtcbiAgY29uc3Qge1xuICAgIHdpdGhDcmVkZW50aWFscyA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBjbG9zZSA9ICgpID0+IHtcbiAgICBpZiAoZXZlbnRTb3VyY2UudmFsdWUpIHtcbiAgICAgIGV2ZW50U291cmNlLnZhbHVlLmNsb3NlKCk7XG4gICAgICBldmVudFNvdXJjZS52YWx1ZSA9IG51bGw7XG4gICAgICBzdGF0dXMudmFsdWUgPSBcIkNMT1NFRFwiO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZXMgPSBuZXcgRXZlbnRTb3VyY2UodXJsLCB7IHdpdGhDcmVkZW50aWFscyB9KTtcbiAgZXZlbnRTb3VyY2UudmFsdWUgPSBlcztcbiAgZXMub25vcGVuID0gKCkgPT4ge1xuICAgIHN0YXR1cy52YWx1ZSA9IFwiT1BFTlwiO1xuICAgIGVycm9yLnZhbHVlID0gbnVsbDtcbiAgfTtcbiAgZXMub25lcnJvciA9IChlKSA9PiB7XG4gICAgc3RhdHVzLnZhbHVlID0gXCJDTE9TRURcIjtcbiAgICBlcnJvci52YWx1ZSA9IGU7XG4gIH07XG4gIGVzLm9ubWVzc2FnZSA9IChlKSA9PiB7XG4gICAgZXZlbnQudmFsdWUgPSBudWxsO1xuICAgIGRhdGEudmFsdWUgPSBlLmRhdGE7XG4gIH07XG4gIGZvciAoY29uc3QgZXZlbnRfbmFtZSBvZiBldmVudHMpIHtcbiAgICB1c2VFdmVudExpc3RlbmVyKGVzLCBldmVudF9uYW1lLCAoZSkgPT4ge1xuICAgICAgZXZlbnQudmFsdWUgPSBldmVudF9uYW1lO1xuICAgICAgZGF0YS52YWx1ZSA9IGUuZGF0YSB8fCBudWxsO1xuICAgIH0pO1xuICB9XG4gIHRyeU9uU2NvcGVEaXNwb3NlKCgpID0+IHtcbiAgICBjbG9zZSgpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBldmVudFNvdXJjZSxcbiAgICBldmVudCxcbiAgICBkYXRhLFxuICAgIHN0YXR1cyxcbiAgICBlcnJvcixcbiAgICBjbG9zZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VFeWVEcm9wcGVyKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IGluaXRpYWxWYWx1ZSA9IFwiXCIgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgXCJFeWVEcm9wcGVyXCIgaW4gd2luZG93KTtcbiAgY29uc3Qgc1JHQkhleCA9IHJlZihpbml0aWFsVmFsdWUpO1xuICBhc3luYyBmdW5jdGlvbiBvcGVuKG9wZW5PcHRpb25zKSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBleWVEcm9wcGVyID0gbmV3IHdpbmRvdy5FeWVEcm9wcGVyKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXllRHJvcHBlci5vcGVuKG9wZW5PcHRpb25zKTtcbiAgICBzUkdCSGV4LnZhbHVlID0gcmVzdWx0LnNSR0JIZXg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICByZXR1cm4geyBpc1N1cHBvcnRlZCwgc1JHQkhleCwgb3BlbiB9O1xufVxuXG5mdW5jdGlvbiB1c2VGYXZpY29uKG5ld0ljb24gPSBudWxsLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGJhc2VVcmwgPSBcIlwiLFxuICAgIHJlbCA9IFwiaWNvblwiLFxuICAgIGRvY3VtZW50ID0gZGVmYXVsdERvY3VtZW50XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBmYXZpY29uID0gcmVzb2x2ZVJlZihuZXdJY29uKTtcbiAgY29uc3QgYXBwbHlJY29uID0gKGljb24pID0+IHtcbiAgICBkb2N1bWVudCA9PSBudWxsID8gdm9pZCAwIDogZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yQWxsKGBsaW5rW3JlbCo9XCIke3JlbH1cIl1gKS5mb3JFYWNoKChlbCkgPT4gZWwuaHJlZiA9IGAke2Jhc2VVcmx9JHtpY29ufWApO1xuICB9O1xuICB3YXRjaChmYXZpY29uLCAoaSwgbykgPT4ge1xuICAgIGlmIChpc1N0cmluZyhpKSAmJiBpICE9PSBvKVxuICAgICAgYXBwbHlJY29uKGkpO1xuICB9LCB7IGltbWVkaWF0ZTogdHJ1ZSB9KTtcbiAgcmV0dXJuIGZhdmljb247XG59XG5cbnZhciBfX2RlZlByb3AkZCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzJDMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBfX2dldE93blByb3BEZXNjcyQzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyRlID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkZSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCRkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCRkKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyRkID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkZS5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJGQoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJGUpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJGUoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kZS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkZChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzJDMgPSAoYSwgYikgPT4gX19kZWZQcm9wcyQzKGEsIF9fZ2V0T3duUHJvcERlc2NzJDMoYikpO1xuY29uc3QgcGF5bG9hZE1hcHBpbmcgPSB7XG4gIGpzb246IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB0ZXh0OiBcInRleHQvcGxhaW5cIlxufTtcbmZ1bmN0aW9uIGlzRmV0Y2hPcHRpb25zKG9iaikge1xuICByZXR1cm4gb2JqICYmIGNvbnRhaW5zUHJvcChvYmosIFwiaW1tZWRpYXRlXCIsIFwicmVmZXRjaFwiLCBcImluaXRpYWxEYXRhXCIsIFwidGltZW91dFwiLCBcImJlZm9yZUZldGNoXCIsIFwiYWZ0ZXJGZXRjaFwiLCBcIm9uRmV0Y2hFcnJvclwiLCBcImZldGNoXCIpO1xufVxuZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59XG5mdW5jdGlvbiBoZWFkZXJzVG9PYmplY3QoaGVhZGVycykge1xuICBpZiAodHlwZW9mIEhlYWRlcnMgIT09IFwidW5kZWZpbmVkXCIgJiYgaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpXG4gICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhbLi4uaGVhZGVycy5lbnRyaWVzKCldKTtcbiAgcmV0dXJuIGhlYWRlcnM7XG59XG5mdW5jdGlvbiBjb21iaW5lQ2FsbGJhY2tzKGNvbWJpbmF0aW9uLCAuLi5jYWxsYmFja3MpIHtcbiAgaWYgKGNvbWJpbmF0aW9uID09PSBcIm92ZXJ3cml0ZVwiKSB7XG4gICAgcmV0dXJuIGFzeW5jIChjdHgpID0+IHtcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gY2FsbGJhY2tzW2NhbGxiYWNrcy5sZW5ndGggLSAxXTtcbiAgICAgIGlmIChjYWxsYmFjayAhPT0gdm9pZCAwKVxuICAgICAgICBhd2FpdCBjYWxsYmFjayhjdHgpO1xuICAgICAgcmV0dXJuIGN0eDtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBhc3luYyAoY3R4KSA9PiB7XG4gICAgICBhd2FpdCBjYWxsYmFja3MucmVkdWNlKChwcmV2Q2FsbGJhY2ssIGNhbGxiYWNrKSA9PiBwcmV2Q2FsbGJhY2sudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChjYWxsYmFjaylcbiAgICAgICAgICBjdHggPSBfX3NwcmVhZFZhbHVlcyRkKF9fc3ByZWFkVmFsdWVzJGQoe30sIGN0eCksIGF3YWl0IGNhbGxiYWNrKGN0eCkpO1xuICAgICAgfSksIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgIHJldHVybiBjdHg7XG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlRmV0Y2goY29uZmlnID0ge30pIHtcbiAgY29uc3QgX2NvbWJpbmF0aW9uID0gY29uZmlnLmNvbWJpbmF0aW9uIHx8IFwiY2hhaW5cIjtcbiAgY29uc3QgX29wdGlvbnMgPSBjb25maWcub3B0aW9ucyB8fCB7fTtcbiAgY29uc3QgX2ZldGNoT3B0aW9ucyA9IGNvbmZpZy5mZXRjaE9wdGlvbnMgfHwge307XG4gIGZ1bmN0aW9uIHVzZUZhY3RvcnlGZXRjaCh1cmwsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBjb21wdXRlZFVybCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IGJhc2VVcmwgPSByZXNvbHZlVW5yZWYoY29uZmlnLmJhc2VVcmwpO1xuICAgICAgY29uc3QgdGFyZ2V0VXJsID0gcmVzb2x2ZVVucmVmKHVybCk7XG4gICAgICByZXR1cm4gYmFzZVVybCAmJiAhaXNBYnNvbHV0ZVVSTCh0YXJnZXRVcmwpID8gam9pblBhdGhzKGJhc2VVcmwsIHRhcmdldFVybCkgOiB0YXJnZXRVcmw7XG4gICAgfSk7XG4gICAgbGV0IG9wdGlvbnMgPSBfb3B0aW9ucztcbiAgICBsZXQgZmV0Y2hPcHRpb25zID0gX2ZldGNoT3B0aW9ucztcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoaXNGZXRjaE9wdGlvbnMoYXJnc1swXSkpIHtcbiAgICAgICAgb3B0aW9ucyA9IF9fc3ByZWFkUHJvcHMkMyhfX3NwcmVhZFZhbHVlcyRkKF9fc3ByZWFkVmFsdWVzJGQoe30sIG9wdGlvbnMpLCBhcmdzWzBdKSwge1xuICAgICAgICAgIGJlZm9yZUZldGNoOiBjb21iaW5lQ2FsbGJhY2tzKF9jb21iaW5hdGlvbiwgX29wdGlvbnMuYmVmb3JlRmV0Y2gsIGFyZ3NbMF0uYmVmb3JlRmV0Y2gpLFxuICAgICAgICAgIGFmdGVyRmV0Y2g6IGNvbWJpbmVDYWxsYmFja3MoX2NvbWJpbmF0aW9uLCBfb3B0aW9ucy5hZnRlckZldGNoLCBhcmdzWzBdLmFmdGVyRmV0Y2gpLFxuICAgICAgICAgIG9uRmV0Y2hFcnJvcjogY29tYmluZUNhbGxiYWNrcyhfY29tYmluYXRpb24sIF9vcHRpb25zLm9uRmV0Y2hFcnJvciwgYXJnc1swXS5vbkZldGNoRXJyb3IpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmV0Y2hPcHRpb25zID0gX19zcHJlYWRQcm9wcyQzKF9fc3ByZWFkVmFsdWVzJGQoX19zcHJlYWRWYWx1ZXMkZCh7fSwgZmV0Y2hPcHRpb25zKSwgYXJnc1swXSksIHtcbiAgICAgICAgICBoZWFkZXJzOiBfX3NwcmVhZFZhbHVlcyRkKF9fc3ByZWFkVmFsdWVzJGQoe30sIGhlYWRlcnNUb09iamVjdChmZXRjaE9wdGlvbnMuaGVhZGVycykgfHwge30pLCBoZWFkZXJzVG9PYmplY3QoYXJnc1swXS5oZWFkZXJzKSB8fCB7fSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhcmdzLmxlbmd0aCA+IDEgJiYgaXNGZXRjaE9wdGlvbnMoYXJnc1sxXSkpIHtcbiAgICAgIG9wdGlvbnMgPSBfX3NwcmVhZFByb3BzJDMoX19zcHJlYWRWYWx1ZXMkZChfX3NwcmVhZFZhbHVlcyRkKHt9LCBvcHRpb25zKSwgYXJnc1sxXSksIHtcbiAgICAgICAgYmVmb3JlRmV0Y2g6IGNvbWJpbmVDYWxsYmFja3MoX2NvbWJpbmF0aW9uLCBfb3B0aW9ucy5iZWZvcmVGZXRjaCwgYXJnc1sxXS5iZWZvcmVGZXRjaCksXG4gICAgICAgIGFmdGVyRmV0Y2g6IGNvbWJpbmVDYWxsYmFja3MoX2NvbWJpbmF0aW9uLCBfb3B0aW9ucy5hZnRlckZldGNoLCBhcmdzWzFdLmFmdGVyRmV0Y2gpLFxuICAgICAgICBvbkZldGNoRXJyb3I6IGNvbWJpbmVDYWxsYmFja3MoX2NvbWJpbmF0aW9uLCBfb3B0aW9ucy5vbkZldGNoRXJyb3IsIGFyZ3NbMV0ub25GZXRjaEVycm9yKVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB1c2VGZXRjaChjb21wdXRlZFVybCwgZmV0Y2hPcHRpb25zLCBvcHRpb25zKTtcbiAgfVxuICByZXR1cm4gdXNlRmFjdG9yeUZldGNoO1xufVxuZnVuY3Rpb24gdXNlRmV0Y2godXJsLCAuLi5hcmdzKSB7XG4gIHZhciBfYTtcbiAgY29uc3Qgc3VwcG9ydHNBYm9ydCA9IHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgPT09IFwiZnVuY3Rpb25cIjtcbiAgbGV0IGZldGNoT3B0aW9ucyA9IHt9O1xuICBsZXQgb3B0aW9ucyA9IHsgaW1tZWRpYXRlOiB0cnVlLCByZWZldGNoOiBmYWxzZSwgdGltZW91dDogMCB9O1xuICBjb25zdCBjb25maWcgPSB7XG4gICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIHR5cGU6IFwidGV4dFwiLFxuICAgIHBheWxvYWQ6IHZvaWQgMFxuICB9O1xuICBpZiAoYXJncy5sZW5ndGggPiAwKSB7XG4gICAgaWYgKGlzRmV0Y2hPcHRpb25zKGFyZ3NbMF0pKVxuICAgICAgb3B0aW9ucyA9IF9fc3ByZWFkVmFsdWVzJGQoX19zcHJlYWRWYWx1ZXMkZCh7fSwgb3B0aW9ucyksIGFyZ3NbMF0pO1xuICAgIGVsc2VcbiAgICAgIGZldGNoT3B0aW9ucyA9IGFyZ3NbMF07XG4gIH1cbiAgaWYgKGFyZ3MubGVuZ3RoID4gMSkge1xuICAgIGlmIChpc0ZldGNoT3B0aW9ucyhhcmdzWzFdKSlcbiAgICAgIG9wdGlvbnMgPSBfX3NwcmVhZFZhbHVlcyRkKF9fc3ByZWFkVmFsdWVzJGQoe30sIG9wdGlvbnMpLCBhcmdzWzFdKTtcbiAgfVxuICBjb25zdCB7XG4gICAgZmV0Y2ggPSAoX2EgPSBkZWZhdWx0V2luZG93KSA9PSBudWxsID8gdm9pZCAwIDogX2EuZmV0Y2gsXG4gICAgaW5pdGlhbERhdGEsXG4gICAgdGltZW91dFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcmVzcG9uc2VFdmVudCA9IGNyZWF0ZUV2ZW50SG9vaygpO1xuICBjb25zdCBlcnJvckV2ZW50ID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IGZpbmFsbHlFdmVudCA9IGNyZWF0ZUV2ZW50SG9vaygpO1xuICBjb25zdCBpc0ZpbmlzaGVkID0gcmVmKGZhbHNlKTtcbiAgY29uc3QgaXNGZXRjaGluZyA9IHJlZihmYWxzZSk7XG4gIGNvbnN0IGFib3J0ZWQgPSByZWYoZmFsc2UpO1xuICBjb25zdCBzdGF0dXNDb2RlID0gcmVmKG51bGwpO1xuICBjb25zdCByZXNwb25zZSA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGNvbnN0IGVycm9yID0gc2hhbGxvd1JlZihudWxsKTtcbiAgY29uc3QgZGF0YSA9IHNoYWxsb3dSZWYoaW5pdGlhbERhdGEpO1xuICBjb25zdCBjYW5BYm9ydCA9IGNvbXB1dGVkKCgpID0+IHN1cHBvcnRzQWJvcnQgJiYgaXNGZXRjaGluZy52YWx1ZSk7XG4gIGxldCBjb250cm9sbGVyO1xuICBsZXQgdGltZXI7XG4gIGNvbnN0IGFib3J0ID0gKCkgPT4ge1xuICAgIGlmIChzdXBwb3J0c0Fib3J0ICYmIGNvbnRyb2xsZXIpIHtcbiAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIGNvbnRyb2xsZXIgPSB2b2lkIDA7XG4gICAgfVxuICB9O1xuICBjb25zdCBsb2FkaW5nID0gKGlzTG9hZGluZykgPT4ge1xuICAgIGlzRmV0Y2hpbmcudmFsdWUgPSBpc0xvYWRpbmc7XG4gICAgaXNGaW5pc2hlZC52YWx1ZSA9ICFpc0xvYWRpbmc7XG4gIH07XG4gIGlmICh0aW1lb3V0KVxuICAgIHRpbWVyID0gdXNlVGltZW91dEZuKGFib3J0LCB0aW1lb3V0LCB7IGltbWVkaWF0ZTogZmFsc2UgfSk7XG4gIGNvbnN0IGV4ZWN1dGUgPSBhc3luYyAodGhyb3dPbkZhaWxlZCA9IGZhbHNlKSA9PiB7XG4gICAgdmFyIF9hMjtcbiAgICBsb2FkaW5nKHRydWUpO1xuICAgIGVycm9yLnZhbHVlID0gbnVsbDtcbiAgICBzdGF0dXNDb2RlLnZhbHVlID0gbnVsbDtcbiAgICBhYm9ydGVkLnZhbHVlID0gZmFsc2U7XG4gICAgaWYgKHN1cHBvcnRzQWJvcnQpIHtcbiAgICAgIGFib3J0KCk7XG4gICAgICBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgY29udHJvbGxlci5zaWduYWwub25hYm9ydCA9ICgpID0+IGFib3J0ZWQudmFsdWUgPSB0cnVlO1xuICAgICAgZmV0Y2hPcHRpb25zID0gX19zcHJlYWRQcm9wcyQzKF9fc3ByZWFkVmFsdWVzJGQoe30sIGZldGNoT3B0aW9ucyksIHtcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGRlZmF1bHRGZXRjaE9wdGlvbnMgPSB7XG4gICAgICBtZXRob2Q6IGNvbmZpZy5tZXRob2QsXG4gICAgICBoZWFkZXJzOiB7fVxuICAgIH07XG4gICAgaWYgKGNvbmZpZy5wYXlsb2FkKSB7XG4gICAgICBjb25zdCBoZWFkZXJzID0gaGVhZGVyc1RvT2JqZWN0KGRlZmF1bHRGZXRjaE9wdGlvbnMuaGVhZGVycyk7XG4gICAgICBpZiAoY29uZmlnLnBheWxvYWRUeXBlKVxuICAgICAgICBoZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID0gKF9hMiA9IHBheWxvYWRNYXBwaW5nW2NvbmZpZy5wYXlsb2FkVHlwZV0pICE9IG51bGwgPyBfYTIgOiBjb25maWcucGF5bG9hZFR5cGU7XG4gICAgICBjb25zdCBwYXlsb2FkID0gcmVzb2x2ZVVucmVmKGNvbmZpZy5wYXlsb2FkKTtcbiAgICAgIGRlZmF1bHRGZXRjaE9wdGlvbnMuYm9keSA9IGNvbmZpZy5wYXlsb2FkVHlwZSA9PT0gXCJqc29uXCIgPyBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSA6IHBheWxvYWQ7XG4gICAgfVxuICAgIGxldCBpc0NhbmNlbGVkID0gZmFsc2U7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgIHVybDogcmVzb2x2ZVVucmVmKHVybCksXG4gICAgICBvcHRpb25zOiBfX3NwcmVhZFZhbHVlcyRkKF9fc3ByZWFkVmFsdWVzJGQoe30sIGRlZmF1bHRGZXRjaE9wdGlvbnMpLCBmZXRjaE9wdGlvbnMpLFxuICAgICAgY2FuY2VsOiAoKSA9PiB7XG4gICAgICAgIGlzQ2FuY2VsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKG9wdGlvbnMuYmVmb3JlRmV0Y2gpXG4gICAgICBPYmplY3QuYXNzaWduKGNvbnRleHQsIGF3YWl0IG9wdGlvbnMuYmVmb3JlRmV0Y2goY29udGV4dCkpO1xuICAgIGlmIChpc0NhbmNlbGVkIHx8ICFmZXRjaCkge1xuICAgICAgbG9hZGluZyhmYWxzZSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cbiAgICBsZXQgcmVzcG9uc2VEYXRhID0gbnVsbDtcbiAgICBpZiAodGltZXIpXG4gICAgICB0aW1lci5zdGFydCgpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB2YXIgX2EzO1xuICAgICAgZmV0Y2goY29udGV4dC51cmwsIF9fc3ByZWFkUHJvcHMkMyhfX3NwcmVhZFZhbHVlcyRkKF9fc3ByZWFkVmFsdWVzJGQoe30sIGRlZmF1bHRGZXRjaE9wdGlvbnMpLCBjb250ZXh0Lm9wdGlvbnMpLCB7XG4gICAgICAgIGhlYWRlcnM6IF9fc3ByZWFkVmFsdWVzJGQoX19zcHJlYWRWYWx1ZXMkZCh7fSwgaGVhZGVyc1RvT2JqZWN0KGRlZmF1bHRGZXRjaE9wdGlvbnMuaGVhZGVycykpLCBoZWFkZXJzVG9PYmplY3QoKF9hMyA9IGNvbnRleHQub3B0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy5oZWFkZXJzKSlcbiAgICAgIH0pKS50aGVuKGFzeW5jIChmZXRjaFJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3BvbnNlLnZhbHVlID0gZmV0Y2hSZXNwb25zZTtcbiAgICAgICAgc3RhdHVzQ29kZS52YWx1ZSA9IGZldGNoUmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICByZXNwb25zZURhdGEgPSBhd2FpdCBmZXRjaFJlc3BvbnNlW2NvbmZpZy50eXBlXSgpO1xuICAgICAgICBpZiAob3B0aW9ucy5hZnRlckZldGNoICYmIHN0YXR1c0NvZGUudmFsdWUgPj0gMjAwICYmIHN0YXR1c0NvZGUudmFsdWUgPCAzMDApXG4gICAgICAgICAgKHsgZGF0YTogcmVzcG9uc2VEYXRhIH0gPSBhd2FpdCBvcHRpb25zLmFmdGVyRmV0Y2goeyBkYXRhOiByZXNwb25zZURhdGEsIHJlc3BvbnNlOiBmZXRjaFJlc3BvbnNlIH0pKTtcbiAgICAgICAgZGF0YS52YWx1ZSA9IHJlc3BvbnNlRGF0YTtcbiAgICAgICAgaWYgKCFmZXRjaFJlc3BvbnNlLm9rKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihmZXRjaFJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICByZXNwb25zZUV2ZW50LnRyaWdnZXIoZmV0Y2hSZXNwb25zZSk7XG4gICAgICAgIHJldHVybiByZXNvbHZlKGZldGNoUmVzcG9uc2UpO1xuICAgICAgfSkuY2F0Y2goYXN5bmMgKGZldGNoRXJyb3IpID0+IHtcbiAgICAgICAgbGV0IGVycm9yRGF0YSA9IGZldGNoRXJyb3IubWVzc2FnZSB8fCBmZXRjaEVycm9yLm5hbWU7XG4gICAgICAgIGlmIChvcHRpb25zLm9uRmV0Y2hFcnJvcilcbiAgICAgICAgICAoeyBkYXRhOiByZXNwb25zZURhdGEsIGVycm9yOiBlcnJvckRhdGEgfSA9IGF3YWl0IG9wdGlvbnMub25GZXRjaEVycm9yKHsgZGF0YTogcmVzcG9uc2VEYXRhLCBlcnJvcjogZmV0Y2hFcnJvciwgcmVzcG9uc2U6IHJlc3BvbnNlLnZhbHVlIH0pKTtcbiAgICAgICAgZGF0YS52YWx1ZSA9IHJlc3BvbnNlRGF0YTtcbiAgICAgICAgZXJyb3IudmFsdWUgPSBlcnJvckRhdGE7XG4gICAgICAgIGVycm9yRXZlbnQudHJpZ2dlcihmZXRjaEVycm9yKTtcbiAgICAgICAgaWYgKHRocm93T25GYWlsZWQpXG4gICAgICAgICAgcmV0dXJuIHJlamVjdChmZXRjaEVycm9yKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7XG4gICAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgbG9hZGluZyhmYWxzZSk7XG4gICAgICAgIGlmICh0aW1lcilcbiAgICAgICAgICB0aW1lci5zdG9wKCk7XG4gICAgICAgIGZpbmFsbHlFdmVudC50cmlnZ2VyKG51bGwpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IHJlZmV0Y2ggPSByZXNvbHZlUmVmKG9wdGlvbnMucmVmZXRjaCk7XG4gIHdhdGNoKFtcbiAgICByZWZldGNoLFxuICAgIHJlc29sdmVSZWYodXJsKVxuICBdLCAoW3JlZmV0Y2gyXSkgPT4gcmVmZXRjaDIgJiYgZXhlY3V0ZSgpLCB7IGRlZXA6IHRydWUgfSk7XG4gIGNvbnN0IHNoZWxsID0ge1xuICAgIGlzRmluaXNoZWQsXG4gICAgc3RhdHVzQ29kZSxcbiAgICByZXNwb25zZSxcbiAgICBlcnJvcixcbiAgICBkYXRhLFxuICAgIGlzRmV0Y2hpbmcsXG4gICAgY2FuQWJvcnQsXG4gICAgYWJvcnRlZCxcbiAgICBhYm9ydCxcbiAgICBleGVjdXRlLFxuICAgIG9uRmV0Y2hSZXNwb25zZTogcmVzcG9uc2VFdmVudC5vbixcbiAgICBvbkZldGNoRXJyb3I6IGVycm9yRXZlbnQub24sXG4gICAgb25GZXRjaEZpbmFsbHk6IGZpbmFsbHlFdmVudC5vbixcbiAgICBnZXQ6IHNldE1ldGhvZChcIkdFVFwiKSxcbiAgICBwdXQ6IHNldE1ldGhvZChcIlBVVFwiKSxcbiAgICBwb3N0OiBzZXRNZXRob2QoXCJQT1NUXCIpLFxuICAgIGRlbGV0ZTogc2V0TWV0aG9kKFwiREVMRVRFXCIpLFxuICAgIHBhdGNoOiBzZXRNZXRob2QoXCJQQVRDSFwiKSxcbiAgICBoZWFkOiBzZXRNZXRob2QoXCJIRUFEXCIpLFxuICAgIG9wdGlvbnM6IHNldE1ldGhvZChcIk9QVElPTlNcIiksXG4gICAganNvbjogc2V0VHlwZShcImpzb25cIiksXG4gICAgdGV4dDogc2V0VHlwZShcInRleHRcIiksXG4gICAgYmxvYjogc2V0VHlwZShcImJsb2JcIiksXG4gICAgYXJyYXlCdWZmZXI6IHNldFR5cGUoXCJhcnJheUJ1ZmZlclwiKSxcbiAgICBmb3JtRGF0YTogc2V0VHlwZShcImZvcm1EYXRhXCIpXG4gIH07XG4gIGZ1bmN0aW9uIHNldE1ldGhvZChtZXRob2QpIHtcbiAgICByZXR1cm4gKHBheWxvYWQsIHBheWxvYWRUeXBlKSA9PiB7XG4gICAgICBpZiAoIWlzRmV0Y2hpbmcudmFsdWUpIHtcbiAgICAgICAgY29uZmlnLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgY29uZmlnLnBheWxvYWQgPSBwYXlsb2FkO1xuICAgICAgICBjb25maWcucGF5bG9hZFR5cGUgPSBwYXlsb2FkVHlwZTtcbiAgICAgICAgaWYgKGlzUmVmKGNvbmZpZy5wYXlsb2FkKSkge1xuICAgICAgICAgIHdhdGNoKFtcbiAgICAgICAgICAgIHJlZmV0Y2gsXG4gICAgICAgICAgICByZXNvbHZlUmVmKGNvbmZpZy5wYXlsb2FkKVxuICAgICAgICAgIF0sIChbcmVmZXRjaDJdKSA9PiByZWZldGNoMiAmJiBleGVjdXRlKCksIHsgZGVlcDogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYXdQYXlsb2FkID0gcmVzb2x2ZVVucmVmKGNvbmZpZy5wYXlsb2FkKTtcbiAgICAgICAgaWYgKCFwYXlsb2FkVHlwZSAmJiByYXdQYXlsb2FkICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihyYXdQYXlsb2FkKSA9PT0gT2JqZWN0LnByb3RvdHlwZSAmJiAhKHJhd1BheWxvYWQgaW5zdGFuY2VvZiBGb3JtRGF0YSkpXG4gICAgICAgICAgY29uZmlnLnBheWxvYWRUeXBlID0gXCJqc29uXCI7XG4gICAgICAgIHJldHVybiBfX3NwcmVhZFByb3BzJDMoX19zcHJlYWRWYWx1ZXMkZCh7fSwgc2hlbGwpLCB7XG4gICAgICAgICAgdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHdhaXRVbnRpbEZpbmlzaGVkKCkudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiB3YWl0VW50aWxGaW5pc2hlZCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdW50aWwoaXNGaW5pc2hlZCkudG9CZSh0cnVlKS50aGVuKCgpID0+IHJlc29sdmUoc2hlbGwpKS5jYXRjaCgoZXJyb3IyKSA9PiByZWplY3QoZXJyb3IyKSk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gc2V0VHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICghaXNGZXRjaGluZy52YWx1ZSkge1xuICAgICAgICBjb25maWcudHlwZSA9IHR5cGU7XG4gICAgICAgIHJldHVybiBfX3NwcmVhZFByb3BzJDMoX19zcHJlYWRWYWx1ZXMkZCh7fSwgc2hlbGwpLCB7XG4gICAgICAgICAgdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHdhaXRVbnRpbEZpbmlzaGVkKCkudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfTtcbiAgfVxuICBpZiAob3B0aW9ucy5pbW1lZGlhdGUpXG4gICAgc2V0VGltZW91dChleGVjdXRlLCAwKTtcbiAgcmV0dXJuIF9fc3ByZWFkUHJvcHMkMyhfX3NwcmVhZFZhbHVlcyRkKHt9LCBzaGVsbCksIHtcbiAgICB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgICByZXR1cm4gd2FpdFVudGlsRmluaXNoZWQoKS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gam9pblBhdGhzKHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFzdGFydC5lbmRzV2l0aChcIi9cIikgJiYgIWVuZC5zdGFydHNXaXRoKFwiL1wiKSlcbiAgICByZXR1cm4gYCR7c3RhcnR9LyR7ZW5kfWA7XG4gIHJldHVybiBgJHtzdGFydH0ke2VuZH1gO1xufVxuXG52YXIgX19kZWZQcm9wJGMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyRkID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkZCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJGQgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCRjID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCRjKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyRjID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkZC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJGMoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJGQpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJGQoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kZC5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkYyhhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgbXVsdGlwbGU6IHRydWUsXG4gIGFjY2VwdDogXCIqXCJcbn07XG5mdW5jdGlvbiB1c2VGaWxlRGlhbG9nKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgZG9jdW1lbnQgPSBkZWZhdWx0RG9jdW1lbnRcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGZpbGVzID0gcmVmKG51bGwpO1xuICBsZXQgaW5wdXQ7XG4gIGlmIChkb2N1bWVudCkge1xuICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGlucHV0LnR5cGUgPSBcImZpbGVcIjtcbiAgICBpbnB1dC5vbmNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgZmlsZXMudmFsdWUgPSByZXN1bHQuZmlsZXM7XG4gICAgfTtcbiAgfVxuICBjb25zdCBvcGVuID0gKGxvY2FsT3B0aW9ucykgPT4ge1xuICAgIGlmICghaW5wdXQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgX29wdGlvbnMgPSBfX3NwcmVhZFZhbHVlcyRjKF9fc3ByZWFkVmFsdWVzJGMoX19zcHJlYWRWYWx1ZXMkYyh7fSwgREVGQVVMVF9PUFRJT05TKSwgb3B0aW9ucyksIGxvY2FsT3B0aW9ucyk7XG4gICAgaW5wdXQubXVsdGlwbGUgPSBfb3B0aW9ucy5tdWx0aXBsZTtcbiAgICBpbnB1dC5hY2NlcHQgPSBfb3B0aW9ucy5hY2NlcHQ7XG4gICAgaWYgKGhhc093bihfb3B0aW9ucywgXCJjYXB0dXJlXCIpKVxuICAgICAgaW5wdXQuY2FwdHVyZSA9IF9vcHRpb25zLmNhcHR1cmU7XG4gICAgaW5wdXQuY2xpY2soKTtcbiAgfTtcbiAgY29uc3QgcmVzZXQgPSAoKSA9PiB7XG4gICAgZmlsZXMudmFsdWUgPSBudWxsO1xuICAgIGlmIChpbnB1dClcbiAgICAgIGlucHV0LnZhbHVlID0gXCJcIjtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBmaWxlczogcmVhZG9ubHkoZmlsZXMpLFxuICAgIG9wZW4sXG4gICAgcmVzZXRcbiAgfTtcbn1cblxudmFyIF9fZGVmUHJvcCRiID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJGMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSRjID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AkYiA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkYihvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMkYiA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJGMuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcCRiKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scyRjKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyRjKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtJGMuY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wJGIoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG5mdW5jdGlvbiB1c2VGaWxlU3lzdGVtQWNjZXNzKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgd2luZG93OiBfd2luZG93ID0gZGVmYXVsdFdpbmRvdyxcbiAgICBkYXRhVHlwZSA9IFwiVGV4dFwiXG4gIH0gPSB1bnJlZihvcHRpb25zKTtcbiAgY29uc3Qgd2luZG93ID0gX3dpbmRvdztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gd2luZG93ICYmIFwic2hvd1NhdmVGaWxlUGlja2VyXCIgaW4gd2luZG93ICYmIFwic2hvd09wZW5GaWxlUGlja2VyXCIgaW4gd2luZG93KTtcbiAgY29uc3QgZmlsZUhhbmRsZSA9IHJlZigpO1xuICBjb25zdCBkYXRhID0gcmVmKCk7XG4gIGNvbnN0IGZpbGUgPSByZWYoKTtcbiAgY29uc3QgZmlsZU5hbWUgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gKF9iID0gKF9hID0gZmlsZS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm5hbWUpICE9IG51bGwgPyBfYiA6IFwiXCI7XG4gIH0pO1xuICBjb25zdCBmaWxlTUlNRSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiAoX2IgPSAoX2EgPSBmaWxlLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EudHlwZSkgIT0gbnVsbCA/IF9iIDogXCJcIjtcbiAgfSk7XG4gIGNvbnN0IGZpbGVTaXplID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIChfYiA9IChfYSA9IGZpbGUudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zaXplKSAhPSBudWxsID8gX2IgOiAwO1xuICB9KTtcbiAgY29uc3QgZmlsZUxhc3RNb2RpZmllZCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiAoX2IgPSAoX2EgPSBmaWxlLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EubGFzdE1vZGlmaWVkKSAhPSBudWxsID8gX2IgOiAwO1xuICB9KTtcbiAgYXN5bmMgZnVuY3Rpb24gb3Blbihfb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBbaGFuZGxlXSA9IGF3YWl0IHdpbmRvdy5zaG93T3BlbkZpbGVQaWNrZXIoX19zcHJlYWRWYWx1ZXMkYihfX3NwcmVhZFZhbHVlcyRiKHt9LCB1bnJlZihvcHRpb25zKSksIF9vcHRpb25zKSk7XG4gICAgZmlsZUhhbmRsZS52YWx1ZSA9IGhhbmRsZTtcbiAgICBhd2FpdCB1cGRhdGVGaWxlKCk7XG4gICAgYXdhaXQgdXBkYXRlRGF0YSgpO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZShfb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBmaWxlSGFuZGxlLnZhbHVlID0gYXdhaXQgd2luZG93LnNob3dTYXZlRmlsZVBpY2tlcihfX3NwcmVhZFZhbHVlcyRiKF9fc3ByZWFkVmFsdWVzJGIoe30sIHVucmVmKG9wdGlvbnMpKSwgX29wdGlvbnMpKTtcbiAgICBkYXRhLnZhbHVlID0gdm9pZCAwO1xuICAgIGF3YWl0IHVwZGF0ZUZpbGUoKTtcbiAgICBhd2FpdCB1cGRhdGVEYXRhKCk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gc2F2ZShfb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoIWZpbGVIYW5kbGUudmFsdWUpXG4gICAgICByZXR1cm4gc2F2ZUFzKF9vcHRpb25zKTtcbiAgICBpZiAoZGF0YS52YWx1ZSkge1xuICAgICAgY29uc3Qgd3JpdGFibGVTdHJlYW0gPSBhd2FpdCBmaWxlSGFuZGxlLnZhbHVlLmNyZWF0ZVdyaXRhYmxlKCk7XG4gICAgICBhd2FpdCB3cml0YWJsZVN0cmVhbS53cml0ZShkYXRhLnZhbHVlKTtcbiAgICAgIGF3YWl0IHdyaXRhYmxlU3RyZWFtLmNsb3NlKCk7XG4gICAgfVxuICAgIGF3YWl0IHVwZGF0ZUZpbGUoKTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBzYXZlQXMoX29wdGlvbnMgPSB7fSkge1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgZmlsZUhhbmRsZS52YWx1ZSA9IGF3YWl0IHdpbmRvdy5zaG93U2F2ZUZpbGVQaWNrZXIoX19zcHJlYWRWYWx1ZXMkYihfX3NwcmVhZFZhbHVlcyRiKHt9LCB1bnJlZihvcHRpb25zKSksIF9vcHRpb25zKSk7XG4gICAgaWYgKGRhdGEudmFsdWUpIHtcbiAgICAgIGNvbnN0IHdyaXRhYmxlU3RyZWFtID0gYXdhaXQgZmlsZUhhbmRsZS52YWx1ZS5jcmVhdGVXcml0YWJsZSgpO1xuICAgICAgYXdhaXQgd3JpdGFibGVTdHJlYW0ud3JpdGUoZGF0YS52YWx1ZSk7XG4gICAgICBhd2FpdCB3cml0YWJsZVN0cmVhbS5jbG9zZSgpO1xuICAgIH1cbiAgICBhd2FpdCB1cGRhdGVGaWxlKCk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlRmlsZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgZmlsZS52YWx1ZSA9IGF3YWl0ICgoX2EgPSBmaWxlSGFuZGxlLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZ2V0RmlsZSgpKTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiB1cGRhdGVEYXRhKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKHVucmVmKGRhdGFUeXBlKSA9PT0gXCJUZXh0XCIpXG4gICAgICBkYXRhLnZhbHVlID0gYXdhaXQgKChfYSA9IGZpbGUudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS50ZXh0KCkpO1xuICAgIGlmICh1bnJlZihkYXRhVHlwZSkgPT09IFwiQXJyYXlCdWZmZXJcIilcbiAgICAgIGRhdGEudmFsdWUgPSBhd2FpdCAoKF9iID0gZmlsZS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmFycmF5QnVmZmVyKCkpO1xuICAgIGlmICh1bnJlZihkYXRhVHlwZSkgPT09IFwiQmxvYlwiKVxuICAgICAgZGF0YS52YWx1ZSA9IGZpbGUudmFsdWU7XG4gIH1cbiAgd2F0Y2goKCkgPT4gdW5yZWYoZGF0YVR5cGUpLCB1cGRhdGVEYXRhKTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBkYXRhLFxuICAgIGZpbGUsXG4gICAgZmlsZU5hbWUsXG4gICAgZmlsZU1JTUUsXG4gICAgZmlsZVNpemUsXG4gICAgZmlsZUxhc3RNb2RpZmllZCxcbiAgICBvcGVuLFxuICAgIGNyZWF0ZSxcbiAgICBzYXZlLFxuICAgIHNhdmVBcyxcbiAgICB1cGRhdGVEYXRhXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUZvY3VzKHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgaW5pdGlhbFZhbHVlID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlubmVyRm9jdXNlZCA9IHJlZihmYWxzZSk7XG4gIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBjb21wdXRlZCgoKSA9PiB1bnJlZkVsZW1lbnQodGFyZ2V0KSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0RWxlbWVudCwgXCJmb2N1c1wiLCAoKSA9PiBpbm5lckZvY3VzZWQudmFsdWUgPSB0cnVlKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXRFbGVtZW50LCBcImJsdXJcIiwgKCkgPT4gaW5uZXJGb2N1c2VkLnZhbHVlID0gZmFsc2UpO1xuICBjb25zdCBmb2N1c2VkID0gY29tcHV0ZWQoe1xuICAgIGdldDogKCkgPT4gaW5uZXJGb2N1c2VkLnZhbHVlLFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgdmFyIF9hLCBfYjtcbiAgICAgIGlmICghdmFsdWUgJiYgaW5uZXJGb2N1c2VkLnZhbHVlKVxuICAgICAgICAoX2EgPSB0YXJnZXRFbGVtZW50LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuYmx1cigpO1xuICAgICAgZWxzZSBpZiAodmFsdWUgJiYgIWlubmVyRm9jdXNlZC52YWx1ZSlcbiAgICAgICAgKF9iID0gdGFyZ2V0RWxlbWVudC52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmZvY3VzKCk7XG4gICAgfVxuICB9KTtcbiAgd2F0Y2godGFyZ2V0RWxlbWVudCwgKCkgPT4ge1xuICAgIGZvY3VzZWQudmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIH0sIHsgaW1tZWRpYXRlOiB0cnVlLCBmbHVzaDogXCJwb3N0XCIgfSk7XG4gIHJldHVybiB7IGZvY3VzZWQgfTtcbn1cblxuZnVuY3Rpb24gdXNlRm9jdXNXaXRoaW4odGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgYWN0aXZlRWxlbWVudCA9IHVzZUFjdGl2ZUVsZW1lbnQob3B0aW9ucyk7XG4gIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBjb21wdXRlZCgoKSA9PiB1bnJlZkVsZW1lbnQodGFyZ2V0KSk7XG4gIGNvbnN0IGZvY3VzZWQgPSBjb21wdXRlZCgoKSA9PiB0YXJnZXRFbGVtZW50LnZhbHVlICYmIGFjdGl2ZUVsZW1lbnQudmFsdWUgPyB0YXJnZXRFbGVtZW50LnZhbHVlLmNvbnRhaW5zKGFjdGl2ZUVsZW1lbnQudmFsdWUpIDogZmFsc2UpO1xuICByZXR1cm4geyBmb2N1c2VkIH07XG59XG5cbmZ1bmN0aW9uIHVzZUZwcyhvcHRpb25zKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgZnBzID0gcmVmKDApO1xuICBpZiAodHlwZW9mIHBlcmZvcm1hbmNlID09PSBcInVuZGVmaW5lZFwiKVxuICAgIHJldHVybiBmcHM7XG4gIGNvbnN0IGV2ZXJ5ID0gKF9hID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5ldmVyeSkgIT0gbnVsbCA/IF9hIDogMTA7XG4gIGxldCBsYXN0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gIGxldCB0aWNrcyA9IDA7XG4gIHVzZVJhZkZuKCgpID0+IHtcbiAgICB0aWNrcyArPSAxO1xuICAgIGlmICh0aWNrcyA+PSBldmVyeSkge1xuICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCBkaWZmID0gbm93IC0gbGFzdDtcbiAgICAgIGZwcy52YWx1ZSA9IE1hdGgucm91bmQoMWUzIC8gKGRpZmYgLyB0aWNrcykpO1xuICAgICAgbGFzdCA9IG5vdztcbiAgICAgIHRpY2tzID0gMDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZnBzO1xufVxuXG5jb25zdCBmdW5jdGlvbnNNYXAgPSBbXG4gIFtcbiAgICBcInJlcXVlc3RGdWxsc2NyZWVuXCIsXG4gICAgXCJleGl0RnVsbHNjcmVlblwiLFxuICAgIFwiZnVsbHNjcmVlbkVsZW1lbnRcIixcbiAgICBcImZ1bGxzY3JlZW5FbmFibGVkXCIsXG4gICAgXCJmdWxsc2NyZWVuY2hhbmdlXCIsXG4gICAgXCJmdWxsc2NyZWVuZXJyb3JcIlxuICBdLFxuICBbXG4gICAgXCJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlblwiLFxuICAgIFwid2Via2l0RXhpdEZ1bGxzY3JlZW5cIixcbiAgICBcIndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50XCIsXG4gICAgXCJ3ZWJraXRGdWxsc2NyZWVuRW5hYmxlZFwiLFxuICAgIFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLFxuICAgIFwid2Via2l0ZnVsbHNjcmVlbmVycm9yXCJcbiAgXSxcbiAgW1xuICAgIFwid2Via2l0UmVxdWVzdEZ1bGxTY3JlZW5cIixcbiAgICBcIndlYmtpdENhbmNlbEZ1bGxTY3JlZW5cIixcbiAgICBcIndlYmtpdEN1cnJlbnRGdWxsU2NyZWVuRWxlbWVudFwiLFxuICAgIFwid2Via2l0Q2FuY2VsRnVsbFNjcmVlblwiLFxuICAgIFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLFxuICAgIFwid2Via2l0ZnVsbHNjcmVlbmVycm9yXCJcbiAgXSxcbiAgW1xuICAgIFwibW96UmVxdWVzdEZ1bGxTY3JlZW5cIixcbiAgICBcIm1vekNhbmNlbEZ1bGxTY3JlZW5cIixcbiAgICBcIm1vekZ1bGxTY3JlZW5FbGVtZW50XCIsXG4gICAgXCJtb3pGdWxsU2NyZWVuRW5hYmxlZFwiLFxuICAgIFwibW96ZnVsbHNjcmVlbmNoYW5nZVwiLFxuICAgIFwibW96ZnVsbHNjcmVlbmVycm9yXCJcbiAgXSxcbiAgW1xuICAgIFwibXNSZXF1ZXN0RnVsbHNjcmVlblwiLFxuICAgIFwibXNFeGl0RnVsbHNjcmVlblwiLFxuICAgIFwibXNGdWxsc2NyZWVuRWxlbWVudFwiLFxuICAgIFwibXNGdWxsc2NyZWVuRW5hYmxlZFwiLFxuICAgIFwiTVNGdWxsc2NyZWVuQ2hhbmdlXCIsXG4gICAgXCJNU0Z1bGxzY3JlZW5FcnJvclwiXG4gIF1cbl07XG5mdW5jdGlvbiB1c2VGdWxsc2NyZWVuKHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgZG9jdW1lbnQgPSBkZWZhdWx0RG9jdW1lbnQsIGF1dG9FeGl0ID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHRhcmdldFJlZiA9IHRhcmdldCB8fCAoZG9jdW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJodG1sXCIpKTtcbiAgY29uc3QgaXNGdWxsc2NyZWVuID0gcmVmKGZhbHNlKTtcbiAgbGV0IG1hcCA9IGZ1bmN0aW9uc01hcFswXTtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4ge1xuICAgIGlmICghZG9jdW1lbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBtIG9mIGZ1bmN0aW9uc01hcCkge1xuICAgICAgICBpZiAobVsxXSBpbiBkb2N1bWVudCkge1xuICAgICAgICAgIG1hcCA9IG07XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgY29uc3QgW1JFUVVFU1QsIEVYSVQsIEVMRU1FTlQsICwgRVZFTlRdID0gbWFwO1xuICBhc3luYyBmdW5jdGlvbiBleGl0KCkge1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaWYgKGRvY3VtZW50ID09IG51bGwgPyB2b2lkIDAgOiBkb2N1bWVudFtFTEVNRU5UXSlcbiAgICAgIGF3YWl0IGRvY3VtZW50W0VYSVRdKCk7XG4gICAgaXNGdWxsc2NyZWVuLnZhbHVlID0gZmFsc2U7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gZW50ZXIoKSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBhd2FpdCBleGl0KCk7XG4gICAgY29uc3QgdGFyZ2V0MiA9IHVucmVmRWxlbWVudCh0YXJnZXRSZWYpO1xuICAgIGlmICh0YXJnZXQyKSB7XG4gICAgICBhd2FpdCB0YXJnZXQyW1JFUVVFU1RdKCk7XG4gICAgICBpc0Z1bGxzY3JlZW4udmFsdWUgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBhc3luYyBmdW5jdGlvbiB0b2dnbGUoKSB7XG4gICAgaWYgKGlzRnVsbHNjcmVlbi52YWx1ZSlcbiAgICAgIGF3YWl0IGV4aXQoKTtcbiAgICBlbHNlXG4gICAgICBhd2FpdCBlbnRlcigpO1xuICB9XG4gIGlmIChkb2N1bWVudCkge1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIEVWRU5ULCAoKSA9PiB7XG4gICAgICBpc0Z1bGxzY3JlZW4udmFsdWUgPSAhIShkb2N1bWVudCA9PSBudWxsID8gdm9pZCAwIDogZG9jdW1lbnRbRUxFTUVOVF0pO1xuICAgIH0sIGZhbHNlKTtcbiAgfVxuICBpZiAoYXV0b0V4aXQpXG4gICAgdHJ5T25TY29wZURpc3Bvc2UoZXhpdCk7XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgaXNGdWxsc2NyZWVuLFxuICAgIGVudGVyLFxuICAgIGV4aXQsXG4gICAgdG9nZ2xlXG4gIH07XG59XG5cbmZ1bmN0aW9uIG1hcEdhbWVwYWRUb1hib3gzNjBDb250cm9sbGVyKGdhbWVwYWQpIHtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHtcbiAgICBpZiAoZ2FtZXBhZC52YWx1ZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgIGE6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1swXSxcbiAgICAgICAgICBiOiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbMV0sXG4gICAgICAgICAgeDogZ2FtZXBhZC52YWx1ZS5idXR0b25zWzJdLFxuICAgICAgICAgIHk6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1szXVxuICAgICAgICB9LFxuICAgICAgICBidW1wZXI6IHtcbiAgICAgICAgICBsZWZ0OiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbNF0sXG4gICAgICAgICAgcmlnaHQ6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1s1XVxuICAgICAgICB9LFxuICAgICAgICB0cmlnZ2Vyczoge1xuICAgICAgICAgIGxlZnQ6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1s2XSxcbiAgICAgICAgICByaWdodDogZ2FtZXBhZC52YWx1ZS5idXR0b25zWzddXG4gICAgICAgIH0sXG4gICAgICAgIHN0aWNrOiB7XG4gICAgICAgICAgbGVmdDoge1xuICAgICAgICAgICAgaG9yaXpvbnRhbDogZ2FtZXBhZC52YWx1ZS5heGVzWzBdLFxuICAgICAgICAgICAgdmVydGljYWw6IGdhbWVwYWQudmFsdWUuYXhlc1sxXSxcbiAgICAgICAgICAgIGJ1dHRvbjogZ2FtZXBhZC52YWx1ZS5idXR0b25zWzEwXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmlnaHQ6IHtcbiAgICAgICAgICAgIGhvcml6b250YWw6IGdhbWVwYWQudmFsdWUuYXhlc1syXSxcbiAgICAgICAgICAgIHZlcnRpY2FsOiBnYW1lcGFkLnZhbHVlLmF4ZXNbM10sXG4gICAgICAgICAgICBidXR0b246IGdhbWVwYWQudmFsdWUuYnV0dG9uc1sxMV1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRwYWQ6IHtcbiAgICAgICAgICB1cDogZ2FtZXBhZC52YWx1ZS5idXR0b25zWzEyXSxcbiAgICAgICAgICBkb3duOiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbMTNdLFxuICAgICAgICAgIGxlZnQ6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1sxNF0sXG4gICAgICAgICAgcmlnaHQ6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1sxNV1cbiAgICAgICAgfSxcbiAgICAgICAgYmFjazogZ2FtZXBhZC52YWx1ZS5idXR0b25zWzhdLFxuICAgICAgICBzdGFydDogZ2FtZXBhZC52YWx1ZS5idXR0b25zWzldXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSk7XG59XG5mdW5jdGlvbiB1c2VHYW1lcGFkKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgbmF2aWdhdG9yID0gZGVmYXVsdE5hdmlnYXRvclxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gbmF2aWdhdG9yICYmIFwiZ2V0R2FtZXBhZHNcIiBpbiBuYXZpZ2F0b3IpO1xuICBjb25zdCBnYW1lcGFkcyA9IHJlZihbXSk7XG4gIGNvbnN0IG9uQ29ubmVjdGVkSG9vayA9IGNyZWF0ZUV2ZW50SG9vaygpO1xuICBjb25zdCBvbkRpc2Nvbm5lY3RlZEhvb2sgPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgY29uc3Qgc3RhdGVGcm9tR2FtZXBhZCA9IChnYW1lcGFkKSA9PiB7XG4gICAgY29uc3QgaGFwdGljQWN0dWF0b3JzID0gW107XG4gICAgY29uc3QgdmlicmF0aW9uQWN0dWF0b3IgPSBcInZpYnJhdGlvbkFjdHVhdG9yXCIgaW4gZ2FtZXBhZCA/IGdhbWVwYWQudmlicmF0aW9uQWN0dWF0b3IgOiBudWxsO1xuICAgIGlmICh2aWJyYXRpb25BY3R1YXRvcilcbiAgICAgIGhhcHRpY0FjdHVhdG9ycy5wdXNoKHZpYnJhdGlvbkFjdHVhdG9yKTtcbiAgICBpZiAoZ2FtZXBhZC5oYXB0aWNBY3R1YXRvcnMpXG4gICAgICBoYXB0aWNBY3R1YXRvcnMucHVzaCguLi5nYW1lcGFkLmhhcHRpY0FjdHVhdG9ycyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBnYW1lcGFkLmlkLFxuICAgICAgaGFwdGljQWN0dWF0b3JzLFxuICAgICAgaW5kZXg6IGdhbWVwYWQuaW5kZXgsXG4gICAgICBtYXBwaW5nOiBnYW1lcGFkLm1hcHBpbmcsXG4gICAgICBjb25uZWN0ZWQ6IGdhbWVwYWQuY29ubmVjdGVkLFxuICAgICAgdGltZXN0YW1wOiBnYW1lcGFkLnRpbWVzdGFtcCxcbiAgICAgIGF4ZXM6IGdhbWVwYWQuYXhlcy5tYXAoKGF4ZXMpID0+IGF4ZXMpLFxuICAgICAgYnV0dG9uczogZ2FtZXBhZC5idXR0b25zLm1hcCgoYnV0dG9uKSA9PiAoeyBwcmVzc2VkOiBidXR0b24ucHJlc3NlZCwgdG91Y2hlZDogYnV0dG9uLnRvdWNoZWQsIHZhbHVlOiBidXR0b24udmFsdWUgfSkpXG4gICAgfTtcbiAgfTtcbiAgY29uc3QgdXBkYXRlR2FtZXBhZFN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IF9nYW1lcGFkcyA9IChuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpKSB8fCBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9nYW1lcGFkcy5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgZ2FtZXBhZCA9IF9nYW1lcGFkc1tpXTtcbiAgICAgIGlmIChnYW1lcGFkKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZ2FtZXBhZHMudmFsdWUuZmluZEluZGV4KCh7IGluZGV4OiBpbmRleDIgfSkgPT4gaW5kZXgyID09PSBnYW1lcGFkLmluZGV4KTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgZ2FtZXBhZHMudmFsdWVbaW5kZXhdID0gc3RhdGVGcm9tR2FtZXBhZChnYW1lcGFkKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHsgaXNBY3RpdmUsIHBhdXNlLCByZXN1bWUgfSA9IHVzZVJhZkZuKHVwZGF0ZUdhbWVwYWRTdGF0ZSk7XG4gIGNvbnN0IG9uR2FtZXBhZENvbm5lY3RlZCA9IChnYW1lcGFkKSA9PiB7XG4gICAgaWYgKCFnYW1lcGFkcy52YWx1ZS5zb21lKCh7IGluZGV4IH0pID0+IGluZGV4ID09PSBnYW1lcGFkLmluZGV4KSkge1xuICAgICAgZ2FtZXBhZHMudmFsdWUucHVzaChzdGF0ZUZyb21HYW1lcGFkKGdhbWVwYWQpKTtcbiAgICAgIG9uQ29ubmVjdGVkSG9vay50cmlnZ2VyKGdhbWVwYWQuaW5kZXgpO1xuICAgIH1cbiAgICByZXN1bWUoKTtcbiAgfTtcbiAgY29uc3Qgb25HYW1lcGFkRGlzY29ubmVjdGVkID0gKGdhbWVwYWQpID0+IHtcbiAgICBnYW1lcGFkcy52YWx1ZSA9IGdhbWVwYWRzLnZhbHVlLmZpbHRlcigoeCkgPT4geC5pbmRleCAhPT0gZ2FtZXBhZC5pbmRleCk7XG4gICAgb25EaXNjb25uZWN0ZWRIb29rLnRyaWdnZXIoZ2FtZXBhZC5pbmRleCk7XG4gIH07XG4gIHVzZUV2ZW50TGlzdGVuZXIoXCJnYW1lcGFkY29ubmVjdGVkXCIsIChlKSA9PiBvbkdhbWVwYWRDb25uZWN0ZWQoZS5nYW1lcGFkKSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXCJnYW1lcGFkZGlzY29ubmVjdGVkXCIsIChlKSA9PiBvbkdhbWVwYWREaXNjb25uZWN0ZWQoZS5nYW1lcGFkKSk7XG4gIHRyeU9uTW91bnRlZCgoKSA9PiB7XG4gICAgY29uc3QgX2dhbWVwYWRzID0gKG5hdmlnYXRvciA9PSBudWxsID8gdm9pZCAwIDogbmF2aWdhdG9yLmdldEdhbWVwYWRzKCkpIHx8IFtdO1xuICAgIGlmIChfZ2FtZXBhZHMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX2dhbWVwYWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGdhbWVwYWQgPSBfZ2FtZXBhZHNbaV07XG4gICAgICAgIGlmIChnYW1lcGFkKVxuICAgICAgICAgIG9uR2FtZXBhZENvbm5lY3RlZChnYW1lcGFkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBwYXVzZSgpO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIG9uQ29ubmVjdGVkOiBvbkNvbm5lY3RlZEhvb2sub24sXG4gICAgb25EaXNjb25uZWN0ZWQ6IG9uRGlzY29ubmVjdGVkSG9vay5vbixcbiAgICBnYW1lcGFkcyxcbiAgICBwYXVzZSxcbiAgICByZXN1bWUsXG4gICAgaXNBY3RpdmVcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlR2VvbG9jYXRpb24ob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBlbmFibGVIaWdoQWNjdXJhY3kgPSB0cnVlLFxuICAgIG1heGltdW1BZ2UgPSAzZTQsXG4gICAgdGltZW91dCA9IDI3ZTMsXG4gICAgbmF2aWdhdG9yID0gZGVmYXVsdE5hdmlnYXRvcixcbiAgICBpbW1lZGlhdGUgPSB0cnVlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiBuYXZpZ2F0b3IgJiYgXCJnZW9sb2NhdGlvblwiIGluIG5hdmlnYXRvcik7XG4gIGNvbnN0IGxvY2F0ZWRBdCA9IHJlZihudWxsKTtcbiAgY29uc3QgZXJyb3IgPSByZWYobnVsbCk7XG4gIGNvbnN0IGNvb3JkcyA9IHJlZih7XG4gICAgYWNjdXJhY3k6IDAsXG4gICAgbGF0aXR1ZGU6IEluZmluaXR5LFxuICAgIGxvbmdpdHVkZTogSW5maW5pdHksXG4gICAgYWx0aXR1ZGU6IG51bGwsXG4gICAgYWx0aXR1ZGVBY2N1cmFjeTogbnVsbCxcbiAgICBoZWFkaW5nOiBudWxsLFxuICAgIHNwZWVkOiBudWxsXG4gIH0pO1xuICBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbihwb3NpdGlvbikge1xuICAgIGxvY2F0ZWRBdC52YWx1ZSA9IHBvc2l0aW9uLnRpbWVzdGFtcDtcbiAgICBjb29yZHMudmFsdWUgPSBwb3NpdGlvbi5jb29yZHM7XG4gICAgZXJyb3IudmFsdWUgPSBudWxsO1xuICB9XG4gIGxldCB3YXRjaGVyO1xuICBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgICB3YXRjaGVyID0gbmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24odXBkYXRlUG9zaXRpb24sIChlcnIpID0+IGVycm9yLnZhbHVlID0gZXJyLCB7XG4gICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeSxcbiAgICAgICAgbWF4aW11bUFnZSxcbiAgICAgICAgdGltZW91dFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmIChpbW1lZGlhdGUpXG4gICAgcmVzdW1lKCk7XG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIGlmICh3YXRjaGVyICYmIG5hdmlnYXRvcilcbiAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHdhdGNoZXIpO1xuICB9XG4gIHRyeU9uU2NvcGVEaXNwb3NlKCgpID0+IHtcbiAgICBwYXVzZSgpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBjb29yZHMsXG4gICAgbG9jYXRlZEF0LFxuICAgIGVycm9yLFxuICAgIHJlc3VtZSxcbiAgICBwYXVzZVxuICB9O1xufVxuXG5jb25zdCBkZWZhdWx0RXZlbnRzJDEgPSBbXCJtb3VzZW1vdmVcIiwgXCJtb3VzZWRvd25cIiwgXCJyZXNpemVcIiwgXCJrZXlkb3duXCIsIFwidG91Y2hzdGFydFwiLCBcIndoZWVsXCJdO1xuY29uc3Qgb25lTWludXRlID0gNmU0O1xuZnVuY3Rpb24gdXNlSWRsZSh0aW1lb3V0ID0gb25lTWludXRlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGluaXRpYWxTdGF0ZSA9IGZhbHNlLFxuICAgIGxpc3RlbkZvclZpc2liaWxpdHlDaGFuZ2UgPSB0cnVlLFxuICAgIGV2ZW50cyA9IGRlZmF1bHRFdmVudHMkMSxcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93LFxuICAgIGV2ZW50RmlsdGVyID0gdGhyb3R0bGVGaWx0ZXIoNTApXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpZGxlID0gcmVmKGluaXRpYWxTdGF0ZSk7XG4gIGNvbnN0IGxhc3RBY3RpdmUgPSByZWYodGltZXN0YW1wKCkpO1xuICBsZXQgdGltZXI7XG4gIGNvbnN0IG9uRXZlbnQgPSBjcmVhdGVGaWx0ZXJXcmFwcGVyKGV2ZW50RmlsdGVyLCAoKSA9PiB7XG4gICAgaWRsZS52YWx1ZSA9IGZhbHNlO1xuICAgIGxhc3RBY3RpdmUudmFsdWUgPSB0aW1lc3RhbXAoKTtcbiAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBpZGxlLnZhbHVlID0gdHJ1ZSwgdGltZW91dCk7XG4gIH0pO1xuICBpZiAod2luZG93KSB7XG4gICAgY29uc3QgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG4gICAgZm9yIChjb25zdCBldmVudCBvZiBldmVudHMpXG4gICAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgZXZlbnQsIG9uRXZlbnQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICBpZiAobGlzdGVuRm9yVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgdXNlRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsICgpID0+IHtcbiAgICAgICAgaWYgKCFkb2N1bWVudC5oaWRkZW4pXG4gICAgICAgICAgb25FdmVudCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBpZGxlLnZhbHVlID0gdHJ1ZSwgdGltZW91dCk7XG4gIHJldHVybiB7IGlkbGUsIGxhc3RBY3RpdmUgfTtcbn1cblxudmFyIF9fZGVmUHJvcCRhID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkYiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJGIgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSRiID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AkYSA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkYShvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMkYSA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJGIuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcCRhKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scyRiKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyRiKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtJGIuY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wJGEoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG5hc3luYyBmdW5jdGlvbiBsb2FkSW1hZ2Uob3B0aW9ucykge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIGNvbnN0IHsgc3JjLCBzcmNzZXQsIHNpemVzIH0gPSBvcHRpb25zO1xuICAgIGltZy5zcmMgPSBzcmM7XG4gICAgaWYgKHNyY3NldClcbiAgICAgIGltZy5zcmNzZXQgPSBzcmNzZXQ7XG4gICAgaWYgKHNpemVzKVxuICAgICAgaW1nLnNpemVzID0gc2l6ZXM7XG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoaW1nKTtcbiAgICBpbWcub25lcnJvciA9IHJlamVjdDtcbiAgfSk7XG59XG5jb25zdCB1c2VJbWFnZSA9IChvcHRpb25zLCBhc3luY1N0YXRlT3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHN0YXRlID0gdXNlQXN5bmNTdGF0ZSgoKSA9PiBsb2FkSW1hZ2UocmVzb2x2ZVVucmVmKG9wdGlvbnMpKSwgdm9pZCAwLCBfX3NwcmVhZFZhbHVlcyRhKHtcbiAgICByZXNldE9uRXhlY3V0ZTogdHJ1ZVxuICB9LCBhc3luY1N0YXRlT3B0aW9ucykpO1xuICB3YXRjaCgoKSA9PiByZXNvbHZlVW5yZWYob3B0aW9ucyksICgpID0+IHN0YXRlLmV4ZWN1dGUoYXN5bmNTdGF0ZU9wdGlvbnMuZGVsYXkpLCB7IGRlZXA6IHRydWUgfSk7XG4gIHJldHVybiBzdGF0ZTtcbn07XG5cbmNvbnN0IEFSUklWRURfU1RBVEVfVEhSRVNIT0xEX1BJWEVMUyA9IDE7XG5mdW5jdGlvbiB1c2VTY3JvbGwoZWxlbWVudCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB0aHJvdHRsZSA9IDAsXG4gICAgaWRsZSA9IDIwMCxcbiAgICBvblN0b3AgPSBub29wLFxuICAgIG9uU2Nyb2xsID0gbm9vcCxcbiAgICBvZmZzZXQgPSB7XG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICBib3R0b206IDBcbiAgICB9LFxuICAgIGV2ZW50TGlzdGVuZXJPcHRpb25zID0ge1xuICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfSxcbiAgICBiZWhhdmlvciA9IFwiYXV0b1wiXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpbnRlcm5hbFggPSByZWYoMCk7XG4gIGNvbnN0IGludGVybmFsWSA9IHJlZigwKTtcbiAgY29uc3QgeCA9IGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gaW50ZXJuYWxYLnZhbHVlO1xuICAgIH0sXG4gICAgc2V0KHgyKSB7XG4gICAgICBzY3JvbGxUbyh4Miwgdm9pZCAwKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCB5ID0gY29tcHV0ZWQoe1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBpbnRlcm5hbFkudmFsdWU7XG4gICAgfSxcbiAgICBzZXQoeTIpIHtcbiAgICAgIHNjcm9sbFRvKHZvaWQgMCwgeTIpO1xuICAgIH1cbiAgfSk7XG4gIGZ1bmN0aW9uIHNjcm9sbFRvKF94LCBfeSkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IF9lbGVtZW50ID0gcmVzb2x2ZVVucmVmKGVsZW1lbnQpO1xuICAgIGlmICghX2VsZW1lbnQpXG4gICAgICByZXR1cm47XG4gICAgKF9jID0gX2VsZW1lbnQgaW5zdGFuY2VvZiBEb2N1bWVudCA/IGRvY3VtZW50LmJvZHkgOiBfZWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnNjcm9sbFRvKHtcbiAgICAgIHRvcDogKF9hID0gcmVzb2x2ZVVucmVmKF95KSkgIT0gbnVsbCA/IF9hIDogeS52YWx1ZSxcbiAgICAgIGxlZnQ6IChfYiA9IHJlc29sdmVVbnJlZihfeCkpICE9IG51bGwgPyBfYiA6IHgudmFsdWUsXG4gICAgICBiZWhhdmlvcjogcmVzb2x2ZVVucmVmKGJlaGF2aW9yKVxuICAgIH0pO1xuICB9XG4gIGNvbnN0IGlzU2Nyb2xsaW5nID0gcmVmKGZhbHNlKTtcbiAgY29uc3QgYXJyaXZlZFN0YXRlID0gcmVhY3RpdmUoe1xuICAgIGxlZnQ6IHRydWUsXG4gICAgcmlnaHQ6IGZhbHNlLFxuICAgIHRvcDogdHJ1ZSxcbiAgICBib3R0b206IGZhbHNlXG4gIH0pO1xuICBjb25zdCBkaXJlY3Rpb25zID0gcmVhY3RpdmUoe1xuICAgIGxlZnQ6IGZhbHNlLFxuICAgIHJpZ2h0OiBmYWxzZSxcbiAgICB0b3A6IGZhbHNlLFxuICAgIGJvdHRvbTogZmFsc2VcbiAgfSk7XG4gIGNvbnN0IG9uU2Nyb2xsRW5kID0gKGUpID0+IHtcbiAgICBpZiAoIWlzU2Nyb2xsaW5nLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGlzU2Nyb2xsaW5nLnZhbHVlID0gZmFsc2U7XG4gICAgZGlyZWN0aW9ucy5sZWZ0ID0gZmFsc2U7XG4gICAgZGlyZWN0aW9ucy5yaWdodCA9IGZhbHNlO1xuICAgIGRpcmVjdGlvbnMudG9wID0gZmFsc2U7XG4gICAgZGlyZWN0aW9ucy5ib3R0b20gPSBmYWxzZTtcbiAgICBvblN0b3AoZSk7XG4gIH07XG4gIGNvbnN0IG9uU2Nyb2xsRW5kRGVib3VuY2VkID0gdXNlRGVib3VuY2VGbihvblNjcm9sbEVuZCwgdGhyb3R0bGUgKyBpZGxlKTtcbiAgY29uc3Qgb25TY3JvbGxIYW5kbGVyID0gKGUpID0+IHtcbiAgICBjb25zdCBldmVudFRhcmdldCA9IGUudGFyZ2V0ID09PSBkb2N1bWVudCA/IGUudGFyZ2V0LmRvY3VtZW50RWxlbWVudCA6IGUudGFyZ2V0O1xuICAgIGNvbnN0IHNjcm9sbExlZnQgPSBldmVudFRhcmdldC5zY3JvbGxMZWZ0O1xuICAgIGRpcmVjdGlvbnMubGVmdCA9IHNjcm9sbExlZnQgPCBpbnRlcm5hbFgudmFsdWU7XG4gICAgZGlyZWN0aW9ucy5yaWdodCA9IHNjcm9sbExlZnQgPiBpbnRlcm5hbFkudmFsdWU7XG4gICAgYXJyaXZlZFN0YXRlLmxlZnQgPSBzY3JvbGxMZWZ0IDw9IDAgKyAob2Zmc2V0LmxlZnQgfHwgMCk7XG4gICAgYXJyaXZlZFN0YXRlLnJpZ2h0ID0gc2Nyb2xsTGVmdCArIGV2ZW50VGFyZ2V0LmNsaWVudFdpZHRoID49IGV2ZW50VGFyZ2V0LnNjcm9sbFdpZHRoIC0gKG9mZnNldC5yaWdodCB8fCAwKSAtIEFSUklWRURfU1RBVEVfVEhSRVNIT0xEX1BJWEVMUztcbiAgICBpbnRlcm5hbFgudmFsdWUgPSBzY3JvbGxMZWZ0O1xuICAgIGxldCBzY3JvbGxUb3AgPSBldmVudFRhcmdldC5zY3JvbGxUb3A7XG4gICAgaWYgKGUudGFyZ2V0ID09PSBkb2N1bWVudCAmJiAhc2Nyb2xsVG9wKVxuICAgICAgc2Nyb2xsVG9wID0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG4gICAgZGlyZWN0aW9ucy50b3AgPSBzY3JvbGxUb3AgPCBpbnRlcm5hbFkudmFsdWU7XG4gICAgZGlyZWN0aW9ucy5ib3R0b20gPSBzY3JvbGxUb3AgPiBpbnRlcm5hbFkudmFsdWU7XG4gICAgYXJyaXZlZFN0YXRlLnRvcCA9IHNjcm9sbFRvcCA8PSAwICsgKG9mZnNldC50b3AgfHwgMCk7XG4gICAgYXJyaXZlZFN0YXRlLmJvdHRvbSA9IHNjcm9sbFRvcCArIGV2ZW50VGFyZ2V0LmNsaWVudEhlaWdodCA+PSBldmVudFRhcmdldC5zY3JvbGxIZWlnaHQgLSAob2Zmc2V0LmJvdHRvbSB8fCAwKSAtIEFSUklWRURfU1RBVEVfVEhSRVNIT0xEX1BJWEVMUztcbiAgICBpbnRlcm5hbFkudmFsdWUgPSBzY3JvbGxUb3A7XG4gICAgaXNTY3JvbGxpbmcudmFsdWUgPSB0cnVlO1xuICAgIG9uU2Nyb2xsRW5kRGVib3VuY2VkKGUpO1xuICAgIG9uU2Nyb2xsKGUpO1xuICB9O1xuICB1c2VFdmVudExpc3RlbmVyKGVsZW1lbnQsIFwic2Nyb2xsXCIsIHRocm90dGxlID8gdXNlVGhyb3R0bGVGbihvblNjcm9sbEhhbmRsZXIsIHRocm90dGxlLCB0cnVlLCBmYWxzZSkgOiBvblNjcm9sbEhhbmRsZXIsIGV2ZW50TGlzdGVuZXJPcHRpb25zKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihlbGVtZW50LCBcInNjcm9sbGVuZFwiLCBvblNjcm9sbEVuZCwgZXZlbnRMaXN0ZW5lck9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHgsXG4gICAgeSxcbiAgICBpc1Njcm9sbGluZyxcbiAgICBhcnJpdmVkU3RhdGUsXG4gICAgZGlyZWN0aW9uc1xuICB9O1xufVxuXG52YXIgX19kZWZQcm9wJDkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyQyID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgX19nZXRPd25Qcm9wRGVzY3MkMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzO1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkYSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJGEgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSRhID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AkOSA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkOShvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMkOSA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJGEuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcCQ5KGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scyRhKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyRhKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtJGEuY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wJDkoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG52YXIgX19zcHJlYWRQcm9wcyQyID0gKGEsIGIpID0+IF9fZGVmUHJvcHMkMihhLCBfX2dldE93blByb3BEZXNjcyQyKGIpKTtcbmZ1bmN0aW9uIHVzZUluZmluaXRlU2Nyb2xsKGVsZW1lbnQsIG9uTG9hZE1vcmUsIG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCBkaXJlY3Rpb24gPSAoX2EgPSBvcHRpb25zLmRpcmVjdGlvbikgIT0gbnVsbCA/IF9hIDogXCJib3R0b21cIjtcbiAgY29uc3Qgc3RhdGUgPSByZWFjdGl2ZSh1c2VTY3JvbGwoZWxlbWVudCwgX19zcHJlYWRQcm9wcyQyKF9fc3ByZWFkVmFsdWVzJDkoe30sIG9wdGlvbnMpLCB7XG4gICAgb2Zmc2V0OiBfX3NwcmVhZFZhbHVlcyQ5KHtcbiAgICAgIFtkaXJlY3Rpb25dOiAoX2IgPSBvcHRpb25zLmRpc3RhbmNlKSAhPSBudWxsID8gX2IgOiAwXG4gICAgfSwgb3B0aW9ucy5vZmZzZXQpXG4gIH0pKSk7XG4gIHdhdGNoKCgpID0+IHN0YXRlLmFycml2ZWRTdGF0ZVtkaXJlY3Rpb25dLCBhc3luYyAodikgPT4ge1xuICAgIHZhciBfYTIsIF9iMjtcbiAgICBpZiAodikge1xuICAgICAgY29uc3QgZWxlbSA9IHJlc29sdmVVbnJlZihlbGVtZW50KTtcbiAgICAgIGNvbnN0IHByZXZpb3VzID0ge1xuICAgICAgICBoZWlnaHQ6IChfYTIgPSBlbGVtID09IG51bGwgPyB2b2lkIDAgOiBlbGVtLnNjcm9sbEhlaWdodCkgIT0gbnVsbCA/IF9hMiA6IDAsXG4gICAgICAgIHdpZHRoOiAoX2IyID0gZWxlbSA9PSBudWxsID8gdm9pZCAwIDogZWxlbS5zY3JvbGxXaWR0aCkgIT0gbnVsbCA/IF9iMiA6IDBcbiAgICAgIH07XG4gICAgICBhd2FpdCBvbkxvYWRNb3JlKHN0YXRlKTtcbiAgICAgIGlmIChvcHRpb25zLnByZXNlcnZlU2Nyb2xsUG9zaXRpb24gJiYgZWxlbSkge1xuICAgICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgZWxlbS5zY3JvbGxUbyh7XG4gICAgICAgICAgICB0b3A6IGVsZW0uc2Nyb2xsSGVpZ2h0IC0gcHJldmlvdXMuaGVpZ2h0LFxuICAgICAgICAgICAgbGVmdDogZWxlbS5zY3JvbGxXaWR0aCAtIHByZXZpb3VzLndpZHRoXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZUludGVyc2VjdGlvbk9ic2VydmVyKHRhcmdldCwgY2FsbGJhY2ssIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgcm9vdCxcbiAgICByb290TWFyZ2luID0gXCIwcHhcIixcbiAgICB0aHJlc2hvbGQgPSAwLjEsXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gd2luZG93ICYmIFwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcIiBpbiB3aW5kb3cpO1xuICBsZXQgY2xlYW51cCA9IG5vb3A7XG4gIGNvbnN0IHN0b3BXYXRjaCA9IGlzU3VwcG9ydGVkLnZhbHVlID8gd2F0Y2goKCkgPT4gKHtcbiAgICBlbDogdW5yZWZFbGVtZW50KHRhcmdldCksXG4gICAgcm9vdDogdW5yZWZFbGVtZW50KHJvb3QpXG4gIH0pLCAoeyBlbCwgcm9vdDogcm9vdDIgfSkgPT4ge1xuICAgIGNsZWFudXAoKTtcbiAgICBpZiAoIWVsKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGNhbGxiYWNrLCB7XG4gICAgICByb290OiByb290MixcbiAgICAgIHJvb3RNYXJnaW4sXG4gICAgICB0aHJlc2hvbGRcbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKGVsKTtcbiAgICBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgY2xlYW51cCA9IG5vb3A7XG4gICAgfTtcbiAgfSwgeyBpbW1lZGlhdGU6IHRydWUsIGZsdXNoOiBcInBvc3RcIiB9KSA6IG5vb3A7XG4gIGNvbnN0IHN0b3AgPSAoKSA9PiB7XG4gICAgY2xlYW51cCgpO1xuICAgIHN0b3BXYXRjaCgpO1xuICB9O1xuICB0cnlPblNjb3BlRGlzcG9zZShzdG9wKTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBzdG9wXG4gIH07XG59XG5cbmNvbnN0IGRlZmF1bHRFdmVudHMgPSBbXCJtb3VzZWRvd25cIiwgXCJtb3VzZXVwXCIsIFwia2V5ZG93blwiLCBcImtleXVwXCJdO1xuZnVuY3Rpb24gdXNlS2V5TW9kaWZpZXIobW9kaWZpZXIsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgZXZlbnRzID0gZGVmYXVsdEV2ZW50cyxcbiAgICBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudCxcbiAgICBpbml0aWFsID0gbnVsbFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgc3RhdGUgPSByZWYoaW5pdGlhbCk7XG4gIGlmIChkb2N1bWVudCkge1xuICAgIGV2ZW50cy5mb3JFYWNoKChsaXN0ZW5lckV2ZW50KSA9PiB7XG4gICAgICB1c2VFdmVudExpc3RlbmVyKGRvY3VtZW50LCBsaXN0ZW5lckV2ZW50LCAoZXZ0KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgZXZ0LmdldE1vZGlmaWVyU3RhdGUgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICBzdGF0ZS52YWx1ZSA9IGV2dC5nZXRNb2RpZmllclN0YXRlKG1vZGlmaWVyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZnVuY3Rpb24gdXNlTG9jYWxTdG9yYWdlKGtleSwgaW5pdGlhbFZhbHVlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93IH0gPSBvcHRpb25zO1xuICByZXR1cm4gdXNlU3RvcmFnZShrZXksIGluaXRpYWxWYWx1ZSwgd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cubG9jYWxTdG9yYWdlLCBvcHRpb25zKTtcbn1cblxuY29uc3QgRGVmYXVsdE1hZ2ljS2V5c0FsaWFzTWFwID0ge1xuICBjdHJsOiBcImNvbnRyb2xcIixcbiAgY29tbWFuZDogXCJtZXRhXCIsXG4gIGNtZDogXCJtZXRhXCIsXG4gIG9wdGlvbjogXCJhbHRcIixcbiAgdXA6IFwiYXJyb3d1cFwiLFxuICBkb3duOiBcImFycm93ZG93blwiLFxuICBsZWZ0OiBcImFycm93bGVmdFwiLFxuICByaWdodDogXCJhcnJvd3JpZ2h0XCJcbn07XG5cbmZ1bmN0aW9uIHVzZU1hZ2ljS2V5cyhvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHJlYWN0aXZlOiB1c2VSZWFjdGl2ZSA9IGZhbHNlLFxuICAgIHRhcmdldCA9IGRlZmF1bHRXaW5kb3csXG4gICAgYWxpYXNNYXAgPSBEZWZhdWx0TWFnaWNLZXlzQWxpYXNNYXAsXG4gICAgcGFzc2l2ZSA9IHRydWUsXG4gICAgb25FdmVudEZpcmVkID0gbm9vcFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgY3VycmVudCA9IHJlYWN0aXZlKG5ldyBTZXQoKSk7XG4gIGNvbnN0IG9iaiA9IHtcbiAgICB0b0pTT04oKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBjdXJyZW50XG4gIH07XG4gIGNvbnN0IHJlZnMgPSB1c2VSZWFjdGl2ZSA/IHJlYWN0aXZlKG9iaikgOiBvYmo7XG4gIGNvbnN0IG1ldGFEZXBzID0gbmV3IFNldCgpO1xuICBjb25zdCB1c2VkS2V5cyA9IG5ldyBTZXQoKTtcbiAgZnVuY3Rpb24gc2V0UmVmcyhrZXksIHZhbHVlKSB7XG4gICAgaWYgKGtleSBpbiByZWZzKSB7XG4gICAgICBpZiAodXNlUmVhY3RpdmUpXG4gICAgICAgIHJlZnNba2V5XSA9IHZhbHVlO1xuICAgICAgZWxzZVxuICAgICAgICByZWZzW2tleV0udmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgY3VycmVudC5jbGVhcigpO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIHVzZWRLZXlzKVxuICAgICAgc2V0UmVmcyhrZXksIGZhbHNlKTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVSZWZzKGUsIHZhbHVlKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBrZXkgPSAoX2EgPSBlLmtleSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgY29kZSA9IChfYiA9IGUuY29kZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgdmFsdWVzID0gW2NvZGUsIGtleV0uZmlsdGVyKEJvb2xlYW4pO1xuICAgIGlmIChrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgY3VycmVudC5hZGQoa2V5KTtcbiAgICAgIGVsc2VcbiAgICAgICAgY3VycmVudC5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkyIG9mIHZhbHVlcykge1xuICAgICAgdXNlZEtleXMuYWRkKGtleTIpO1xuICAgICAgc2V0UmVmcyhrZXkyLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChrZXkgPT09IFwibWV0YVwiICYmICF2YWx1ZSkge1xuICAgICAgbWV0YURlcHMuZm9yRWFjaCgoa2V5MikgPT4ge1xuICAgICAgICBjdXJyZW50LmRlbGV0ZShrZXkyKTtcbiAgICAgICAgc2V0UmVmcyhrZXkyLCBmYWxzZSk7XG4gICAgICB9KTtcbiAgICAgIG1ldGFEZXBzLmNsZWFyKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZS5nZXRNb2RpZmllclN0YXRlID09PSBcImZ1bmN0aW9uXCIgJiYgZS5nZXRNb2RpZmllclN0YXRlKFwiTWV0YVwiKSAmJiB2YWx1ZSkge1xuICAgICAgWy4uLmN1cnJlbnQsIC4uLnZhbHVlc10uZm9yRWFjaCgoa2V5MikgPT4gbWV0YURlcHMuYWRkKGtleTIpKTtcbiAgICB9XG4gIH1cbiAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgIHVwZGF0ZVJlZnMoZSwgdHJ1ZSk7XG4gICAgcmV0dXJuIG9uRXZlbnRGaXJlZChlKTtcbiAgfSwgeyBwYXNzaXZlIH0pO1xuICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJrZXl1cFwiLCAoZSkgPT4ge1xuICAgIHVwZGF0ZVJlZnMoZSwgZmFsc2UpO1xuICAgIHJldHVybiBvbkV2ZW50RmlyZWQoZSk7XG4gIH0sIHsgcGFzc2l2ZSB9KTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgcmVzZXQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIHJlc2V0LCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KHJlZnMsIHtcbiAgICBnZXQodGFyZ2V0MiwgcHJvcCwgcmVjKSB7XG4gICAgICBpZiAodHlwZW9mIHByb3AgIT09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQyLCBwcm9wLCByZWMpO1xuICAgICAgcHJvcCA9IHByb3AudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChwcm9wIGluIGFsaWFzTWFwKVxuICAgICAgICBwcm9wID0gYWxpYXNNYXBbcHJvcF07XG4gICAgICBpZiAoIShwcm9wIGluIHJlZnMpKSB7XG4gICAgICAgIGlmICgvWytfLV0vLnRlc3QocHJvcCkpIHtcbiAgICAgICAgICBjb25zdCBrZXlzID0gcHJvcC5zcGxpdCgvWytfLV0vZykubWFwKChpKSA9PiBpLnRyaW0oKSk7XG4gICAgICAgICAgcmVmc1twcm9wXSA9IGNvbXB1dGVkKCgpID0+IGtleXMuZXZlcnkoKGtleSkgPT4gdW5yZWYocHJveHlba2V5XSkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWZzW3Byb3BdID0gcmVmKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgciA9IFJlZmxlY3QuZ2V0KHRhcmdldDIsIHByb3AsIHJlYyk7XG4gICAgICByZXR1cm4gdXNlUmVhY3RpdmUgPyB1bnJlZihyKSA6IHI7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHByb3h5O1xufVxuXG52YXIgX19kZWZQcm9wJDggPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQ5ID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkOSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDkgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCQ4ID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQ4KG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyQ4ID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkOS5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJDgoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJDkpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDkoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kOS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkOChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbmZ1bmN0aW9uIHVzaW5nRWxSZWYoc291cmNlLCBjYikge1xuICBpZiAocmVzb2x2ZVVucmVmKHNvdXJjZSkpXG4gICAgY2IocmVzb2x2ZVVucmVmKHNvdXJjZSkpO1xufVxuZnVuY3Rpb24gdGltZVJhbmdlVG9BcnJheSh0aW1lUmFuZ2VzKSB7XG4gIGxldCByYW5nZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aW1lUmFuZ2VzLmxlbmd0aDsgKytpKVxuICAgIHJhbmdlcyA9IFsuLi5yYW5nZXMsIFt0aW1lUmFuZ2VzLnN0YXJ0KGkpLCB0aW1lUmFuZ2VzLmVuZChpKV1dO1xuICByZXR1cm4gcmFuZ2VzO1xufVxuZnVuY3Rpb24gdHJhY2tzVG9BcnJheSh0cmFja3MpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20odHJhY2tzKS5tYXAoKHsgbGFiZWwsIGtpbmQsIGxhbmd1YWdlLCBtb2RlLCBhY3RpdmVDdWVzLCBjdWVzLCBpbkJhbmRNZXRhZGF0YVRyYWNrRGlzcGF0Y2hUeXBlIH0sIGlkKSA9PiAoeyBpZCwgbGFiZWwsIGtpbmQsIGxhbmd1YWdlLCBtb2RlLCBhY3RpdmVDdWVzLCBjdWVzLCBpbkJhbmRNZXRhZGF0YVRyYWNrRGlzcGF0Y2hUeXBlIH0pKTtcbn1cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICBzcmM6IFwiXCIsXG4gIHRyYWNrczogW11cbn07XG5mdW5jdGlvbiB1c2VNZWRpYUNvbnRyb2xzKHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIG9wdGlvbnMgPSBfX3NwcmVhZFZhbHVlcyQ4KF9fc3ByZWFkVmFsdWVzJDgoe30sIGRlZmF1bHRPcHRpb25zKSwgb3B0aW9ucyk7XG4gIGNvbnN0IHtcbiAgICBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgY3VycmVudFRpbWUgPSByZWYoMCk7XG4gIGNvbnN0IGR1cmF0aW9uID0gcmVmKDApO1xuICBjb25zdCBzZWVraW5nID0gcmVmKGZhbHNlKTtcbiAgY29uc3Qgdm9sdW1lID0gcmVmKDEpO1xuICBjb25zdCB3YWl0aW5nID0gcmVmKGZhbHNlKTtcbiAgY29uc3QgZW5kZWQgPSByZWYoZmFsc2UpO1xuICBjb25zdCBwbGF5aW5nID0gcmVmKGZhbHNlKTtcbiAgY29uc3QgcmF0ZSA9IHJlZigxKTtcbiAgY29uc3Qgc3RhbGxlZCA9IHJlZihmYWxzZSk7XG4gIGNvbnN0IGJ1ZmZlcmVkID0gcmVmKFtdKTtcbiAgY29uc3QgdHJhY2tzID0gcmVmKFtdKTtcbiAgY29uc3Qgc2VsZWN0ZWRUcmFjayA9IHJlZigtMSk7XG4gIGNvbnN0IGlzUGljdHVyZUluUGljdHVyZSA9IHJlZihmYWxzZSk7XG4gIGNvbnN0IG11dGVkID0gcmVmKGZhbHNlKTtcbiAgY29uc3Qgc3VwcG9ydHNQaWN0dXJlSW5QaWN0dXJlID0gZG9jdW1lbnQgJiYgXCJwaWN0dXJlSW5QaWN0dXJlRW5hYmxlZFwiIGluIGRvY3VtZW50O1xuICBjb25zdCBzb3VyY2VFcnJvckV2ZW50ID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IGRpc2FibGVUcmFjayA9ICh0cmFjaykgPT4ge1xuICAgIHVzaW5nRWxSZWYodGFyZ2V0LCAoZWwpID0+IHtcbiAgICAgIGlmICh0cmFjaykge1xuICAgICAgICBjb25zdCBpZCA9IGlzTnVtYmVyKHRyYWNrKSA/IHRyYWNrIDogdHJhY2suaWQ7XG4gICAgICAgIGVsLnRleHRUcmFja3NbaWRdLm1vZGUgPSBcImRpc2FibGVkXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsLnRleHRUcmFja3MubGVuZ3RoOyArK2kpXG4gICAgICAgICAgZWwudGV4dFRyYWNrc1tpXS5tb2RlID0gXCJkaXNhYmxlZFwiO1xuICAgICAgfVxuICAgICAgc2VsZWN0ZWRUcmFjay52YWx1ZSA9IC0xO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBlbmFibGVUcmFjayA9ICh0cmFjaywgZGlzYWJsZVRyYWNrcyA9IHRydWUpID0+IHtcbiAgICB1c2luZ0VsUmVmKHRhcmdldCwgKGVsKSA9PiB7XG4gICAgICBjb25zdCBpZCA9IGlzTnVtYmVyKHRyYWNrKSA/IHRyYWNrIDogdHJhY2suaWQ7XG4gICAgICBpZiAoZGlzYWJsZVRyYWNrcylcbiAgICAgICAgZGlzYWJsZVRyYWNrKCk7XG4gICAgICBlbC50ZXh0VHJhY2tzW2lkXS5tb2RlID0gXCJzaG93aW5nXCI7XG4gICAgICBzZWxlY3RlZFRyYWNrLnZhbHVlID0gaWQ7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IHRvZ2dsZVBpY3R1cmVJblBpY3R1cmUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHVzaW5nRWxSZWYodGFyZ2V0LCBhc3luYyAoZWwpID0+IHtcbiAgICAgICAgaWYgKHN1cHBvcnRzUGljdHVyZUluUGljdHVyZSkge1xuICAgICAgICAgIGlmICghaXNQaWN0dXJlSW5QaWN0dXJlLnZhbHVlKSB7XG4gICAgICAgICAgICBlbC5yZXF1ZXN0UGljdHVyZUluUGljdHVyZSgpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuZXhpdFBpY3R1cmVJblBpY3R1cmUoKS50aGVuKHJlc29sdmUpLmNhdGNoKHJlamVjdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgd2F0Y2hFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZG9jdW1lbnQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZWwgPSByZXNvbHZlVW5yZWYodGFyZ2V0KTtcbiAgICBpZiAoIWVsKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHNyYyA9IHJlc29sdmVVbnJlZihvcHRpb25zLnNyYyk7XG4gICAgbGV0IHNvdXJjZXMgPSBbXTtcbiAgICBpZiAoIXNyYylcbiAgICAgIHJldHVybjtcbiAgICBpZiAoaXNTdHJpbmcoc3JjKSlcbiAgICAgIHNvdXJjZXMgPSBbeyBzcmMgfV07XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzcmMpKVxuICAgICAgc291cmNlcyA9IHNyYztcbiAgICBlbHNlIGlmIChpc09iamVjdChzcmMpKVxuICAgICAgc291cmNlcyA9IFtzcmNdO1xuICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzb3VyY2VcIikuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgc291cmNlRXJyb3JFdmVudC50cmlnZ2VyKTtcbiAgICAgIGUucmVtb3ZlKCk7XG4gICAgfSk7XG4gICAgc291cmNlcy5mb3JFYWNoKCh7IHNyYzogc3JjMiwgdHlwZSB9KSA9PiB7XG4gICAgICBjb25zdCBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic291cmNlXCIpO1xuICAgICAgc291cmNlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBzcmMyKTtcbiAgICAgIHNvdXJjZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIHR5cGUgfHwgXCJcIik7XG4gICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHNvdXJjZUVycm9yRXZlbnQudHJpZ2dlcik7XG4gICAgICBlbC5hcHBlbmRDaGlsZChzb3VyY2UpO1xuICAgIH0pO1xuICAgIGVsLmxvYWQoKTtcbiAgfSk7XG4gIHRyeU9uU2NvcGVEaXNwb3NlKCgpID0+IHtcbiAgICBjb25zdCBlbCA9IHJlc29sdmVVbnJlZih0YXJnZXQpO1xuICAgIGlmICghZWwpXG4gICAgICByZXR1cm47XG4gICAgZWwucXVlcnlTZWxlY3RvckFsbChcInNvdXJjZVwiKS5mb3JFYWNoKChlKSA9PiBlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBzb3VyY2VFcnJvckV2ZW50LnRyaWdnZXIpKTtcbiAgfSk7XG4gIHdhdGNoKHZvbHVtZSwgKHZvbCkgPT4ge1xuICAgIGNvbnN0IGVsID0gcmVzb2x2ZVVucmVmKHRhcmdldCk7XG4gICAgaWYgKCFlbClcbiAgICAgIHJldHVybjtcbiAgICBlbC52b2x1bWUgPSB2b2w7XG4gIH0pO1xuICB3YXRjaChtdXRlZCwgKG11dGUpID0+IHtcbiAgICBjb25zdCBlbCA9IHJlc29sdmVVbnJlZih0YXJnZXQpO1xuICAgIGlmICghZWwpXG4gICAgICByZXR1cm47XG4gICAgZWwubXV0ZWQgPSBtdXRlO1xuICB9KTtcbiAgd2F0Y2gocmF0ZSwgKHJhdGUyKSA9PiB7XG4gICAgY29uc3QgZWwgPSByZXNvbHZlVW5yZWYodGFyZ2V0KTtcbiAgICBpZiAoIWVsKVxuICAgICAgcmV0dXJuO1xuICAgIGVsLnBsYXliYWNrUmF0ZSA9IHJhdGUyO1xuICB9KTtcbiAgd2F0Y2hFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZG9jdW1lbnQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdGV4dFRyYWNrcyA9IHJlc29sdmVVbnJlZihvcHRpb25zLnRyYWNrcyk7XG4gICAgY29uc3QgZWwgPSByZXNvbHZlVW5yZWYodGFyZ2V0KTtcbiAgICBpZiAoIXRleHRUcmFja3MgfHwgIXRleHRUcmFja3MubGVuZ3RoIHx8ICFlbClcbiAgICAgIHJldHVybjtcbiAgICBlbC5xdWVyeVNlbGVjdG9yQWxsKFwidHJhY2tcIikuZm9yRWFjaCgoZSkgPT4gZS5yZW1vdmUoKSk7XG4gICAgdGV4dFRyYWNrcy5mb3JFYWNoKCh7IGRlZmF1bHQ6IGlzRGVmYXVsdCwga2luZCwgbGFiZWwsIHNyYywgc3JjTGFuZyB9LCBpKSA9PiB7XG4gICAgICBjb25zdCB0cmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0cmFja1wiKTtcbiAgICAgIHRyYWNrLmRlZmF1bHQgPSBpc0RlZmF1bHQgfHwgZmFsc2U7XG4gICAgICB0cmFjay5raW5kID0ga2luZDtcbiAgICAgIHRyYWNrLmxhYmVsID0gbGFiZWw7XG4gICAgICB0cmFjay5zcmMgPSBzcmM7XG4gICAgICB0cmFjay5zcmNsYW5nID0gc3JjTGFuZztcbiAgICAgIGlmICh0cmFjay5kZWZhdWx0KVxuICAgICAgICBzZWxlY3RlZFRyYWNrLnZhbHVlID0gaTtcbiAgICAgIGVsLmFwcGVuZENoaWxkKHRyYWNrKTtcbiAgICB9KTtcbiAgfSk7XG4gIGNvbnN0IHsgaWdub3JlVXBkYXRlczogaWdub3JlQ3VycmVudFRpbWVVcGRhdGVzIH0gPSB3YXRjaElnbm9yYWJsZShjdXJyZW50VGltZSwgKHRpbWUpID0+IHtcbiAgICBjb25zdCBlbCA9IHJlc29sdmVVbnJlZih0YXJnZXQpO1xuICAgIGlmICghZWwpXG4gICAgICByZXR1cm47XG4gICAgZWwuY3VycmVudFRpbWUgPSB0aW1lO1xuICB9KTtcbiAgY29uc3QgeyBpZ25vcmVVcGRhdGVzOiBpZ25vcmVQbGF5aW5nVXBkYXRlcyB9ID0gd2F0Y2hJZ25vcmFibGUocGxheWluZywgKGlzUGxheWluZykgPT4ge1xuICAgIGNvbnN0IGVsID0gcmVzb2x2ZVVucmVmKHRhcmdldCk7XG4gICAgaWYgKCFlbClcbiAgICAgIHJldHVybjtcbiAgICBpc1BsYXlpbmcgPyBlbC5wbGF5KCkgOiBlbC5wYXVzZSgpO1xuICB9KTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwidGltZXVwZGF0ZVwiLCAoKSA9PiBpZ25vcmVDdXJyZW50VGltZVVwZGF0ZXMoKCkgPT4gY3VycmVudFRpbWUudmFsdWUgPSByZXNvbHZlVW5yZWYodGFyZ2V0KS5jdXJyZW50VGltZSkpO1xuICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJkdXJhdGlvbmNoYW5nZVwiLCAoKSA9PiBkdXJhdGlvbi52YWx1ZSA9IHJlc29sdmVVbnJlZih0YXJnZXQpLmR1cmF0aW9uKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwicHJvZ3Jlc3NcIiwgKCkgPT4gYnVmZmVyZWQudmFsdWUgPSB0aW1lUmFuZ2VUb0FycmF5KHJlc29sdmVVbnJlZih0YXJnZXQpLmJ1ZmZlcmVkKSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcInNlZWtpbmdcIiwgKCkgPT4gc2Vla2luZy52YWx1ZSA9IHRydWUpO1xuICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJzZWVrZWRcIiwgKCkgPT4gc2Vla2luZy52YWx1ZSA9IGZhbHNlKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwid2FpdGluZ1wiLCAoKSA9PiB3YWl0aW5nLnZhbHVlID0gdHJ1ZSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcInBsYXlpbmdcIiwgKCkgPT4ge1xuICAgIHdhaXRpbmcudmFsdWUgPSBmYWxzZTtcbiAgICBlbmRlZC52YWx1ZSA9IGZhbHNlO1xuICB9KTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwicmF0ZWNoYW5nZVwiLCAoKSA9PiByYXRlLnZhbHVlID0gcmVzb2x2ZVVucmVmKHRhcmdldCkucGxheWJhY2tSYXRlKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwic3RhbGxlZFwiLCAoKSA9PiBzdGFsbGVkLnZhbHVlID0gdHJ1ZSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcImVuZGVkXCIsICgpID0+IGVuZGVkLnZhbHVlID0gdHJ1ZSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcInBhdXNlXCIsICgpID0+IGlnbm9yZVBsYXlpbmdVcGRhdGVzKCgpID0+IHBsYXlpbmcudmFsdWUgPSBmYWxzZSkpO1xuICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJwbGF5XCIsICgpID0+IGlnbm9yZVBsYXlpbmdVcGRhdGVzKCgpID0+IHBsYXlpbmcudmFsdWUgPSB0cnVlKSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcImVudGVycGljdHVyZWlucGljdHVyZVwiLCAoKSA9PiBpc1BpY3R1cmVJblBpY3R1cmUudmFsdWUgPSB0cnVlKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwibGVhdmVwaWN0dXJlaW5waWN0dXJlXCIsICgpID0+IGlzUGljdHVyZUluUGljdHVyZS52YWx1ZSA9IGZhbHNlKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwidm9sdW1lY2hhbmdlXCIsICgpID0+IHtcbiAgICBjb25zdCBlbCA9IHJlc29sdmVVbnJlZih0YXJnZXQpO1xuICAgIGlmICghZWwpXG4gICAgICByZXR1cm47XG4gICAgdm9sdW1lLnZhbHVlID0gZWwudm9sdW1lO1xuICAgIG11dGVkLnZhbHVlID0gZWwubXV0ZWQ7XG4gIH0pO1xuICBjb25zdCBsaXN0ZW5lcnMgPSBbXTtcbiAgY29uc3Qgc3RvcCA9IHdhdGNoKFt0YXJnZXRdLCAoKSA9PiB7XG4gICAgY29uc3QgZWwgPSByZXNvbHZlVW5yZWYodGFyZ2V0KTtcbiAgICBpZiAoIWVsKVxuICAgICAgcmV0dXJuO1xuICAgIHN0b3AoKTtcbiAgICBsaXN0ZW5lcnNbMF0gPSB1c2VFdmVudExpc3RlbmVyKGVsLnRleHRUcmFja3MsIFwiYWRkdHJhY2tcIiwgKCkgPT4gdHJhY2tzLnZhbHVlID0gdHJhY2tzVG9BcnJheShlbC50ZXh0VHJhY2tzKSk7XG4gICAgbGlzdGVuZXJzWzFdID0gdXNlRXZlbnRMaXN0ZW5lcihlbC50ZXh0VHJhY2tzLCBcInJlbW92ZXRyYWNrXCIsICgpID0+IHRyYWNrcy52YWx1ZSA9IHRyYWNrc1RvQXJyYXkoZWwudGV4dFRyYWNrcykpO1xuICAgIGxpc3RlbmVyc1syXSA9IHVzZUV2ZW50TGlzdGVuZXIoZWwudGV4dFRyYWNrcywgXCJjaGFuZ2VcIiwgKCkgPT4gdHJhY2tzLnZhbHVlID0gdHJhY2tzVG9BcnJheShlbC50ZXh0VHJhY2tzKSk7XG4gIH0pO1xuICB0cnlPblNjb3BlRGlzcG9zZSgoKSA9PiBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKCkpKTtcbiAgcmV0dXJuIHtcbiAgICBjdXJyZW50VGltZSxcbiAgICBkdXJhdGlvbixcbiAgICB3YWl0aW5nLFxuICAgIHNlZWtpbmcsXG4gICAgZW5kZWQsXG4gICAgc3RhbGxlZCxcbiAgICBidWZmZXJlZCxcbiAgICBwbGF5aW5nLFxuICAgIHJhdGUsXG4gICAgdm9sdW1lLFxuICAgIG11dGVkLFxuICAgIHRyYWNrcyxcbiAgICBzZWxlY3RlZFRyYWNrLFxuICAgIGVuYWJsZVRyYWNrLFxuICAgIGRpc2FibGVUcmFjayxcbiAgICBzdXBwb3J0c1BpY3R1cmVJblBpY3R1cmUsXG4gICAgdG9nZ2xlUGljdHVyZUluUGljdHVyZSxcbiAgICBpc1BpY3R1cmVJblBpY3R1cmUsXG4gICAgb25Tb3VyY2VFcnJvcjogc291cmNlRXJyb3JFdmVudC5vblxuICB9O1xufVxuXG5jb25zdCBnZXRNYXBWdWUyQ29tcGF0ID0gKCkgPT4ge1xuICBjb25zdCBkYXRhID0gcmVhY3RpdmUoe30pO1xuICByZXR1cm4ge1xuICAgIGdldDogKGtleSkgPT4gZGF0YVtrZXldLFxuICAgIHNldDogKGtleSwgdmFsdWUpID0+IHNldChkYXRhLCBrZXksIHZhbHVlKSxcbiAgICBoYXM6IChrZXkpID0+IGhhc093bihkYXRhLCBrZXkpLFxuICAgIGRlbGV0ZTogKGtleSkgPT4gZGVsKGRhdGEsIGtleSksXG4gICAgY2xlYXI6ICgpID0+IHtcbiAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBkZWwoZGF0YSwga2V5KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG5mdW5jdGlvbiB1c2VNZW1vaXplKHJlc29sdmVyLCBvcHRpb25zKSB7XG4gIGNvbnN0IGluaXRDYWNoZSA9ICgpID0+IHtcbiAgICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5jYWNoZSlcbiAgICAgIHJldHVybiByZWFjdGl2ZShvcHRpb25zLmNhY2hlKTtcbiAgICBpZiAoaXNWdWUyKVxuICAgICAgcmV0dXJuIGdldE1hcFZ1ZTJDb21wYXQoKTtcbiAgICByZXR1cm4gcmVhY3RpdmUobmV3IE1hcCgpKTtcbiAgfTtcbiAgY29uc3QgY2FjaGUgPSBpbml0Q2FjaGUoKTtcbiAgY29uc3QgZ2VuZXJhdGVLZXkgPSAoLi4uYXJncykgPT4gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZ2V0S2V5KSA/IG9wdGlvbnMuZ2V0S2V5KC4uLmFyZ3MpIDogSlNPTi5zdHJpbmdpZnkoYXJncyk7XG4gIGNvbnN0IF9sb2FkRGF0YSA9IChrZXksIC4uLmFyZ3MpID0+IHtcbiAgICBjYWNoZS5zZXQoa2V5LCByZXNvbHZlciguLi5hcmdzKSk7XG4gICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICB9O1xuICBjb25zdCBsb2FkRGF0YSA9ICguLi5hcmdzKSA9PiBfbG9hZERhdGEoZ2VuZXJhdGVLZXkoLi4uYXJncyksIC4uLmFyZ3MpO1xuICBjb25zdCBkZWxldGVEYXRhID0gKC4uLmFyZ3MpID0+IHtcbiAgICBjYWNoZS5kZWxldGUoZ2VuZXJhdGVLZXkoLi4uYXJncykpO1xuICB9O1xuICBjb25zdCBjbGVhckRhdGEgPSAoKSA9PiB7XG4gICAgY2FjaGUuY2xlYXIoKTtcbiAgfTtcbiAgY29uc3QgbWVtb2l6ZWQgPSAoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IGtleSA9IGdlbmVyYXRlS2V5KC4uLmFyZ3MpO1xuICAgIGlmIChjYWNoZS5oYXMoa2V5KSlcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICByZXR1cm4gX2xvYWREYXRhKGtleSwgLi4uYXJncyk7XG4gIH07XG4gIG1lbW9pemVkLmxvYWQgPSBsb2FkRGF0YTtcbiAgbWVtb2l6ZWQuZGVsZXRlID0gZGVsZXRlRGF0YTtcbiAgbWVtb2l6ZWQuY2xlYXIgPSBjbGVhckRhdGE7XG4gIG1lbW9pemVkLmdlbmVyYXRlS2V5ID0gZ2VuZXJhdGVLZXk7XG4gIG1lbW9pemVkLmNhY2hlID0gY2FjaGU7XG4gIHJldHVybiBtZW1vaXplZDtcbn1cblxuZnVuY3Rpb24gdXNlTWVtb3J5KG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBtZW1vcnkgPSByZWYoKTtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gdHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIFwibWVtb3J5XCIgaW4gcGVyZm9ybWFuY2UpO1xuICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpIHtcbiAgICBjb25zdCB7IGludGVydmFsID0gMWUzIH0gPSBvcHRpb25zO1xuICAgIHVzZUludGVydmFsRm4oKCkgPT4ge1xuICAgICAgbWVtb3J5LnZhbHVlID0gcGVyZm9ybWFuY2UubWVtb3J5O1xuICAgIH0sIGludGVydmFsLCB7IGltbWVkaWF0ZTogb3B0aW9ucy5pbW1lZGlhdGUsIGltbWVkaWF0ZUNhbGxiYWNrOiBvcHRpb25zLmltbWVkaWF0ZUNhbGxiYWNrIH0pO1xuICB9XG4gIHJldHVybiB7IGlzU3VwcG9ydGVkLCBtZW1vcnkgfTtcbn1cblxuZnVuY3Rpb24gdXNlTW91bnRlZCgpIHtcbiAgY29uc3QgaXNNb3VudGVkID0gcmVmKGZhbHNlKTtcbiAgb25Nb3VudGVkKCgpID0+IHtcbiAgICBpc01vdW50ZWQudmFsdWUgPSB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIGlzTW91bnRlZDtcbn1cblxuZnVuY3Rpb24gdXNlTW91c2Uob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB0eXBlID0gXCJwYWdlXCIsXG4gICAgdG91Y2ggPSB0cnVlLFxuICAgIHJlc2V0T25Ub3VjaEVuZHMgPSBmYWxzZSxcbiAgICBpbml0aWFsVmFsdWUgPSB7IHg6IDAsIHk6IDAgfSxcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93LFxuICAgIGV2ZW50RmlsdGVyXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB4ID0gcmVmKGluaXRpYWxWYWx1ZS54KTtcbiAgY29uc3QgeSA9IHJlZihpbml0aWFsVmFsdWUueSk7XG4gIGNvbnN0IHNvdXJjZVR5cGUgPSByZWYobnVsbCk7XG4gIGNvbnN0IG1vdXNlSGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgIGlmICh0eXBlID09PSBcInBhZ2VcIikge1xuICAgICAgeC52YWx1ZSA9IGV2ZW50LnBhZ2VYO1xuICAgICAgeS52YWx1ZSA9IGV2ZW50LnBhZ2VZO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJjbGllbnRcIikge1xuICAgICAgeC52YWx1ZSA9IGV2ZW50LmNsaWVudFg7XG4gICAgICB5LnZhbHVlID0gZXZlbnQuY2xpZW50WTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwibW92ZW1lbnRcIikge1xuICAgICAgeC52YWx1ZSA9IGV2ZW50Lm1vdmVtZW50WDtcbiAgICAgIHkudmFsdWUgPSBldmVudC5tb3ZlbWVudFk7XG4gICAgfVxuICAgIHNvdXJjZVR5cGUudmFsdWUgPSBcIm1vdXNlXCI7XG4gIH07XG4gIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuICAgIHgudmFsdWUgPSBpbml0aWFsVmFsdWUueDtcbiAgICB5LnZhbHVlID0gaW5pdGlhbFZhbHVlLnk7XG4gIH07XG4gIGNvbnN0IHRvdWNoSGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHRvdWNoMiA9IGV2ZW50LnRvdWNoZXNbMF07XG4gICAgICBpZiAodHlwZSA9PT0gXCJwYWdlXCIpIHtcbiAgICAgICAgeC52YWx1ZSA9IHRvdWNoMi5wYWdlWDtcbiAgICAgICAgeS52YWx1ZSA9IHRvdWNoMi5wYWdlWTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJjbGllbnRcIikge1xuICAgICAgICB4LnZhbHVlID0gdG91Y2gyLmNsaWVudFg7XG4gICAgICAgIHkudmFsdWUgPSB0b3VjaDIuY2xpZW50WTtcbiAgICAgIH1cbiAgICAgIHNvdXJjZVR5cGUudmFsdWUgPSBcInRvdWNoXCI7XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3VzZUhhbmRsZXJXcmFwcGVyID0gKGV2ZW50KSA9PiB7XG4gICAgcmV0dXJuIGV2ZW50RmlsdGVyID09PSB2b2lkIDAgPyBtb3VzZUhhbmRsZXIoZXZlbnQpIDogZXZlbnRGaWx0ZXIoKCkgPT4gbW91c2VIYW5kbGVyKGV2ZW50KSwge30pO1xuICB9O1xuICBjb25zdCB0b3VjaEhhbmRsZXJXcmFwcGVyID0gKGV2ZW50KSA9PiB7XG4gICAgcmV0dXJuIGV2ZW50RmlsdGVyID09PSB2b2lkIDAgPyB0b3VjaEhhbmRsZXIoZXZlbnQpIDogZXZlbnRGaWx0ZXIoKCkgPT4gdG91Y2hIYW5kbGVyKGV2ZW50KSwge30pO1xuICB9O1xuICBpZiAod2luZG93KSB7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwibW91c2Vtb3ZlXCIsIG1vdXNlSGFuZGxlcldyYXBwZXIsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJkcmFnb3ZlclwiLCBtb3VzZUhhbmRsZXJXcmFwcGVyLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgaWYgKHRvdWNoICYmIHR5cGUgIT09IFwibW92ZW1lbnRcIikge1xuICAgICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwidG91Y2hzdGFydFwiLCB0b3VjaEhhbmRsZXJXcmFwcGVyLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJ0b3VjaG1vdmVcIiwgdG91Y2hIYW5kbGVyV3JhcHBlciwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgaWYgKHJlc2V0T25Ub3VjaEVuZHMpXG4gICAgICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcInRvdWNoZW5kXCIsIHJlc2V0LCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgeCxcbiAgICB5LFxuICAgIHNvdXJjZVR5cGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlTW91c2VJbkVsZW1lbnQodGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGhhbmRsZU91dHNpZGUgPSB0cnVlLFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3dcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHsgeCwgeSwgc291cmNlVHlwZSB9ID0gdXNlTW91c2Uob3B0aW9ucyk7XG4gIGNvbnN0IHRhcmdldFJlZiA9IHJlZih0YXJnZXQgIT0gbnVsbCA/IHRhcmdldCA6IHdpbmRvdyA9PSBudWxsID8gdm9pZCAwIDogd2luZG93LmRvY3VtZW50LmJvZHkpO1xuICBjb25zdCBlbGVtZW50WCA9IHJlZigwKTtcbiAgY29uc3QgZWxlbWVudFkgPSByZWYoMCk7XG4gIGNvbnN0IGVsZW1lbnRQb3NpdGlvblggPSByZWYoMCk7XG4gIGNvbnN0IGVsZW1lbnRQb3NpdGlvblkgPSByZWYoMCk7XG4gIGNvbnN0IGVsZW1lbnRIZWlnaHQgPSByZWYoMCk7XG4gIGNvbnN0IGVsZW1lbnRXaWR0aCA9IHJlZigwKTtcbiAgY29uc3QgaXNPdXRzaWRlID0gcmVmKHRydWUpO1xuICBsZXQgc3RvcCA9ICgpID0+IHtcbiAgfTtcbiAgaWYgKHdpbmRvdykge1xuICAgIHN0b3AgPSB3YXRjaChbdGFyZ2V0UmVmLCB4LCB5XSwgKCkgPT4ge1xuICAgICAgY29uc3QgZWwgPSB1bnJlZkVsZW1lbnQodGFyZ2V0UmVmKTtcbiAgICAgIGlmICghZWwpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbGVmdCxcbiAgICAgICAgdG9wLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0XG4gICAgICB9ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBlbGVtZW50UG9zaXRpb25YLnZhbHVlID0gbGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldDtcbiAgICAgIGVsZW1lbnRQb3NpdGlvblkudmFsdWUgPSB0b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICBlbGVtZW50SGVpZ2h0LnZhbHVlID0gaGVpZ2h0O1xuICAgICAgZWxlbWVudFdpZHRoLnZhbHVlID0gd2lkdGg7XG4gICAgICBjb25zdCBlbFggPSB4LnZhbHVlIC0gZWxlbWVudFBvc2l0aW9uWC52YWx1ZTtcbiAgICAgIGNvbnN0IGVsWSA9IHkudmFsdWUgLSBlbGVtZW50UG9zaXRpb25ZLnZhbHVlO1xuICAgICAgaXNPdXRzaWRlLnZhbHVlID0gd2lkdGggPT09IDAgfHwgaGVpZ2h0ID09PSAwIHx8IGVsWCA8IDAgfHwgZWxZIDwgMCB8fCBlbFggPiB3aWR0aCB8fCBlbFkgPiBoZWlnaHQ7XG4gICAgICBpZiAoaGFuZGxlT3V0c2lkZSB8fCAhaXNPdXRzaWRlLnZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnRYLnZhbHVlID0gZWxYO1xuICAgICAgICBlbGVtZW50WS52YWx1ZSA9IGVsWTtcbiAgICAgIH1cbiAgICB9LCB7IGltbWVkaWF0ZTogdHJ1ZSB9KTtcbiAgICB1c2VFdmVudExpc3RlbmVyKGRvY3VtZW50LCBcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xuICAgICAgaXNPdXRzaWRlLnZhbHVlID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHgsXG4gICAgeSxcbiAgICBzb3VyY2VUeXBlLFxuICAgIGVsZW1lbnRYLFxuICAgIGVsZW1lbnRZLFxuICAgIGVsZW1lbnRQb3NpdGlvblgsXG4gICAgZWxlbWVudFBvc2l0aW9uWSxcbiAgICBlbGVtZW50SGVpZ2h0LFxuICAgIGVsZW1lbnRXaWR0aCxcbiAgICBpc091dHNpZGUsXG4gICAgc3RvcFxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VNb3VzZVByZXNzZWQob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB0b3VjaCA9IHRydWUsXG4gICAgZHJhZyA9IHRydWUsXG4gICAgaW5pdGlhbFZhbHVlID0gZmFsc2UsXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcHJlc3NlZCA9IHJlZihpbml0aWFsVmFsdWUpO1xuICBjb25zdCBzb3VyY2VUeXBlID0gcmVmKG51bGwpO1xuICBpZiAoIXdpbmRvdykge1xuICAgIHJldHVybiB7XG4gICAgICBwcmVzc2VkLFxuICAgICAgc291cmNlVHlwZVxuICAgIH07XG4gIH1cbiAgY29uc3Qgb25QcmVzc2VkID0gKHNyY1R5cGUpID0+ICgpID0+IHtcbiAgICBwcmVzc2VkLnZhbHVlID0gdHJ1ZTtcbiAgICBzb3VyY2VUeXBlLnZhbHVlID0gc3JjVHlwZTtcbiAgfTtcbiAgY29uc3Qgb25SZWxlYXNlZCA9ICgpID0+IHtcbiAgICBwcmVzc2VkLnZhbHVlID0gZmFsc2U7XG4gICAgc291cmNlVHlwZS52YWx1ZSA9IG51bGw7XG4gIH07XG4gIGNvbnN0IHRhcmdldCA9IGNvbXB1dGVkKCgpID0+IHVucmVmRWxlbWVudChvcHRpb25zLnRhcmdldCkgfHwgd2luZG93KTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwibW91c2Vkb3duXCIsIG9uUHJlc3NlZChcIm1vdXNlXCIpLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcIm1vdXNlbGVhdmVcIiwgb25SZWxlYXNlZCwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJtb3VzZXVwXCIsIG9uUmVsZWFzZWQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgaWYgKGRyYWcpIHtcbiAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJkcmFnc3RhcnRcIiwgb25QcmVzc2VkKFwibW91c2VcIiksIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJkcm9wXCIsIG9uUmVsZWFzZWQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJkcmFnZW5kXCIsIG9uUmVsZWFzZWQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgfVxuICBpZiAodG91Y2gpIHtcbiAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJ0b3VjaHN0YXJ0XCIsIG9uUHJlc3NlZChcInRvdWNoXCIpLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwidG91Y2hlbmRcIiwgb25SZWxlYXNlZCwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcInRvdWNoY2FuY2VsXCIsIG9uUmVsZWFzZWQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHByZXNzZWQsXG4gICAgc291cmNlVHlwZVxuICB9O1xufVxuXG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQ4ID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkOCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDggPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fb2JqUmVzdCQxID0gKHNvdXJjZSwgZXhjbHVkZSkgPT4ge1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIGZvciAodmFyIHByb3AgaW4gc291cmNlKVxuICAgIGlmIChfX2hhc093blByb3AkOC5jYWxsKHNvdXJjZSwgcHJvcCkgJiYgZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMClcbiAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgaWYgKHNvdXJjZSAhPSBudWxsICYmIF9fZ2V0T3duUHJvcFN5bWJvbHMkOClcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkOChzb3VyY2UpKSB7XG4gICAgICBpZiAoZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMCAmJiBfX3Byb3BJc0VudW0kOC5jYWxsKHNvdXJjZSwgcHJvcCkpXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuZnVuY3Rpb24gdXNlTXV0YXRpb25PYnNlcnZlcih0YXJnZXQsIGNhbGxiYWNrLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgX2EgPSBvcHRpb25zLCB7IHdpbmRvdyA9IGRlZmF1bHRXaW5kb3cgfSA9IF9hLCBtdXRhdGlvbk9wdGlvbnMgPSBfX29ialJlc3QkMShfYSwgW1wid2luZG93XCJdKTtcbiAgbGV0IG9ic2VydmVyO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB3aW5kb3cgJiYgXCJNdXRhdGlvbk9ic2VydmVyXCIgaW4gd2luZG93KTtcbiAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICBpZiAob2JzZXJ2ZXIpIHtcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIG9ic2VydmVyID0gdm9pZCAwO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc3RvcFdhdGNoID0gd2F0Y2goKCkgPT4gdW5yZWZFbGVtZW50KHRhcmdldCksIChlbCkgPT4ge1xuICAgIGNsZWFudXAoKTtcbiAgICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUgJiYgd2luZG93ICYmIGVsKSB7XG4gICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoZWwsIG11dGF0aW9uT3B0aW9ucyk7XG4gICAgfVxuICB9LCB7IGltbWVkaWF0ZTogdHJ1ZSB9KTtcbiAgY29uc3Qgc3RvcCA9ICgpID0+IHtcbiAgICBjbGVhbnVwKCk7XG4gICAgc3RvcFdhdGNoKCk7XG4gIH07XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHN0b3ApO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIHN0b3BcbiAgfTtcbn1cblxuY29uc3QgdXNlTmF2aWdhdG9yTGFuZ3VhZ2UgPSAob3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdyB9ID0gb3B0aW9ucztcbiAgY29uc3QgbmF2aWdhdG9yID0gd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cubmF2aWdhdG9yO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiBuYXZpZ2F0b3IgJiYgXCJsYW5ndWFnZVwiIGluIG5hdmlnYXRvcik7XG4gIGNvbnN0IGxhbmd1YWdlID0gcmVmKG5hdmlnYXRvciA9PSBudWxsID8gdm9pZCAwIDogbmF2aWdhdG9yLmxhbmd1YWdlKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwibGFuZ3VhZ2VjaGFuZ2VcIiwgKCkgPT4ge1xuICAgIGlmIChuYXZpZ2F0b3IpXG4gICAgICBsYW5ndWFnZS52YWx1ZSA9IG5hdmlnYXRvci5sYW5ndWFnZTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgbGFuZ3VhZ2VcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIHVzZU5ldHdvcmsob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdyB9ID0gb3B0aW9ucztcbiAgY29uc3QgbmF2aWdhdG9yID0gd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cubmF2aWdhdG9yO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiBuYXZpZ2F0b3IgJiYgXCJjb25uZWN0aW9uXCIgaW4gbmF2aWdhdG9yKTtcbiAgY29uc3QgaXNPbmxpbmUgPSByZWYodHJ1ZSk7XG4gIGNvbnN0IHNhdmVEYXRhID0gcmVmKGZhbHNlKTtcbiAgY29uc3Qgb2ZmbGluZUF0ID0gcmVmKHZvaWQgMCk7XG4gIGNvbnN0IG9ubGluZUF0ID0gcmVmKHZvaWQgMCk7XG4gIGNvbnN0IGRvd25saW5rID0gcmVmKHZvaWQgMCk7XG4gIGNvbnN0IGRvd25saW5rTWF4ID0gcmVmKHZvaWQgMCk7XG4gIGNvbnN0IHJ0dCA9IHJlZih2b2lkIDApO1xuICBjb25zdCBlZmZlY3RpdmVUeXBlID0gcmVmKHZvaWQgMCk7XG4gIGNvbnN0IHR5cGUgPSByZWYoXCJ1bmtub3duXCIpO1xuICBjb25zdCBjb25uZWN0aW9uID0gaXNTdXBwb3J0ZWQudmFsdWUgJiYgbmF2aWdhdG9yLmNvbm5lY3Rpb247XG4gIGZ1bmN0aW9uIHVwZGF0ZU5ldHdvcmtJbmZvcm1hdGlvbigpIHtcbiAgICBpZiAoIW5hdmlnYXRvcilcbiAgICAgIHJldHVybjtcbiAgICBpc09ubGluZS52YWx1ZSA9IG5hdmlnYXRvci5vbkxpbmU7XG4gICAgb2ZmbGluZUF0LnZhbHVlID0gaXNPbmxpbmUudmFsdWUgPyB2b2lkIDAgOiBEYXRlLm5vdygpO1xuICAgIG9ubGluZUF0LnZhbHVlID0gaXNPbmxpbmUudmFsdWUgPyBEYXRlLm5vdygpIDogdm9pZCAwO1xuICAgIGlmIChjb25uZWN0aW9uKSB7XG4gICAgICBkb3dubGluay52YWx1ZSA9IGNvbm5lY3Rpb24uZG93bmxpbms7XG4gICAgICBkb3dubGlua01heC52YWx1ZSA9IGNvbm5lY3Rpb24uZG93bmxpbmtNYXg7XG4gICAgICBlZmZlY3RpdmVUeXBlLnZhbHVlID0gY29ubmVjdGlvbi5lZmZlY3RpdmVUeXBlO1xuICAgICAgcnR0LnZhbHVlID0gY29ubmVjdGlvbi5ydHQ7XG4gICAgICBzYXZlRGF0YS52YWx1ZSA9IGNvbm5lY3Rpb24uc2F2ZURhdGE7XG4gICAgICB0eXBlLnZhbHVlID0gY29ubmVjdGlvbi50eXBlO1xuICAgIH1cbiAgfVxuICBpZiAod2luZG93KSB7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwib2ZmbGluZVwiLCAoKSA9PiB7XG4gICAgICBpc09ubGluZS52YWx1ZSA9IGZhbHNlO1xuICAgICAgb2ZmbGluZUF0LnZhbHVlID0gRGF0ZS5ub3coKTtcbiAgICB9KTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJvbmxpbmVcIiwgKCkgPT4ge1xuICAgICAgaXNPbmxpbmUudmFsdWUgPSB0cnVlO1xuICAgICAgb25saW5lQXQudmFsdWUgPSBEYXRlLm5vdygpO1xuICAgIH0pO1xuICB9XG4gIGlmIChjb25uZWN0aW9uKVxuICAgIHVzZUV2ZW50TGlzdGVuZXIoY29ubmVjdGlvbiwgXCJjaGFuZ2VcIiwgdXBkYXRlTmV0d29ya0luZm9ybWF0aW9uLCBmYWxzZSk7XG4gIHVwZGF0ZU5ldHdvcmtJbmZvcm1hdGlvbigpO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGlzT25saW5lLFxuICAgIHNhdmVEYXRhLFxuICAgIG9mZmxpbmVBdCxcbiAgICBvbmxpbmVBdCxcbiAgICBkb3dubGluayxcbiAgICBkb3dubGlua01heCxcbiAgICBlZmZlY3RpdmVUeXBlLFxuICAgIHJ0dCxcbiAgICB0eXBlXG4gIH07XG59XG5cbnZhciBfX2RlZlByb3AkNyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BTeW1ib2xzJDcgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCQ3ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0kNyA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wJDcgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDcob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzJDcgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcCQ3LmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AkNyhhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMkNylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkNyhiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bSQ3LmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcCQ3KGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xuZnVuY3Rpb24gdXNlTm93KG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgY29udHJvbHM6IGV4cG9zZUNvbnRyb2xzID0gZmFsc2UsXG4gICAgaW50ZXJ2YWwgPSBcInJlcXVlc3RBbmltYXRpb25GcmFtZVwiXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBub3cgPSByZWYobmV3IERhdGUoKSk7XG4gIGNvbnN0IHVwZGF0ZSA9ICgpID0+IG5vdy52YWx1ZSA9IG5ldyBEYXRlKCk7XG4gIGNvbnN0IGNvbnRyb2xzID0gaW50ZXJ2YWwgPT09IFwicmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIgPyB1c2VSYWZGbih1cGRhdGUsIHsgaW1tZWRpYXRlOiB0cnVlIH0pIDogdXNlSW50ZXJ2YWxGbih1cGRhdGUsIGludGVydmFsLCB7IGltbWVkaWF0ZTogdHJ1ZSB9KTtcbiAgaWYgKGV4cG9zZUNvbnRyb2xzKSB7XG4gICAgcmV0dXJuIF9fc3ByZWFkVmFsdWVzJDcoe1xuICAgICAgbm93XG4gICAgfSwgY29udHJvbHMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBub3c7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlT2JqZWN0VXJsKG9iamVjdCkge1xuICBjb25zdCB1cmwgPSByZWYoKTtcbiAgY29uc3QgcmVsZWFzZSA9ICgpID0+IHtcbiAgICBpZiAodXJsLnZhbHVlKVxuICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwudmFsdWUpO1xuICAgIHVybC52YWx1ZSA9IHZvaWQgMDtcbiAgfTtcbiAgd2F0Y2goKCkgPT4gdW5yZWYob2JqZWN0KSwgKG5ld09iamVjdCkgPT4ge1xuICAgIHJlbGVhc2UoKTtcbiAgICBpZiAobmV3T2JqZWN0KVxuICAgICAgdXJsLnZhbHVlID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXdPYmplY3QpO1xuICB9LCB7IGltbWVkaWF0ZTogdHJ1ZSB9KTtcbiAgdHJ5T25TY29wZURpc3Bvc2UocmVsZWFzZSk7XG4gIHJldHVybiByZWFkb25seSh1cmwpO1xufVxuXG5mdW5jdGlvbiB1c2VDbGFtcCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpIHx8IGlzUmVhZG9ubHkodmFsdWUpKVxuICAgIHJldHVybiBjb21wdXRlZCgoKSA9PiBjbGFtcChyZXNvbHZlVW5yZWYodmFsdWUpLCByZXNvbHZlVW5yZWYobWluKSwgcmVzb2x2ZVVucmVmKG1heCkpKTtcbiAgY29uc3QgX3ZhbHVlID0gcmVmKHZhbHVlKTtcbiAgcmV0dXJuIGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gX3ZhbHVlLnZhbHVlID0gY2xhbXAoX3ZhbHVlLnZhbHVlLCByZXNvbHZlVW5yZWYobWluKSwgcmVzb2x2ZVVucmVmKG1heCkpO1xuICAgIH0sXG4gICAgc2V0KHZhbHVlMikge1xuICAgICAgX3ZhbHVlLnZhbHVlID0gY2xhbXAodmFsdWUyLCByZXNvbHZlVW5yZWYobWluKSwgcmVzb2x2ZVVucmVmKG1heCkpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZU9mZnNldFBhZ2luYXRpb24ob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgdG90YWwgPSBJbmZpbml0eSxcbiAgICBwYWdlU2l6ZSA9IDEwLFxuICAgIHBhZ2UgPSAxLFxuICAgIG9uUGFnZUNoYW5nZSA9IG5vb3AsXG4gICAgb25QYWdlU2l6ZUNoYW5nZSA9IG5vb3AsXG4gICAgb25QYWdlQ291bnRDaGFuZ2UgPSBub29wXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBjdXJyZW50UGFnZVNpemUgPSB1c2VDbGFtcChwYWdlU2l6ZSwgMSwgSW5maW5pdHkpO1xuICBjb25zdCBwYWdlQ291bnQgPSBjb21wdXRlZCgoKSA9PiBNYXRoLm1heCgxLCBNYXRoLmNlaWwodW5yZWYodG90YWwpIC8gdW5yZWYoY3VycmVudFBhZ2VTaXplKSkpKTtcbiAgY29uc3QgY3VycmVudFBhZ2UgPSB1c2VDbGFtcChwYWdlLCAxLCBwYWdlQ291bnQpO1xuICBjb25zdCBpc0ZpcnN0UGFnZSA9IGNvbXB1dGVkKCgpID0+IGN1cnJlbnRQYWdlLnZhbHVlID09PSAxKTtcbiAgY29uc3QgaXNMYXN0UGFnZSA9IGNvbXB1dGVkKCgpID0+IGN1cnJlbnRQYWdlLnZhbHVlID09PSBwYWdlQ291bnQudmFsdWUpO1xuICBpZiAoaXNSZWYocGFnZSkpXG4gICAgc3luY1JlZihwYWdlLCBjdXJyZW50UGFnZSk7XG4gIGlmIChpc1JlZihwYWdlU2l6ZSkpXG4gICAgc3luY1JlZihwYWdlU2l6ZSwgY3VycmVudFBhZ2VTaXplKTtcbiAgZnVuY3Rpb24gcHJldigpIHtcbiAgICBjdXJyZW50UGFnZS52YWx1ZS0tO1xuICB9XG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgY3VycmVudFBhZ2UudmFsdWUrKztcbiAgfVxuICBjb25zdCByZXR1cm5WYWx1ZSA9IHtcbiAgICBjdXJyZW50UGFnZSxcbiAgICBjdXJyZW50UGFnZVNpemUsXG4gICAgcGFnZUNvdW50LFxuICAgIGlzRmlyc3RQYWdlLFxuICAgIGlzTGFzdFBhZ2UsXG4gICAgcHJldixcbiAgICBuZXh0XG4gIH07XG4gIHdhdGNoKGN1cnJlbnRQYWdlLCAoKSA9PiB7XG4gICAgb25QYWdlQ2hhbmdlKHJlYWN0aXZlKHJldHVyblZhbHVlKSk7XG4gIH0pO1xuICB3YXRjaChjdXJyZW50UGFnZVNpemUsICgpID0+IHtcbiAgICBvblBhZ2VTaXplQ2hhbmdlKHJlYWN0aXZlKHJldHVyblZhbHVlKSk7XG4gIH0pO1xuICB3YXRjaChwYWdlQ291bnQsICgpID0+IHtcbiAgICBvblBhZ2VDb3VudENoYW5nZShyZWFjdGl2ZShyZXR1cm5WYWx1ZSkpO1xuICB9KTtcbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufVxuXG5mdW5jdGlvbiB1c2VPbmxpbmUob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgaXNPbmxpbmUgfSA9IHVzZU5ldHdvcmsob3B0aW9ucyk7XG4gIHJldHVybiBpc09ubGluZTtcbn1cblxuZnVuY3Rpb24gdXNlUGFnZUxlYXZlKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHdpbmRvdyA9IGRlZmF1bHRXaW5kb3cgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzTGVmdCA9IHJlZihmYWxzZSk7XG4gIGNvbnN0IGhhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoIXdpbmRvdylcbiAgICAgIHJldHVybjtcbiAgICBldmVudCA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcbiAgICBjb25zdCBmcm9tID0gZXZlbnQucmVsYXRlZFRhcmdldCB8fCBldmVudC50b0VsZW1lbnQ7XG4gICAgaXNMZWZ0LnZhbHVlID0gIWZyb207XG4gIH07XG4gIGlmICh3aW5kb3cpIHtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJtb3VzZW91dFwiLCBoYW5kbGVyLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsIFwibW91c2VsZWF2ZVwiLCBoYW5kbGVyLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsIFwibW91c2VlbnRlclwiLCBoYW5kbGVyLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIH1cbiAgcmV0dXJuIGlzTGVmdDtcbn1cblxuZnVuY3Rpb24gdXNlUGFyYWxsYXgodGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGRldmljZU9yaWVudGF0aW9uVGlsdEFkanVzdCA9IChpKSA9PiBpLFxuICAgIGRldmljZU9yaWVudGF0aW9uUm9sbEFkanVzdCA9IChpKSA9PiBpLFxuICAgIG1vdXNlVGlsdEFkanVzdCA9IChpKSA9PiBpLFxuICAgIG1vdXNlUm9sbEFkanVzdCA9IChpKSA9PiBpLFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3dcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IG9yaWVudGF0aW9uID0gcmVhY3RpdmUodXNlRGV2aWNlT3JpZW50YXRpb24oeyB3aW5kb3cgfSkpO1xuICBjb25zdCB7XG4gICAgZWxlbWVudFg6IHgsXG4gICAgZWxlbWVudFk6IHksXG4gICAgZWxlbWVudFdpZHRoOiB3aWR0aCxcbiAgICBlbGVtZW50SGVpZ2h0OiBoZWlnaHRcbiAgfSA9IHVzZU1vdXNlSW5FbGVtZW50KHRhcmdldCwgeyBoYW5kbGVPdXRzaWRlOiBmYWxzZSwgd2luZG93IH0pO1xuICBjb25zdCBzb3VyY2UgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgaWYgKG9yaWVudGF0aW9uLmlzU3VwcG9ydGVkICYmIChvcmllbnRhdGlvbi5hbHBoYSAhPSBudWxsICYmIG9yaWVudGF0aW9uLmFscGhhICE9PSAwIHx8IG9yaWVudGF0aW9uLmdhbW1hICE9IG51bGwgJiYgb3JpZW50YXRpb24uZ2FtbWEgIT09IDApKVxuICAgICAgcmV0dXJuIFwiZGV2aWNlT3JpZW50YXRpb25cIjtcbiAgICByZXR1cm4gXCJtb3VzZVwiO1xuICB9KTtcbiAgY29uc3Qgcm9sbCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBpZiAoc291cmNlLnZhbHVlID09PSBcImRldmljZU9yaWVudGF0aW9uXCIpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gLW9yaWVudGF0aW9uLmJldGEgLyA5MDtcbiAgICAgIHJldHVybiBkZXZpY2VPcmllbnRhdGlvblJvbGxBZGp1c3QodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IC0oeS52YWx1ZSAtIGhlaWdodC52YWx1ZSAvIDIpIC8gaGVpZ2h0LnZhbHVlO1xuICAgICAgcmV0dXJuIG1vdXNlUm9sbEFkanVzdCh2YWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgdGlsdCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBpZiAoc291cmNlLnZhbHVlID09PSBcImRldmljZU9yaWVudGF0aW9uXCIpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gb3JpZW50YXRpb24uZ2FtbWEgLyA5MDtcbiAgICAgIHJldHVybiBkZXZpY2VPcmllbnRhdGlvblRpbHRBZGp1c3QodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2YWx1ZSA9ICh4LnZhbHVlIC0gd2lkdGgudmFsdWUgLyAyKSAvIHdpZHRoLnZhbHVlO1xuICAgICAgcmV0dXJuIG1vdXNlVGlsdEFkanVzdCh2YWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHsgcm9sbCwgdGlsdCwgc291cmNlIH07XG59XG5cbnZhciBfX2RlZlByb3AkNiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzJDEgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBfX2dldE93blByb3BEZXNjcyQxID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQ2ID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkNiA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDYgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCQ2ID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQ2KG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyQ2ID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkNi5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJDYoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJDYpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDYoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kNi5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkNihhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzJDEgPSAoYSwgYikgPT4gX19kZWZQcm9wcyQxKGEsIF9fZ2V0T3duUHJvcERlc2NzJDEoYikpO1xuY29uc3QgZGVmYXVsdFN0YXRlID0ge1xuICB4OiAwLFxuICB5OiAwLFxuICBwb2ludGVySWQ6IDAsXG4gIHByZXNzdXJlOiAwLFxuICB0aWx0WDogMCxcbiAgdGlsdFk6IDAsXG4gIHdpZHRoOiAwLFxuICBoZWlnaHQ6IDAsXG4gIHR3aXN0OiAwLFxuICBwb2ludGVyVHlwZTogbnVsbFxufTtcbmNvbnN0IGtleXMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmtleXMoZGVmYXVsdFN0YXRlKTtcbmZ1bmN0aW9uIHVzZVBvaW50ZXIob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB0YXJnZXQgPSBkZWZhdWx0V2luZG93XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc0luc2lkZSA9IHJlZihmYWxzZSk7XG4gIGNvbnN0IHN0YXRlID0gcmVmKG9wdGlvbnMuaW5pdGlhbFZhbHVlIHx8IHt9KTtcbiAgT2JqZWN0LmFzc2lnbihzdGF0ZS52YWx1ZSwgZGVmYXVsdFN0YXRlLCBzdGF0ZS52YWx1ZSk7XG4gIGNvbnN0IGhhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICBpc0luc2lkZS52YWx1ZSA9IHRydWU7XG4gICAgaWYgKG9wdGlvbnMucG9pbnRlclR5cGVzICYmICFvcHRpb25zLnBvaW50ZXJUeXBlcy5pbmNsdWRlcyhldmVudC5wb2ludGVyVHlwZSkpXG4gICAgICByZXR1cm47XG4gICAgc3RhdGUudmFsdWUgPSBvYmplY3RQaWNrKGV2ZW50LCBrZXlzLCBmYWxzZSk7XG4gIH07XG4gIGlmICh0YXJnZXQpIHtcbiAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJwb2ludGVyZG93blwiLCBoYW5kbGVyLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwicG9pbnRlcm1vdmVcIiwgaGFuZGxlciwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcInBvaW50ZXJsZWF2ZVwiLCAoKSA9PiBpc0luc2lkZS52YWx1ZSA9IGZhbHNlLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIH1cbiAgcmV0dXJuIF9fc3ByZWFkUHJvcHMkMShfX3NwcmVhZFZhbHVlcyQ2KHt9LCB0b1JlZnMoc3RhdGUpKSwge1xuICAgIGlzSW5zaWRlXG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VQb2ludGVyTG9jayh0YXJnZXQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IGRvY3VtZW50ID0gZGVmYXVsdERvY3VtZW50LCBwb2ludGVyTG9ja09wdGlvbnMgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IGRvY3VtZW50ICYmIFwicG9pbnRlckxvY2tFbGVtZW50XCIgaW4gZG9jdW1lbnQpO1xuICBjb25zdCBlbGVtZW50ID0gcmVmKCk7XG4gIGNvbnN0IHRyaWdnZXJFbGVtZW50ID0gcmVmKCk7XG4gIGxldCB0YXJnZXRFbGVtZW50O1xuICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpIHtcbiAgICB1c2VFdmVudExpc3RlbmVyKGRvY3VtZW50LCBcInBvaW50ZXJsb2NrY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbnN0IGN1cnJlbnRFbGVtZW50ID0gKF9hID0gZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50KSAhPSBudWxsID8gX2EgOiBlbGVtZW50LnZhbHVlO1xuICAgICAgaWYgKHRhcmdldEVsZW1lbnQgJiYgY3VycmVudEVsZW1lbnQgPT09IHRhcmdldEVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC52YWx1ZSA9IGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudDtcbiAgICAgICAgaWYgKCFlbGVtZW50LnZhbHVlKVxuICAgICAgICAgIHRhcmdldEVsZW1lbnQgPSB0cmlnZ2VyRWxlbWVudC52YWx1ZSA9IG51bGw7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgXCJwb2ludGVybG9ja2Vycm9yXCIsICgpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbnN0IGN1cnJlbnRFbGVtZW50ID0gKF9hID0gZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50KSAhPSBudWxsID8gX2EgOiBlbGVtZW50LnZhbHVlO1xuICAgICAgaWYgKHRhcmdldEVsZW1lbnQgJiYgY3VycmVudEVsZW1lbnQgPT09IHRhcmdldEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50ID8gXCJyZWxlYXNlXCIgOiBcImFjcXVpcmVcIjtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gJHthY3Rpb259IHBvaW50ZXIgbG9jay5gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBsb2NrKGUsIG9wdGlvbnMyKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQb2ludGVyIExvY2sgQVBJIGlzIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBicm93c2VyLlwiKTtcbiAgICB0cmlnZ2VyRWxlbWVudC52YWx1ZSA9IGUgaW5zdGFuY2VvZiBFdmVudCA/IGUuY3VycmVudFRhcmdldCA6IG51bGw7XG4gICAgdGFyZ2V0RWxlbWVudCA9IGUgaW5zdGFuY2VvZiBFdmVudCA/IChfYSA9IHVucmVmRWxlbWVudCh0YXJnZXQpKSAhPSBudWxsID8gX2EgOiB0cmlnZ2VyRWxlbWVudC52YWx1ZSA6IHVucmVmRWxlbWVudChlKTtcbiAgICBpZiAoIXRhcmdldEVsZW1lbnQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUYXJnZXQgZWxlbWVudCB1bmRlZmluZWQuXCIpO1xuICAgIHRhcmdldEVsZW1lbnQucmVxdWVzdFBvaW50ZXJMb2NrKG9wdGlvbnMyICE9IG51bGwgPyBvcHRpb25zMiA6IHBvaW50ZXJMb2NrT3B0aW9ucyk7XG4gICAgcmV0dXJuIGF3YWl0IHVudGlsKGVsZW1lbnQpLnRvQmUodGFyZ2V0RWxlbWVudCk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gdW5sb2NrKCkge1xuICAgIGlmICghZWxlbWVudC52YWx1ZSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKTtcbiAgICBhd2FpdCB1bnRpbChlbGVtZW50KS50b0JlTnVsbCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgZWxlbWVudCxcbiAgICB0cmlnZ2VyRWxlbWVudCxcbiAgICBsb2NrLFxuICAgIHVubG9ja1xuICB9O1xufVxuXG52YXIgU3dpcGVEaXJlY3Rpb247XG4oZnVuY3Rpb24oU3dpcGVEaXJlY3Rpb24yKSB7XG4gIFN3aXBlRGlyZWN0aW9uMltcIlVQXCJdID0gXCJVUFwiO1xuICBTd2lwZURpcmVjdGlvbjJbXCJSSUdIVFwiXSA9IFwiUklHSFRcIjtcbiAgU3dpcGVEaXJlY3Rpb24yW1wiRE9XTlwiXSA9IFwiRE9XTlwiO1xuICBTd2lwZURpcmVjdGlvbjJbXCJMRUZUXCJdID0gXCJMRUZUXCI7XG4gIFN3aXBlRGlyZWN0aW9uMltcIk5PTkVcIl0gPSBcIk5PTkVcIjtcbn0pKFN3aXBlRGlyZWN0aW9uIHx8IChTd2lwZURpcmVjdGlvbiA9IHt9KSk7XG5mdW5jdGlvbiB1c2VTd2lwZSh0YXJnZXQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgdGhyZXNob2xkID0gNTAsXG4gICAgb25Td2lwZSxcbiAgICBvblN3aXBlRW5kLFxuICAgIG9uU3dpcGVTdGFydCxcbiAgICBwYXNzaXZlID0gdHJ1ZSxcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBjb29yZHNTdGFydCA9IHJlYWN0aXZlKHsgeDogMCwgeTogMCB9KTtcbiAgY29uc3QgY29vcmRzRW5kID0gcmVhY3RpdmUoeyB4OiAwLCB5OiAwIH0pO1xuICBjb25zdCBkaWZmWCA9IGNvbXB1dGVkKCgpID0+IGNvb3Jkc1N0YXJ0LnggLSBjb29yZHNFbmQueCk7XG4gIGNvbnN0IGRpZmZZID0gY29tcHV0ZWQoKCkgPT4gY29vcmRzU3RhcnQueSAtIGNvb3Jkc0VuZC55KTtcbiAgY29uc3QgeyBtYXgsIGFicyB9ID0gTWF0aDtcbiAgY29uc3QgaXNUaHJlc2hvbGRFeGNlZWRlZCA9IGNvbXB1dGVkKCgpID0+IG1heChhYnMoZGlmZlgudmFsdWUpLCBhYnMoZGlmZlkudmFsdWUpKSA+PSB0aHJlc2hvbGQpO1xuICBjb25zdCBpc1N3aXBpbmcgPSByZWYoZmFsc2UpO1xuICBjb25zdCBkaXJlY3Rpb24gPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgaWYgKCFpc1RocmVzaG9sZEV4Y2VlZGVkLnZhbHVlKVxuICAgICAgcmV0dXJuIFN3aXBlRGlyZWN0aW9uLk5PTkU7XG4gICAgaWYgKGFicyhkaWZmWC52YWx1ZSkgPiBhYnMoZGlmZlkudmFsdWUpKSB7XG4gICAgICByZXR1cm4gZGlmZlgudmFsdWUgPiAwID8gU3dpcGVEaXJlY3Rpb24uTEVGVCA6IFN3aXBlRGlyZWN0aW9uLlJJR0hUO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGlmZlkudmFsdWUgPiAwID8gU3dpcGVEaXJlY3Rpb24uVVAgOiBTd2lwZURpcmVjdGlvbi5ET1dOO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGdldFRvdWNoRXZlbnRDb29yZHMgPSAoZSkgPT4gW2UudG91Y2hlc1swXS5jbGllbnRYLCBlLnRvdWNoZXNbMF0uY2xpZW50WV07XG4gIGNvbnN0IHVwZGF0ZUNvb3Jkc1N0YXJ0ID0gKHgsIHkpID0+IHtcbiAgICBjb29yZHNTdGFydC54ID0geDtcbiAgICBjb29yZHNTdGFydC55ID0geTtcbiAgfTtcbiAgY29uc3QgdXBkYXRlQ29vcmRzRW5kID0gKHgsIHkpID0+IHtcbiAgICBjb29yZHNFbmQueCA9IHg7XG4gICAgY29vcmRzRW5kLnkgPSB5O1xuICB9O1xuICBsZXQgbGlzdGVuZXJPcHRpb25zO1xuICBjb25zdCBpc1Bhc3NpdmVFdmVudFN1cHBvcnRlZCA9IGNoZWNrUGFzc2l2ZUV2ZW50U3VwcG9ydCh3aW5kb3cgPT0gbnVsbCA/IHZvaWQgMCA6IHdpbmRvdy5kb2N1bWVudCk7XG4gIGlmICghcGFzc2l2ZSlcbiAgICBsaXN0ZW5lck9wdGlvbnMgPSBpc1Bhc3NpdmVFdmVudFN1cHBvcnRlZCA/IHsgcGFzc2l2ZTogZmFsc2UsIGNhcHR1cmU6IHRydWUgfSA6IHsgY2FwdHVyZTogdHJ1ZSB9O1xuICBlbHNlXG4gICAgbGlzdGVuZXJPcHRpb25zID0gaXNQYXNzaXZlRXZlbnRTdXBwb3J0ZWQgPyB7IHBhc3NpdmU6IHRydWUgfSA6IHsgY2FwdHVyZTogZmFsc2UgfTtcbiAgY29uc3Qgb25Ub3VjaEVuZCA9IChlKSA9PiB7XG4gICAgaWYgKGlzU3dpcGluZy52YWx1ZSlcbiAgICAgIG9uU3dpcGVFbmQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uU3dpcGVFbmQoZSwgZGlyZWN0aW9uLnZhbHVlKTtcbiAgICBpc1N3aXBpbmcudmFsdWUgPSBmYWxzZTtcbiAgfTtcbiAgY29uc3Qgc3RvcHMgPSBbXG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwidG91Y2hzdGFydFwiLCAoZSkgPT4ge1xuICAgICAgaWYgKGxpc3RlbmVyT3B0aW9ucy5jYXB0dXJlICYmICFsaXN0ZW5lck9wdGlvbnMucGFzc2l2ZSlcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgW3gsIHldID0gZ2V0VG91Y2hFdmVudENvb3JkcyhlKTtcbiAgICAgIHVwZGF0ZUNvb3Jkc1N0YXJ0KHgsIHkpO1xuICAgICAgdXBkYXRlQ29vcmRzRW5kKHgsIHkpO1xuICAgICAgb25Td2lwZVN0YXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblN3aXBlU3RhcnQoZSk7XG4gICAgfSwgbGlzdGVuZXJPcHRpb25zKSxcbiAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJ0b3VjaG1vdmVcIiwgKGUpID0+IHtcbiAgICAgIGNvbnN0IFt4LCB5XSA9IGdldFRvdWNoRXZlbnRDb29yZHMoZSk7XG4gICAgICB1cGRhdGVDb29yZHNFbmQoeCwgeSk7XG4gICAgICBpZiAoIWlzU3dpcGluZy52YWx1ZSAmJiBpc1RocmVzaG9sZEV4Y2VlZGVkLnZhbHVlKVxuICAgICAgICBpc1N3aXBpbmcudmFsdWUgPSB0cnVlO1xuICAgICAgaWYgKGlzU3dpcGluZy52YWx1ZSlcbiAgICAgICAgb25Td2lwZSA9PSBudWxsID8gdm9pZCAwIDogb25Td2lwZShlKTtcbiAgICB9LCBsaXN0ZW5lck9wdGlvbnMpLFxuICAgIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcInRvdWNoZW5kXCIsIG9uVG91Y2hFbmQsIGxpc3RlbmVyT3B0aW9ucyksXG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwidG91Y2hjYW5jZWxcIiwgb25Ub3VjaEVuZCwgbGlzdGVuZXJPcHRpb25zKVxuICBdO1xuICBjb25zdCBzdG9wID0gKCkgPT4gc3RvcHMuZm9yRWFjaCgocykgPT4gcygpKTtcbiAgcmV0dXJuIHtcbiAgICBpc1Bhc3NpdmVFdmVudFN1cHBvcnRlZCxcbiAgICBpc1N3aXBpbmcsXG4gICAgZGlyZWN0aW9uLFxuICAgIGNvb3Jkc1N0YXJ0LFxuICAgIGNvb3Jkc0VuZCxcbiAgICBsZW5ndGhYOiBkaWZmWCxcbiAgICBsZW5ndGhZOiBkaWZmWSxcbiAgICBzdG9wXG4gIH07XG59XG5mdW5jdGlvbiBjaGVja1Bhc3NpdmVFdmVudFN1cHBvcnQoZG9jdW1lbnQpIHtcbiAgaWYgKCFkb2N1bWVudClcbiAgICByZXR1cm4gZmFsc2U7XG4gIGxldCBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcbiAgY29uc3Qgb3B0aW9uc0Jsb2NrID0ge1xuICAgIGdldCBwYXNzaXZlKCkge1xuICAgICAgc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ4XCIsIG5vb3AsIG9wdGlvbnNCbG9jayk7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ4XCIsIG5vb3ApO1xuICByZXR1cm4gc3VwcG9ydHNQYXNzaXZlO1xufVxuXG5mdW5jdGlvbiB1c2VQb2ludGVyU3dpcGUodGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgdGFyZ2V0UmVmID0gcmVzb2x2ZVJlZih0YXJnZXQpO1xuICBjb25zdCB7XG4gICAgdGhyZXNob2xkID0gNTAsXG4gICAgb25Td2lwZSxcbiAgICBvblN3aXBlRW5kLFxuICAgIG9uU3dpcGVTdGFydFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcG9zU3RhcnQgPSByZWFjdGl2ZSh7IHg6IDAsIHk6IDAgfSk7XG4gIGNvbnN0IHVwZGF0ZVBvc1N0YXJ0ID0gKHgsIHkpID0+IHtcbiAgICBwb3NTdGFydC54ID0geDtcbiAgICBwb3NTdGFydC55ID0geTtcbiAgfTtcbiAgY29uc3QgcG9zRW5kID0gcmVhY3RpdmUoeyB4OiAwLCB5OiAwIH0pO1xuICBjb25zdCB1cGRhdGVQb3NFbmQgPSAoeCwgeSkgPT4ge1xuICAgIHBvc0VuZC54ID0geDtcbiAgICBwb3NFbmQueSA9IHk7XG4gIH07XG4gIGNvbnN0IGRpc3RhbmNlWCA9IGNvbXB1dGVkKCgpID0+IHBvc1N0YXJ0LnggLSBwb3NFbmQueCk7XG4gIGNvbnN0IGRpc3RhbmNlWSA9IGNvbXB1dGVkKCgpID0+IHBvc1N0YXJ0LnkgLSBwb3NFbmQueSk7XG4gIGNvbnN0IHsgbWF4LCBhYnMgfSA9IE1hdGg7XG4gIGNvbnN0IGlzVGhyZXNob2xkRXhjZWVkZWQgPSBjb21wdXRlZCgoKSA9PiBtYXgoYWJzKGRpc3RhbmNlWC52YWx1ZSksIGFicyhkaXN0YW5jZVkudmFsdWUpKSA+PSB0aHJlc2hvbGQpO1xuICBjb25zdCBpc1N3aXBpbmcgPSByZWYoZmFsc2UpO1xuICBjb25zdCBpc1BvaW50ZXJEb3duID0gcmVmKGZhbHNlKTtcbiAgY29uc3QgZGlyZWN0aW9uID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmICghaXNUaHJlc2hvbGRFeGNlZWRlZC52YWx1ZSlcbiAgICAgIHJldHVybiBTd2lwZURpcmVjdGlvbi5OT05FO1xuICAgIGlmIChhYnMoZGlzdGFuY2VYLnZhbHVlKSA+IGFicyhkaXN0YW5jZVkudmFsdWUpKSB7XG4gICAgICByZXR1cm4gZGlzdGFuY2VYLnZhbHVlID4gMCA/IFN3aXBlRGlyZWN0aW9uLkxFRlQgOiBTd2lwZURpcmVjdGlvbi5SSUdIVDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRpc3RhbmNlWS52YWx1ZSA+IDAgPyBTd2lwZURpcmVjdGlvbi5VUCA6IFN3aXBlRGlyZWN0aW9uLkRPV047XG4gICAgfVxuICB9KTtcbiAgY29uc3QgZXZlbnRJc0FsbG93ZWQgPSAoZSkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IGlzUmVsZWFzaW5nQnV0dG9uID0gZS5idXR0b25zID09PSAwO1xuICAgIGNvbnN0IGlzUHJpbWFyeUJ1dHRvbiA9IGUuYnV0dG9ucyA9PT0gMTtcbiAgICByZXR1cm4gKF9jID0gKF9iID0gKF9hID0gb3B0aW9ucy5wb2ludGVyVHlwZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5pbmNsdWRlcyhlLnBvaW50ZXJUeXBlKSkgIT0gbnVsbCA/IF9iIDogaXNSZWxlYXNpbmdCdXR0b24gfHwgaXNQcmltYXJ5QnV0dG9uKSAhPSBudWxsID8gX2MgOiB0cnVlO1xuICB9O1xuICBjb25zdCBzdG9wcyA9IFtcbiAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJwb2ludGVyZG93blwiLCAoZSkgPT4ge1xuICAgICAgdmFyIF9hLCBfYjtcbiAgICAgIGlmICghZXZlbnRJc0FsbG93ZWQoZSkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlzUG9pbnRlckRvd24udmFsdWUgPSB0cnVlO1xuICAgICAgKF9iID0gKF9hID0gdGFyZ2V0UmVmLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2Euc3R5bGUpID09IG51bGwgPyB2b2lkIDAgOiBfYi5zZXRQcm9wZXJ0eShcInRvdWNoLWFjdGlvblwiLCBcIm5vbmVcIik7XG4gICAgICBjb25zdCBldmVudFRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgZXZlbnRUYXJnZXQgPT0gbnVsbCA/IHZvaWQgMCA6IGV2ZW50VGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTtcbiAgICAgIGNvbnN0IHsgY2xpZW50WDogeCwgY2xpZW50WTogeSB9ID0gZTtcbiAgICAgIHVwZGF0ZVBvc1N0YXJ0KHgsIHkpO1xuICAgICAgdXBkYXRlUG9zRW5kKHgsIHkpO1xuICAgICAgb25Td2lwZVN0YXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblN3aXBlU3RhcnQoZSk7XG4gICAgfSksXG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwicG9pbnRlcm1vdmVcIiwgKGUpID0+IHtcbiAgICAgIGlmICghZXZlbnRJc0FsbG93ZWQoZSkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlmICghaXNQb2ludGVyRG93bi52YWx1ZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgeyBjbGllbnRYOiB4LCBjbGllbnRZOiB5IH0gPSBlO1xuICAgICAgdXBkYXRlUG9zRW5kKHgsIHkpO1xuICAgICAgaWYgKCFpc1N3aXBpbmcudmFsdWUgJiYgaXNUaHJlc2hvbGRFeGNlZWRlZC52YWx1ZSlcbiAgICAgICAgaXNTd2lwaW5nLnZhbHVlID0gdHJ1ZTtcbiAgICAgIGlmIChpc1N3aXBpbmcudmFsdWUpXG4gICAgICAgIG9uU3dpcGUgPT0gbnVsbCA/IHZvaWQgMCA6IG9uU3dpcGUoZSk7XG4gICAgfSksXG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwicG9pbnRlcnVwXCIsIChlKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgaWYgKCFldmVudElzQWxsb3dlZChlKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKGlzU3dpcGluZy52YWx1ZSlcbiAgICAgICAgb25Td2lwZUVuZCA9PSBudWxsID8gdm9pZCAwIDogb25Td2lwZUVuZChlLCBkaXJlY3Rpb24udmFsdWUpO1xuICAgICAgaXNQb2ludGVyRG93bi52YWx1ZSA9IGZhbHNlO1xuICAgICAgaXNTd2lwaW5nLnZhbHVlID0gZmFsc2U7XG4gICAgICAoX2IgPSAoX2EgPSB0YXJnZXRSZWYudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zdHlsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnNldFByb3BlcnR5KFwidG91Y2gtYWN0aW9uXCIsIFwiaW5pdGlhbFwiKTtcbiAgICB9KVxuICBdO1xuICBjb25zdCBzdG9wID0gKCkgPT4gc3RvcHMuZm9yRWFjaCgocykgPT4gcygpKTtcbiAgcmV0dXJuIHtcbiAgICBpc1N3aXBpbmc6IHJlYWRvbmx5KGlzU3dpcGluZyksXG4gICAgZGlyZWN0aW9uOiByZWFkb25seShkaXJlY3Rpb24pLFxuICAgIHBvc1N0YXJ0OiByZWFkb25seShwb3NTdGFydCksXG4gICAgcG9zRW5kOiByZWFkb25seShwb3NFbmQpLFxuICAgIGRpc3RhbmNlWCxcbiAgICBkaXN0YW5jZVksXG4gICAgc3RvcFxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VQcmVmZXJyZWRDb2xvclNjaGVtZShvcHRpb25zKSB7XG4gIGNvbnN0IGlzTGlnaHQgPSB1c2VNZWRpYVF1ZXJ5KFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodClcIiwgb3B0aW9ucyk7XG4gIGNvbnN0IGlzRGFyayA9IHVzZU1lZGlhUXVlcnkoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIsIG9wdGlvbnMpO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmIChpc0RhcmsudmFsdWUpXG4gICAgICByZXR1cm4gXCJkYXJrXCI7XG4gICAgaWYgKGlzTGlnaHQudmFsdWUpXG4gICAgICByZXR1cm4gXCJsaWdodFwiO1xuICAgIHJldHVybiBcIm5vLXByZWZlcmVuY2VcIjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZVByZWZlcnJlZENvbnRyYXN0KG9wdGlvbnMpIHtcbiAgY29uc3QgaXNNb3JlID0gdXNlTWVkaWFRdWVyeShcIihwcmVmZXJzLWNvbnRyYXN0OiBtb3JlKVwiLCBvcHRpb25zKTtcbiAgY29uc3QgaXNMZXNzID0gdXNlTWVkaWFRdWVyeShcIihwcmVmZXJzLWNvbnRyYXN0OiBsZXNzKVwiLCBvcHRpb25zKTtcbiAgY29uc3QgaXNDdXN0b20gPSB1c2VNZWRpYVF1ZXJ5KFwiKHByZWZlcnMtY29udHJhc3Q6IGN1c3RvbSlcIiwgb3B0aW9ucyk7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB7XG4gICAgaWYgKGlzTW9yZS52YWx1ZSlcbiAgICAgIHJldHVybiBcIm1vcmVcIjtcbiAgICBpZiAoaXNMZXNzLnZhbHVlKVxuICAgICAgcmV0dXJuIFwibGVzc1wiO1xuICAgIGlmIChpc0N1c3RvbS52YWx1ZSlcbiAgICAgIHJldHVybiBcImN1c3RvbVwiO1xuICAgIHJldHVybiBcIm5vLXByZWZlcmVuY2VcIjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZVByZWZlcnJlZExhbmd1YWdlcyhvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93IH0gPSBvcHRpb25zO1xuICBpZiAoIXdpbmRvdylcbiAgICByZXR1cm4gcmVmKFtcImVuXCJdKTtcbiAgY29uc3QgbmF2aWdhdG9yID0gd2luZG93Lm5hdmlnYXRvcjtcbiAgY29uc3QgdmFsdWUgPSByZWYobmF2aWdhdG9yLmxhbmd1YWdlcyk7XG4gIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcImxhbmd1YWdlY2hhbmdlXCIsICgpID0+IHtcbiAgICB2YWx1ZS52YWx1ZSA9IG5hdmlnYXRvci5sYW5ndWFnZXM7XG4gIH0pO1xuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHVzZVByZWZlcnJlZFJlZHVjZWRNb3Rpb24ob3B0aW9ucykge1xuICBjb25zdCBpc1JlZHVjZWQgPSB1c2VNZWRpYVF1ZXJ5KFwiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSlcIiwgb3B0aW9ucyk7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB7XG4gICAgaWYgKGlzUmVkdWNlZC52YWx1ZSlcbiAgICAgIHJldHVybiBcInJlZHVjZVwiO1xuICAgIHJldHVybiBcIm5vLXByZWZlcmVuY2VcIjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZVByZXZpb3VzKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgY29uc3QgcHJldmlvdXMgPSBzaGFsbG93UmVmKGluaXRpYWxWYWx1ZSk7XG4gIHdhdGNoKHJlc29sdmVSZWYodmFsdWUpLCAoXywgb2xkVmFsdWUpID0+IHtcbiAgICBwcmV2aW91cy52YWx1ZSA9IG9sZFZhbHVlO1xuICB9LCB7IGZsdXNoOiBcInN5bmNcIiB9KTtcbiAgcmV0dXJuIHJlYWRvbmx5KHByZXZpb3VzKTtcbn1cblxuY29uc3QgdXNlU2NyZWVuT3JpZW50YXRpb24gPSAob3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHtcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB3aW5kb3cgJiYgXCJzY3JlZW5cIiBpbiB3aW5kb3cgJiYgXCJvcmllbnRhdGlvblwiIGluIHdpbmRvdy5zY3JlZW4pO1xuICBjb25zdCBzY3JlZW5PcmllbnRhdGlvbiA9IGlzU3VwcG9ydGVkLnZhbHVlID8gd2luZG93LnNjcmVlbi5vcmllbnRhdGlvbiA6IHt9O1xuICBjb25zdCBvcmllbnRhdGlvbiA9IHJlZihzY3JlZW5PcmllbnRhdGlvbi50eXBlKTtcbiAgY29uc3QgYW5nbGUgPSByZWYoc2NyZWVuT3JpZW50YXRpb24uYW5nbGUgfHwgMCk7XG4gIGlmIChpc1N1cHBvcnRlZC52YWx1ZSkge1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcIm9yaWVudGF0aW9uY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIG9yaWVudGF0aW9uLnZhbHVlID0gc2NyZWVuT3JpZW50YXRpb24udHlwZTtcbiAgICAgIGFuZ2xlLnZhbHVlID0gc2NyZWVuT3JpZW50YXRpb24uYW5nbGU7XG4gICAgfSk7XG4gIH1cbiAgY29uc3QgbG9ja09yaWVudGF0aW9uID0gKHR5cGUpID0+IHtcbiAgICBpZiAoIWlzU3VwcG9ydGVkLnZhbHVlKVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWRcIikpO1xuICAgIHJldHVybiBzY3JlZW5PcmllbnRhdGlvbi5sb2NrKHR5cGUpO1xuICB9O1xuICBjb25zdCB1bmxvY2tPcmllbnRhdGlvbiA9ICgpID0+IHtcbiAgICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICBzY3JlZW5PcmllbnRhdGlvbi51bmxvY2soKTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBvcmllbnRhdGlvbixcbiAgICBhbmdsZSxcbiAgICBsb2NrT3JpZW50YXRpb24sXG4gICAgdW5sb2NrT3JpZW50YXRpb25cbiAgfTtcbn07XG5cbmNvbnN0IHRvcFZhck5hbWUgPSBcIi0tdnVldXNlLXNhZmUtYXJlYS10b3BcIjtcbmNvbnN0IHJpZ2h0VmFyTmFtZSA9IFwiLS12dWV1c2Utc2FmZS1hcmVhLXJpZ2h0XCI7XG5jb25zdCBib3R0b21WYXJOYW1lID0gXCItLXZ1ZXVzZS1zYWZlLWFyZWEtYm90dG9tXCI7XG5jb25zdCBsZWZ0VmFyTmFtZSA9IFwiLS12dWV1c2Utc2FmZS1hcmVhLWxlZnRcIjtcbmZ1bmN0aW9uIHVzZVNjcmVlblNhZmVBcmVhKCkge1xuICBjb25zdCB0b3AgPSByZWYoXCJcIik7XG4gIGNvbnN0IHJpZ2h0ID0gcmVmKFwiXCIpO1xuICBjb25zdCBib3R0b20gPSByZWYoXCJcIik7XG4gIGNvbnN0IGxlZnQgPSByZWYoXCJcIik7XG4gIGlmIChpc0NsaWVudCkge1xuICAgIGNvbnN0IHRvcENzc1ZhciA9IHVzZUNzc1Zhcih0b3BWYXJOYW1lKTtcbiAgICBjb25zdCByaWdodENzc1ZhciA9IHVzZUNzc1ZhcihyaWdodFZhck5hbWUpO1xuICAgIGNvbnN0IGJvdHRvbUNzc1ZhciA9IHVzZUNzc1Zhcihib3R0b21WYXJOYW1lKTtcbiAgICBjb25zdCBsZWZ0Q3NzVmFyID0gdXNlQ3NzVmFyKGxlZnRWYXJOYW1lKTtcbiAgICB0b3BDc3NWYXIudmFsdWUgPSBcImVudihzYWZlLWFyZWEtaW5zZXQtdG9wLCAwcHgpXCI7XG4gICAgcmlnaHRDc3NWYXIudmFsdWUgPSBcImVudihzYWZlLWFyZWEtaW5zZXQtcmlnaHQsIDBweClcIjtcbiAgICBib3R0b21Dc3NWYXIudmFsdWUgPSBcImVudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tLCAwcHgpXCI7XG4gICAgbGVmdENzc1Zhci52YWx1ZSA9IFwiZW52KHNhZmUtYXJlYS1pbnNldC1sZWZ0LCAwcHgpXCI7XG4gICAgdXBkYXRlKCk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1c2VEZWJvdW5jZUZuKHVwZGF0ZSkpO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICB0b3AudmFsdWUgPSBnZXRWYWx1ZSh0b3BWYXJOYW1lKTtcbiAgICByaWdodC52YWx1ZSA9IGdldFZhbHVlKHJpZ2h0VmFyTmFtZSk7XG4gICAgYm90dG9tLnZhbHVlID0gZ2V0VmFsdWUoYm90dG9tVmFyTmFtZSk7XG4gICAgbGVmdC52YWx1ZSA9IGdldFZhbHVlKGxlZnRWYXJOYW1lKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHRvcCxcbiAgICByaWdodCxcbiAgICBib3R0b20sXG4gICAgbGVmdCxcbiAgICB1cGRhdGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFZhbHVlKHBvc2l0aW9uKSB7XG4gIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShwb3NpdGlvbik7XG59XG5cbmZ1bmN0aW9uIHVzZVNjcmlwdFRhZyhzcmMsIG9uTG9hZGVkID0gbm9vcCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIG1hbnVhbCA9IGZhbHNlLFxuICAgIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiLFxuICAgIGFzeW5jID0gdHJ1ZSxcbiAgICBjcm9zc09yaWdpbixcbiAgICByZWZlcnJlclBvbGljeSxcbiAgICBub01vZHVsZSxcbiAgICBkZWZlcixcbiAgICBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudCxcbiAgICBhdHRycyA9IHt9XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBzY3JpcHRUYWcgPSByZWYobnVsbCk7XG4gIGxldCBfcHJvbWlzZSA9IG51bGw7XG4gIGNvbnN0IGxvYWRTY3JpcHQgPSAod2FpdEZvclNjcmlwdExvYWQpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZXNvbHZlV2l0aEVsZW1lbnQgPSAoZWwyKSA9PiB7XG4gICAgICBzY3JpcHRUYWcudmFsdWUgPSBlbDI7XG4gICAgICByZXNvbHZlKGVsMik7XG4gICAgICByZXR1cm4gZWwyO1xuICAgIH07XG4gICAgaWYgKCFkb2N1bWVudCkge1xuICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBzaG91bGRBcHBlbmQgPSBmYWxzZTtcbiAgICBsZXQgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbc3JjPVwiJHtyZXNvbHZlVW5yZWYoc3JjKX1cIl1gKTtcbiAgICBpZiAoIWVsKSB7XG4gICAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICBlbC50eXBlID0gdHlwZTtcbiAgICAgIGVsLmFzeW5jID0gYXN5bmM7XG4gICAgICBlbC5zcmMgPSByZXNvbHZlVW5yZWYoc3JjKTtcbiAgICAgIGlmIChkZWZlcilcbiAgICAgICAgZWwuZGVmZXIgPSBkZWZlcjtcbiAgICAgIGlmIChjcm9zc09yaWdpbilcbiAgICAgICAgZWwuY3Jvc3NPcmlnaW4gPSBjcm9zc09yaWdpbjtcbiAgICAgIGlmIChub01vZHVsZSlcbiAgICAgICAgZWwubm9Nb2R1bGUgPSBub01vZHVsZTtcbiAgICAgIGlmIChyZWZlcnJlclBvbGljeSlcbiAgICAgICAgZWwucmVmZXJyZXJQb2xpY3kgPSByZWZlcnJlclBvbGljeTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGF0dHJzKS5mb3JFYWNoKChbbmFtZSwgdmFsdWVdKSA9PiBlbCA9PSBudWxsID8gdm9pZCAwIDogZWwuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKSk7XG4gICAgICBzaG91bGRBcHBlbmQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZWwuaGFzQXR0cmlidXRlKFwiZGF0YS1sb2FkZWRcIikpIHtcbiAgICAgIHJlc29sdmVXaXRoRWxlbWVudChlbCk7XG4gICAgfVxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZXZlbnQpID0+IHJlamVjdChldmVudCkpO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCAoZXZlbnQpID0+IHJlamVjdChldmVudCkpO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShcImRhdGEtbG9hZGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgIG9uTG9hZGVkKGVsKTtcbiAgICAgIHJlc29sdmVXaXRoRWxlbWVudChlbCk7XG4gICAgfSk7XG4gICAgaWYgKHNob3VsZEFwcGVuZClcbiAgICAgIGVsID0gZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlbCk7XG4gICAgaWYgKCF3YWl0Rm9yU2NyaXB0TG9hZClcbiAgICAgIHJlc29sdmVXaXRoRWxlbWVudChlbCk7XG4gIH0pO1xuICBjb25zdCBsb2FkID0gKHdhaXRGb3JTY3JpcHRMb2FkID0gdHJ1ZSkgPT4ge1xuICAgIGlmICghX3Byb21pc2UpXG4gICAgICBfcHJvbWlzZSA9IGxvYWRTY3JpcHQod2FpdEZvclNjcmlwdExvYWQpO1xuICAgIHJldHVybiBfcHJvbWlzZTtcbiAgfTtcbiAgY29uc3QgdW5sb2FkID0gKCkgPT4ge1xuICAgIGlmICghZG9jdW1lbnQpXG4gICAgICByZXR1cm47XG4gICAgX3Byb21pc2UgPSBudWxsO1xuICAgIGlmIChzY3JpcHRUYWcudmFsdWUpXG4gICAgICBzY3JpcHRUYWcudmFsdWUgPSBudWxsO1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3NyYz1cIiR7cmVzb2x2ZVVucmVmKHNyYyl9XCJdYCk7XG4gICAgaWYgKGVsKVxuICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChlbCk7XG4gIH07XG4gIGlmIChpbW1lZGlhdGUgJiYgIW1hbnVhbClcbiAgICB0cnlPbk1vdW50ZWQobG9hZCk7XG4gIGlmICghbWFudWFsKVxuICAgIHRyeU9uVW5tb3VudGVkKHVubG9hZCk7XG4gIHJldHVybiB7IHNjcmlwdFRhZywgbG9hZCwgdW5sb2FkIH07XG59XG5cbmZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3dTY3JvbGwoZWxlKSB7XG4gIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlKTtcbiAgaWYgKHN0eWxlLm92ZXJmbG93WCA9PT0gXCJzY3JvbGxcIiB8fCBzdHlsZS5vdmVyZmxvd1kgPT09IFwic2Nyb2xsXCIgfHwgc3R5bGUub3ZlcmZsb3dYID09PSBcImF1dG9cIiAmJiBlbGUuY2xpZW50SGVpZ2h0IDwgZWxlLnNjcm9sbEhlaWdodCB8fCBzdHlsZS5vdmVyZmxvd1kgPT09IFwiYXV0b1wiICYmIGVsZS5jbGllbnRXaWR0aCA8IGVsZS5zY3JvbGxXaWR0aCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsZS5wYXJlbnROb2RlO1xuICAgIGlmICghcGFyZW50IHx8IHBhcmVudC50YWdOYW1lID09PSBcIkJPRFlcIilcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gY2hlY2tPdmVyZmxvd1Njcm9sbChwYXJlbnQpO1xuICB9XG59XG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChyYXdFdmVudCkge1xuICBjb25zdCBlID0gcmF3RXZlbnQgfHwgd2luZG93LmV2ZW50O1xuICBjb25zdCBfdGFyZ2V0ID0gZS50YXJnZXQ7XG4gIGlmIChjaGVja092ZXJmbG93U2Nyb2xsKF90YXJnZXQpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKGUudG91Y2hlcy5sZW5ndGggPiAxKVxuICAgIHJldHVybiB0cnVlO1xuICBpZiAoZS5wcmV2ZW50RGVmYXVsdClcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHVzZVNjcm9sbExvY2soZWxlbWVudCwgaW5pdGlhbFN0YXRlID0gZmFsc2UpIHtcbiAgY29uc3QgaXNMb2NrZWQgPSByZWYoaW5pdGlhbFN0YXRlKTtcbiAgbGV0IHN0b3BUb3VjaE1vdmVMaXN0ZW5lciA9IG51bGw7XG4gIGxldCBpbml0aWFsT3ZlcmZsb3c7XG4gIHdhdGNoKHJlc29sdmVSZWYoZWxlbWVudCksIChlbCkgPT4ge1xuICAgIGlmIChlbCkge1xuICAgICAgY29uc3QgZWxlID0gZWw7XG4gICAgICBpbml0aWFsT3ZlcmZsb3cgPSBlbGUuc3R5bGUub3ZlcmZsb3c7XG4gICAgICBpZiAoaXNMb2NrZWQudmFsdWUpXG4gICAgICAgIGVsZS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgfVxuICB9LCB7XG4gICAgaW1tZWRpYXRlOiB0cnVlXG4gIH0pO1xuICBjb25zdCBsb2NrID0gKCkgPT4ge1xuICAgIGNvbnN0IGVsZSA9IHJlc29sdmVVbnJlZihlbGVtZW50KTtcbiAgICBpZiAoIWVsZSB8fCBpc0xvY2tlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoaXNJT1MpIHtcbiAgICAgIHN0b3BUb3VjaE1vdmVMaXN0ZW5lciA9IHVzZUV2ZW50TGlzdGVuZXIoZWxlLCBcInRvdWNobW92ZVwiLCAoZSkgPT4ge1xuICAgICAgICBwcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIH0sIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgfVxuICAgIGVsZS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgaXNMb2NrZWQudmFsdWUgPSB0cnVlO1xuICB9O1xuICBjb25zdCB1bmxvY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgZWxlID0gcmVzb2x2ZVVucmVmKGVsZW1lbnQpO1xuICAgIGlmICghZWxlIHx8ICFpc0xvY2tlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpc0lPUyAmJiAoc3RvcFRvdWNoTW92ZUxpc3RlbmVyID09IG51bGwgPyB2b2lkIDAgOiBzdG9wVG91Y2hNb3ZlTGlzdGVuZXIoKSk7XG4gICAgZWxlLnN0eWxlLm92ZXJmbG93ID0gaW5pdGlhbE92ZXJmbG93O1xuICAgIGlzTG9ja2VkLnZhbHVlID0gZmFsc2U7XG4gIH07XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHVubG9jayk7XG4gIHJldHVybiBjb21wdXRlZCh7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIGlzTG9ja2VkLnZhbHVlO1xuICAgIH0sXG4gICAgc2V0KHYpIHtcbiAgICAgIGlmICh2KVxuICAgICAgICBsb2NrKCk7XG4gICAgICBlbHNlXG4gICAgICAgIHVubG9jaygpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZVNlc3Npb25TdG9yYWdlKGtleSwgaW5pdGlhbFZhbHVlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93IH0gPSBvcHRpb25zO1xuICByZXR1cm4gdXNlU3RvcmFnZShrZXksIGluaXRpYWxWYWx1ZSwgd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UsIG9wdGlvbnMpO1xufVxuXG52YXIgX19kZWZQcm9wJDUgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQ1ID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkNSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCQ1ID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQ1KG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyQ1ID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkNS5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJDUoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJDUpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDUoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kNS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkNShhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbmZ1bmN0aW9uIHVzZVNoYXJlKHNoYXJlT3B0aW9ucyA9IHt9LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyBuYXZpZ2F0b3IgPSBkZWZhdWx0TmF2aWdhdG9yIH0gPSBvcHRpb25zO1xuICBjb25zdCBfbmF2aWdhdG9yID0gbmF2aWdhdG9yO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiBfbmF2aWdhdG9yICYmIFwiY2FuU2hhcmVcIiBpbiBfbmF2aWdhdG9yKTtcbiAgY29uc3Qgc2hhcmUgPSBhc3luYyAob3ZlcnJpZGVPcHRpb25zID0ge30pID0+IHtcbiAgICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBfX3NwcmVhZFZhbHVlcyQ1KF9fc3ByZWFkVmFsdWVzJDUoe30sIHJlc29sdmVVbnJlZihzaGFyZU9wdGlvbnMpKSwgcmVzb2x2ZVVucmVmKG92ZXJyaWRlT3B0aW9ucykpO1xuICAgICAgbGV0IGdyYW50ZWQgPSB0cnVlO1xuICAgICAgaWYgKGRhdGEuZmlsZXMgJiYgX25hdmlnYXRvci5jYW5TaGFyZSlcbiAgICAgICAgZ3JhbnRlZCA9IF9uYXZpZ2F0b3IuY2FuU2hhcmUoeyBmaWxlczogZGF0YS5maWxlcyB9KTtcbiAgICAgIGlmIChncmFudGVkKVxuICAgICAgICByZXR1cm4gX25hdmlnYXRvci5zaGFyZShkYXRhKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgc2hhcmVcbiAgfTtcbn1cblxuY29uc3QgZGVmYXVsdFNvcnRGbiA9IChzb3VyY2UsIGNvbXBhcmVGbikgPT4gc291cmNlLnNvcnQoY29tcGFyZUZuKTtcbmNvbnN0IGRlZmF1bHRDb21wYXJlID0gKGEsIGIpID0+IGEgLSBiO1xuZnVuY3Rpb24gdXNlU29ydGVkKC4uLmFyZ3MpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICBjb25zdCBbc291cmNlXSA9IGFyZ3M7XG4gIGxldCBjb21wYXJlRm4gPSBkZWZhdWx0Q29tcGFyZTtcbiAgbGV0IG9wdGlvbnMgPSB7fTtcbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBvcHRpb25zID0gYXJnc1sxXTtcbiAgICAgIGNvbXBhcmVGbiA9IChfYSA9IG9wdGlvbnMuY29tcGFyZUZuKSAhPSBudWxsID8gX2EgOiBkZWZhdWx0Q29tcGFyZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tcGFyZUZuID0gKF9iID0gYXJnc1sxXSkgIT0gbnVsbCA/IF9iIDogZGVmYXVsdENvbXBhcmU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID4gMikge1xuICAgIGNvbXBhcmVGbiA9IChfYyA9IGFyZ3NbMV0pICE9IG51bGwgPyBfYyA6IGRlZmF1bHRDb21wYXJlO1xuICAgIG9wdGlvbnMgPSAoX2QgPSBhcmdzWzJdKSAhPSBudWxsID8gX2QgOiB7fTtcbiAgfVxuICBjb25zdCB7XG4gICAgZGlydHkgPSBmYWxzZSxcbiAgICBzb3J0Rm4gPSBkZWZhdWx0U29ydEZuXG4gIH0gPSBvcHRpb25zO1xuICBpZiAoIWRpcnR5KVxuICAgIHJldHVybiBjb21wdXRlZCgoKSA9PiBzb3J0Rm4oWy4uLnVucmVmKHNvdXJjZSldLCBjb21wYXJlRm4pKTtcbiAgd2F0Y2hFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHNvcnRGbih1bnJlZihzb3VyY2UpLCBjb21wYXJlRm4pO1xuICAgIGlmIChpc1JlZihzb3VyY2UpKVxuICAgICAgc291cmNlLnZhbHVlID0gcmVzdWx0O1xuICAgIGVsc2VcbiAgICAgIHNvdXJjZS5zcGxpY2UoMCwgc291cmNlLmxlbmd0aCwgLi4ucmVzdWx0KTtcbiAgfSk7XG4gIHJldHVybiBzb3VyY2U7XG59XG5cbmZ1bmN0aW9uIHVzZVNwZWVjaFJlY29nbml0aW9uKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgaW50ZXJpbVJlc3VsdHMgPSB0cnVlLFxuICAgIGNvbnRpbnVvdXMgPSB0cnVlLFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3dcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGxhbmcgPSByZXNvbHZlUmVmKG9wdGlvbnMubGFuZyB8fCBcImVuLVVTXCIpO1xuICBjb25zdCBpc0xpc3RlbmluZyA9IHJlZihmYWxzZSk7XG4gIGNvbnN0IGlzRmluYWwgPSByZWYoZmFsc2UpO1xuICBjb25zdCByZXN1bHQgPSByZWYoXCJcIik7XG4gIGNvbnN0IGVycm9yID0gc2hhbGxvd1JlZih2b2lkIDApO1xuICBjb25zdCB0b2dnbGUgPSAodmFsdWUgPSAhaXNMaXN0ZW5pbmcudmFsdWUpID0+IHtcbiAgICBpc0xpc3RlbmluZy52YWx1ZSA9IHZhbHVlO1xuICB9O1xuICBjb25zdCBzdGFydCA9ICgpID0+IHtcbiAgICBpc0xpc3RlbmluZy52YWx1ZSA9IHRydWU7XG4gIH07XG4gIGNvbnN0IHN0b3AgPSAoKSA9PiB7XG4gICAgaXNMaXN0ZW5pbmcudmFsdWUgPSBmYWxzZTtcbiAgfTtcbiAgY29uc3QgU3BlZWNoUmVjb2duaXRpb24gPSB3aW5kb3cgJiYgKHdpbmRvdy5TcGVlY2hSZWNvZ25pdGlvbiB8fCB3aW5kb3cud2Via2l0U3BlZWNoUmVjb2duaXRpb24pO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiBTcGVlY2hSZWNvZ25pdGlvbik7XG4gIGxldCByZWNvZ25pdGlvbjtcbiAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgcmVjb2duaXRpb24gPSBuZXcgU3BlZWNoUmVjb2duaXRpb24oKTtcbiAgICByZWNvZ25pdGlvbi5jb250aW51b3VzID0gY29udGludW91cztcbiAgICByZWNvZ25pdGlvbi5pbnRlcmltUmVzdWx0cyA9IGludGVyaW1SZXN1bHRzO1xuICAgIHJlY29nbml0aW9uLmxhbmcgPSB1bnJlZihsYW5nKTtcbiAgICByZWNvZ25pdGlvbi5vbnN0YXJ0ID0gKCkgPT4ge1xuICAgICAgaXNGaW5hbC52YWx1ZSA9IGZhbHNlO1xuICAgIH07XG4gICAgd2F0Y2gobGFuZywgKGxhbmcyKSA9PiB7XG4gICAgICBpZiAocmVjb2duaXRpb24gJiYgIWlzTGlzdGVuaW5nLnZhbHVlKVxuICAgICAgICByZWNvZ25pdGlvbi5sYW5nID0gbGFuZzI7XG4gICAgfSk7XG4gICAgcmVjb2duaXRpb24ub25yZXN1bHQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRyYW5zY3JpcHQgPSBBcnJheS5mcm9tKGV2ZW50LnJlc3VsdHMpLm1hcCgocmVzdWx0MikgPT4ge1xuICAgICAgICBpc0ZpbmFsLnZhbHVlID0gcmVzdWx0Mi5pc0ZpbmFsO1xuICAgICAgICByZXR1cm4gcmVzdWx0MlswXTtcbiAgICAgIH0pLm1hcCgocmVzdWx0MikgPT4gcmVzdWx0Mi50cmFuc2NyaXB0KS5qb2luKFwiXCIpO1xuICAgICAgcmVzdWx0LnZhbHVlID0gdHJhbnNjcmlwdDtcbiAgICAgIGVycm9yLnZhbHVlID0gdm9pZCAwO1xuICAgIH07XG4gICAgcmVjb2duaXRpb24ub25lcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgZXJyb3IudmFsdWUgPSBldmVudDtcbiAgICB9O1xuICAgIHJlY29nbml0aW9uLm9uZW5kID0gKCkgPT4ge1xuICAgICAgaXNMaXN0ZW5pbmcudmFsdWUgPSBmYWxzZTtcbiAgICAgIHJlY29nbml0aW9uLmxhbmcgPSB1bnJlZihsYW5nKTtcbiAgICB9O1xuICAgIHdhdGNoKGlzTGlzdGVuaW5nLCAoKSA9PiB7XG4gICAgICBpZiAoaXNMaXN0ZW5pbmcudmFsdWUpXG4gICAgICAgIHJlY29nbml0aW9uLnN0YXJ0KCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJlY29nbml0aW9uLnN0b3AoKTtcbiAgICB9KTtcbiAgfVxuICB0cnlPblNjb3BlRGlzcG9zZSgoKSA9PiB7XG4gICAgaXNMaXN0ZW5pbmcudmFsdWUgPSBmYWxzZTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgaXNMaXN0ZW5pbmcsXG4gICAgaXNGaW5hbCxcbiAgICByZWNvZ25pdGlvbixcbiAgICByZXN1bHQsXG4gICAgZXJyb3IsXG4gICAgdG9nZ2xlLFxuICAgIHN0YXJ0LFxuICAgIHN0b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlU3BlZWNoU3ludGhlc2lzKHRleHQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgcGl0Y2ggPSAxLFxuICAgIHJhdGUgPSAxLFxuICAgIHZvbHVtZSA9IDEsXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgc3ludGggPSB3aW5kb3cgJiYgd2luZG93LnNwZWVjaFN5bnRoZXNpcztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gc3ludGgpO1xuICBjb25zdCBpc1BsYXlpbmcgPSByZWYoZmFsc2UpO1xuICBjb25zdCBzdGF0dXMgPSByZWYoXCJpbml0XCIpO1xuICBjb25zdCBzcG9rZW5UZXh0ID0gcmVzb2x2ZVJlZih0ZXh0IHx8IFwiXCIpO1xuICBjb25zdCBsYW5nID0gcmVzb2x2ZVJlZihvcHRpb25zLmxhbmcgfHwgXCJlbi1VU1wiKTtcbiAgY29uc3QgZXJyb3IgPSBzaGFsbG93UmVmKHZvaWQgMCk7XG4gIGNvbnN0IHRvZ2dsZSA9ICh2YWx1ZSA9ICFpc1BsYXlpbmcudmFsdWUpID0+IHtcbiAgICBpc1BsYXlpbmcudmFsdWUgPSB2YWx1ZTtcbiAgfTtcbiAgY29uc3QgYmluZEV2ZW50c0ZvclV0dGVyYW5jZSA9ICh1dHRlcmFuY2UyKSA9PiB7XG4gICAgdXR0ZXJhbmNlMi5sYW5nID0gdW5yZWYobGFuZyk7XG4gICAgdXR0ZXJhbmNlMi52b2ljZSA9IHVucmVmKG9wdGlvbnMudm9pY2UpIHx8IG51bGw7XG4gICAgdXR0ZXJhbmNlMi5waXRjaCA9IHBpdGNoO1xuICAgIHV0dGVyYW5jZTIucmF0ZSA9IHJhdGU7XG4gICAgdXR0ZXJhbmNlMi52b2x1bWUgPSB2b2x1bWU7XG4gICAgdXR0ZXJhbmNlMi5vbnN0YXJ0ID0gKCkgPT4ge1xuICAgICAgaXNQbGF5aW5nLnZhbHVlID0gdHJ1ZTtcbiAgICAgIHN0YXR1cy52YWx1ZSA9IFwicGxheVwiO1xuICAgIH07XG4gICAgdXR0ZXJhbmNlMi5vbnBhdXNlID0gKCkgPT4ge1xuICAgICAgaXNQbGF5aW5nLnZhbHVlID0gZmFsc2U7XG4gICAgICBzdGF0dXMudmFsdWUgPSBcInBhdXNlXCI7XG4gICAgfTtcbiAgICB1dHRlcmFuY2UyLm9ucmVzdW1lID0gKCkgPT4ge1xuICAgICAgaXNQbGF5aW5nLnZhbHVlID0gdHJ1ZTtcbiAgICAgIHN0YXR1cy52YWx1ZSA9IFwicGxheVwiO1xuICAgIH07XG4gICAgdXR0ZXJhbmNlMi5vbmVuZCA9ICgpID0+IHtcbiAgICAgIGlzUGxheWluZy52YWx1ZSA9IGZhbHNlO1xuICAgICAgc3RhdHVzLnZhbHVlID0gXCJlbmRcIjtcbiAgICB9O1xuICAgIHV0dGVyYW5jZTIub25lcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgZXJyb3IudmFsdWUgPSBldmVudDtcbiAgICB9O1xuICB9O1xuICBjb25zdCB1dHRlcmFuY2UgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgaXNQbGF5aW5nLnZhbHVlID0gZmFsc2U7XG4gICAgc3RhdHVzLnZhbHVlID0gXCJpbml0XCI7XG4gICAgY29uc3QgbmV3VXR0ZXJhbmNlID0gbmV3IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZShzcG9rZW5UZXh0LnZhbHVlKTtcbiAgICBiaW5kRXZlbnRzRm9yVXR0ZXJhbmNlKG5ld1V0dGVyYW5jZSk7XG4gICAgcmV0dXJuIG5ld1V0dGVyYW5jZTtcbiAgfSk7XG4gIGNvbnN0IHNwZWFrID0gKCkgPT4ge1xuICAgIHN5bnRoLmNhbmNlbCgpO1xuICAgIHV0dGVyYW5jZSAmJiBzeW50aC5zcGVhayh1dHRlcmFuY2UudmFsdWUpO1xuICB9O1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIHN5bnRoLmNhbmNlbCgpO1xuICAgIGlzUGxheWluZy52YWx1ZSA9IGZhbHNlO1xuICB9O1xuICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpIHtcbiAgICBiaW5kRXZlbnRzRm9yVXR0ZXJhbmNlKHV0dGVyYW5jZS52YWx1ZSk7XG4gICAgd2F0Y2gobGFuZywgKGxhbmcyKSA9PiB7XG4gICAgICBpZiAodXR0ZXJhbmNlLnZhbHVlICYmICFpc1BsYXlpbmcudmFsdWUpXG4gICAgICAgIHV0dGVyYW5jZS52YWx1ZS5sYW5nID0gbGFuZzI7XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMudm9pY2UpIHtcbiAgICAgIHdhdGNoKG9wdGlvbnMudm9pY2UsICgpID0+IHtcbiAgICAgICAgc3ludGguY2FuY2VsKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgd2F0Y2goaXNQbGF5aW5nLCAoKSA9PiB7XG4gICAgICBpZiAoaXNQbGF5aW5nLnZhbHVlKVxuICAgICAgICBzeW50aC5yZXN1bWUoKTtcbiAgICAgIGVsc2VcbiAgICAgICAgc3ludGgucGF1c2UoKTtcbiAgICB9KTtcbiAgfVxuICB0cnlPblNjb3BlRGlzcG9zZSgoKSA9PiB7XG4gICAgaXNQbGF5aW5nLnZhbHVlID0gZmFsc2U7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGlzUGxheWluZyxcbiAgICBzdGF0dXMsXG4gICAgdXR0ZXJhbmNlLFxuICAgIGVycm9yLFxuICAgIHN0b3AsXG4gICAgdG9nZ2xlLFxuICAgIHNwZWFrXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVN0ZXBwZXIoc3RlcHMsIGluaXRpYWxTdGVwKSB7XG4gIGNvbnN0IHN0ZXBzUmVmID0gcmVmKHN0ZXBzKTtcbiAgY29uc3Qgc3RlcE5hbWVzID0gY29tcHV0ZWQoKCkgPT4gQXJyYXkuaXNBcnJheShzdGVwc1JlZi52YWx1ZSkgPyBzdGVwc1JlZi52YWx1ZSA6IE9iamVjdC5rZXlzKHN0ZXBzUmVmLnZhbHVlKSk7XG4gIGNvbnN0IGluZGV4ID0gcmVmKHN0ZXBOYW1lcy52YWx1ZS5pbmRleE9mKGluaXRpYWxTdGVwICE9IG51bGwgPyBpbml0aWFsU3RlcCA6IHN0ZXBOYW1lcy52YWx1ZVswXSkpO1xuICBjb25zdCBjdXJyZW50ID0gY29tcHV0ZWQoKCkgPT4gYXQoaW5kZXgudmFsdWUpKTtcbiAgY29uc3QgaXNGaXJzdCA9IGNvbXB1dGVkKCgpID0+IGluZGV4LnZhbHVlID09PSAwKTtcbiAgY29uc3QgaXNMYXN0ID0gY29tcHV0ZWQoKCkgPT4gaW5kZXgudmFsdWUgPT09IHN0ZXBOYW1lcy52YWx1ZS5sZW5ndGggLSAxKTtcbiAgY29uc3QgbmV4dCA9IGNvbXB1dGVkKCgpID0+IHN0ZXBOYW1lcy52YWx1ZVtpbmRleC52YWx1ZSArIDFdKTtcbiAgY29uc3QgcHJldmlvdXMgPSBjb21wdXRlZCgoKSA9PiBzdGVwTmFtZXMudmFsdWVbaW5kZXgudmFsdWUgLSAxXSk7XG4gIGZ1bmN0aW9uIGF0KGluZGV4Mikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHN0ZXBzUmVmLnZhbHVlKSlcbiAgICAgIHJldHVybiBzdGVwc1JlZi52YWx1ZVtpbmRleDJdO1xuICAgIHJldHVybiBzdGVwc1JlZi52YWx1ZVtzdGVwTmFtZXMudmFsdWVbaW5kZXgyXV07XG4gIH1cbiAgZnVuY3Rpb24gZ2V0KHN0ZXApIHtcbiAgICBpZiAoIXN0ZXBOYW1lcy52YWx1ZS5pbmNsdWRlcyhzdGVwKSlcbiAgICAgIHJldHVybjtcbiAgICByZXR1cm4gYXQoc3RlcE5hbWVzLnZhbHVlLmluZGV4T2Yoc3RlcCkpO1xuICB9XG4gIGZ1bmN0aW9uIGdvVG8oc3RlcCkge1xuICAgIGlmIChzdGVwTmFtZXMudmFsdWUuaW5jbHVkZXMoc3RlcCkpXG4gICAgICBpbmRleC52YWx1ZSA9IHN0ZXBOYW1lcy52YWx1ZS5pbmRleE9mKHN0ZXApO1xuICB9XG4gIGZ1bmN0aW9uIGdvVG9OZXh0KCkge1xuICAgIGlmIChpc0xhc3QudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaW5kZXgudmFsdWUrKztcbiAgfVxuICBmdW5jdGlvbiBnb1RvUHJldmlvdXMoKSB7XG4gICAgaWYgKGlzRmlyc3QudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaW5kZXgudmFsdWUtLTtcbiAgfVxuICBmdW5jdGlvbiBnb0JhY2tUbyhzdGVwKSB7XG4gICAgaWYgKGlzQWZ0ZXIoc3RlcCkpXG4gICAgICBnb1RvKHN0ZXApO1xuICB9XG4gIGZ1bmN0aW9uIGlzTmV4dChzdGVwKSB7XG4gICAgcmV0dXJuIHN0ZXBOYW1lcy52YWx1ZS5pbmRleE9mKHN0ZXApID09PSBpbmRleC52YWx1ZSArIDE7XG4gIH1cbiAgZnVuY3Rpb24gaXNQcmV2aW91cyhzdGVwKSB7XG4gICAgcmV0dXJuIHN0ZXBOYW1lcy52YWx1ZS5pbmRleE9mKHN0ZXApID09PSBpbmRleC52YWx1ZSAtIDE7XG4gIH1cbiAgZnVuY3Rpb24gaXNDdXJyZW50KHN0ZXApIHtcbiAgICByZXR1cm4gc3RlcE5hbWVzLnZhbHVlLmluZGV4T2Yoc3RlcCkgPT09IGluZGV4LnZhbHVlO1xuICB9XG4gIGZ1bmN0aW9uIGlzQmVmb3JlKHN0ZXApIHtcbiAgICByZXR1cm4gaW5kZXgudmFsdWUgPCBzdGVwTmFtZXMudmFsdWUuaW5kZXhPZihzdGVwKTtcbiAgfVxuICBmdW5jdGlvbiBpc0FmdGVyKHN0ZXApIHtcbiAgICByZXR1cm4gaW5kZXgudmFsdWUgPiBzdGVwTmFtZXMudmFsdWUuaW5kZXhPZihzdGVwKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHN0ZXBzOiBzdGVwc1JlZixcbiAgICBzdGVwTmFtZXMsXG4gICAgaW5kZXgsXG4gICAgY3VycmVudCxcbiAgICBuZXh0LFxuICAgIHByZXZpb3VzLFxuICAgIGlzRmlyc3QsXG4gICAgaXNMYXN0LFxuICAgIGF0LFxuICAgIGdldCxcbiAgICBnb1RvLFxuICAgIGdvVG9OZXh0LFxuICAgIGdvVG9QcmV2aW91cyxcbiAgICBnb0JhY2tUbyxcbiAgICBpc05leHQsXG4gICAgaXNQcmV2aW91cyxcbiAgICBpc0N1cnJlbnQsXG4gICAgaXNCZWZvcmUsXG4gICAgaXNBZnRlclxuICB9O1xufVxuXG52YXIgX19kZWZQcm9wJDQgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQ0ID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkNCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDQgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCQ0ID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQ0KG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyQ0ID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkNC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJDQoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJDQpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDQoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kNC5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkNChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbmZ1bmN0aW9uIHVzZVN0b3JhZ2VBc3luYyhrZXksIGluaXRpYWxWYWx1ZSwgc3RvcmFnZSwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTtcbiAgY29uc3Qge1xuICAgIGZsdXNoID0gXCJwcmVcIixcbiAgICBkZWVwID0gdHJ1ZSxcbiAgICBsaXN0ZW5Ub1N0b3JhZ2VDaGFuZ2VzID0gdHJ1ZSxcbiAgICB3cml0ZURlZmF1bHRzID0gdHJ1ZSxcbiAgICBtZXJnZURlZmF1bHRzID0gZmFsc2UsXG4gICAgc2hhbGxvdyxcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93LFxuICAgIGV2ZW50RmlsdGVyLFxuICAgIG9uRXJyb3IgPSAoZSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCByYXdJbml0ID0gcmVzb2x2ZVVucmVmKGluaXRpYWxWYWx1ZSk7XG4gIGNvbnN0IHR5cGUgPSBndWVzc1NlcmlhbGl6ZXJUeXBlKHJhd0luaXQpO1xuICBjb25zdCBkYXRhID0gKHNoYWxsb3cgPyBzaGFsbG93UmVmIDogcmVmKShpbml0aWFsVmFsdWUpO1xuICBjb25zdCBzZXJpYWxpemVyID0gKF9hID0gb3B0aW9ucy5zZXJpYWxpemVyKSAhPSBudWxsID8gX2EgOiBTdG9yYWdlU2VyaWFsaXplcnNbdHlwZV07XG4gIGlmICghc3RvcmFnZSkge1xuICAgIHRyeSB7XG4gICAgICBzdG9yYWdlID0gZ2V0U1NSSGFuZGxlcihcImdldERlZmF1bHRTdG9yYWdlXCIsICgpID0+IHtcbiAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgcmV0dXJuIChfYTIgPSBkZWZhdWx0V2luZG93KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmxvY2FsU3RvcmFnZTtcbiAgICAgIH0pKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgb25FcnJvcihlKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gcmVhZChldmVudCkge1xuICAgIGlmICghc3RvcmFnZSB8fCBldmVudCAmJiBldmVudC5rZXkgIT09IGtleSlcbiAgICAgIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmF3VmFsdWUgPSBldmVudCA/IGV2ZW50Lm5ld1ZhbHVlIDogYXdhaXQgc3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICBpZiAocmF3VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICBkYXRhLnZhbHVlID0gcmF3SW5pdDtcbiAgICAgICAgaWYgKHdyaXRlRGVmYXVsdHMgJiYgcmF3SW5pdCAhPT0gbnVsbClcbiAgICAgICAgICBhd2FpdCBzdG9yYWdlLnNldEl0ZW0oa2V5LCBhd2FpdCBzZXJpYWxpemVyLndyaXRlKHJhd0luaXQpKTtcbiAgICAgIH0gZWxzZSBpZiAobWVyZ2VEZWZhdWx0cykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHNlcmlhbGl6ZXIucmVhZChyYXdWYWx1ZSk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG1lcmdlRGVmYXVsdHMpKVxuICAgICAgICAgIGRhdGEudmFsdWUgPSBtZXJnZURlZmF1bHRzKHZhbHVlLCByYXdJbml0KTtcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpXG4gICAgICAgICAgZGF0YS52YWx1ZSA9IF9fc3ByZWFkVmFsdWVzJDQoX19zcHJlYWRWYWx1ZXMkNCh7fSwgcmF3SW5pdCksIHZhbHVlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGRhdGEudmFsdWUgPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEudmFsdWUgPSBhd2FpdCBzZXJpYWxpemVyLnJlYWQocmF3VmFsdWUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG9uRXJyb3IoZSk7XG4gICAgfVxuICB9XG4gIHJlYWQoKTtcbiAgaWYgKHdpbmRvdyAmJiBsaXN0ZW5Ub1N0b3JhZ2VDaGFuZ2VzKVxuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcInN0b3JhZ2VcIiwgKGUpID0+IHNldFRpbWVvdXQoKCkgPT4gcmVhZChlKSwgMCkpO1xuICBpZiAoc3RvcmFnZSkge1xuICAgIHdhdGNoV2l0aEZpbHRlcihkYXRhLCBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZGF0YS52YWx1ZSA9PSBudWxsKVxuICAgICAgICAgIGF3YWl0IHN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgYXdhaXQgc3RvcmFnZS5zZXRJdGVtKGtleSwgYXdhaXQgc2VyaWFsaXplci53cml0ZShkYXRhLnZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIG9uRXJyb3IoZSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmx1c2gsXG4gICAgICBkZWVwLFxuICAgICAgZXZlbnRGaWx0ZXJcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxubGV0IF9pZCA9IDA7XG5mdW5jdGlvbiB1c2VTdHlsZVRhZyhjc3MsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBpc0xvYWRlZCA9IHJlZihmYWxzZSk7XG4gIGNvbnN0IHtcbiAgICBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudCxcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIG1hbnVhbCA9IGZhbHNlLFxuICAgIGlkID0gYHZ1ZXVzZV9zdHlsZXRhZ18keysrX2lkfWBcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGNzc1JlZiA9IHJlZihjc3MpO1xuICBsZXQgc3RvcCA9ICgpID0+IHtcbiAgfTtcbiAgY29uc3QgbG9hZCA9ICgpID0+IHtcbiAgICBpZiAoIWRvY3VtZW50KVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICBpZiAoIWVsLmlzQ29ubmVjdGVkKSB7XG4gICAgICBlbC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICAgICAgZWwuaWQgPSBpZDtcbiAgICAgIGlmIChvcHRpb25zLm1lZGlhKVxuICAgICAgICBlbC5tZWRpYSA9IG9wdGlvbnMubWVkaWE7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGVsKTtcbiAgICB9XG4gICAgaWYgKGlzTG9hZGVkLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIHN0b3AgPSB3YXRjaChjc3NSZWYsICh2YWx1ZSkgPT4ge1xuICAgICAgZWwudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgICB9LCB7IGltbWVkaWF0ZTogdHJ1ZSB9KTtcbiAgICBpc0xvYWRlZC52YWx1ZSA9IHRydWU7XG4gIH07XG4gIGNvbnN0IHVubG9hZCA9ICgpID0+IHtcbiAgICBpZiAoIWRvY3VtZW50IHx8ICFpc0xvYWRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBzdG9wKCk7XG4gICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpO1xuICAgIGlzTG9hZGVkLnZhbHVlID0gZmFsc2U7XG4gIH07XG4gIGlmIChpbW1lZGlhdGUgJiYgIW1hbnVhbClcbiAgICB0cnlPbk1vdW50ZWQobG9hZCk7XG4gIGlmICghbWFudWFsKVxuICAgIHRyeU9uU2NvcGVEaXNwb3NlKHVubG9hZCk7XG4gIHJldHVybiB7XG4gICAgaWQsXG4gICAgY3NzOiBjc3NSZWYsXG4gICAgdW5sb2FkLFxuICAgIGxvYWQsXG4gICAgaXNMb2FkZWQ6IHJlYWRvbmx5KGlzTG9hZGVkKVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VUZW1wbGF0ZVJlZnNMaXN0KCkge1xuICBjb25zdCByZWZzID0gcmVmKFtdKTtcbiAgcmVmcy52YWx1ZS5zZXQgPSAoZWwpID0+IHtcbiAgICBpZiAoZWwpXG4gICAgICByZWZzLnZhbHVlLnB1c2goZWwpO1xuICB9O1xuICBvbkJlZm9yZVVwZGF0ZSgoKSA9PiB7XG4gICAgcmVmcy52YWx1ZS5sZW5ndGggPSAwO1xuICB9KTtcbiAgcmV0dXJuIHJlZnM7XG59XG5cbmZ1bmN0aW9uIHVzZVRleHREaXJlY3Rpb24ob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudCxcbiAgICBzZWxlY3RvciA9IFwiaHRtbFwiLFxuICAgIG9ic2VydmUgPSBmYWxzZSxcbiAgICBpbml0aWFsVmFsdWUgPSBcImx0clwiXG4gIH0gPSBvcHRpb25zO1xuICBmdW5jdGlvbiBnZXRWYWx1ZSgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiAoX2IgPSAoX2EgPSBkb2N1bWVudCA9PSBudWxsID8gdm9pZCAwIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikpID09IG51bGwgPyB2b2lkIDAgOiBfYS5nZXRBdHRyaWJ1dGUoXCJkaXJcIikpICE9IG51bGwgPyBfYiA6IGluaXRpYWxWYWx1ZTtcbiAgfVxuICBjb25zdCBkaXIgPSByZWYoZ2V0VmFsdWUoKSk7XG4gIHRyeU9uTW91bnRlZCgoKSA9PiBkaXIudmFsdWUgPSBnZXRWYWx1ZSgpKTtcbiAgaWYgKG9ic2VydmUgJiYgZG9jdW1lbnQpIHtcbiAgICB1c2VNdXRhdGlvbk9ic2VydmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLCAoKSA9PiBkaXIudmFsdWUgPSBnZXRWYWx1ZSgpLCB7IGF0dHJpYnV0ZXM6IHRydWUgfSk7XG4gIH1cbiAgcmV0dXJuIGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gZGlyLnZhbHVlO1xuICAgIH0sXG4gICAgc2V0KHYpIHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBkaXIudmFsdWUgPSB2O1xuICAgICAgaWYgKCFkb2N1bWVudClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKGRpci52YWx1ZSlcbiAgICAgICAgKF9hID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zZXRBdHRyaWJ1dGUoXCJkaXJcIiwgZGlyLnZhbHVlKTtcbiAgICAgIGVsc2VcbiAgICAgICAgKF9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikpID09IG51bGwgPyB2b2lkIDAgOiBfYi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIik7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0UmFuZ2VzRnJvbVNlbGVjdGlvbihzZWxlY3Rpb24pIHtcbiAgdmFyIF9hO1xuICBjb25zdCByYW5nZUNvdW50ID0gKF9hID0gc2VsZWN0aW9uLnJhbmdlQ291bnQpICE9IG51bGwgPyBfYSA6IDA7XG4gIGNvbnN0IHJhbmdlcyA9IG5ldyBBcnJheShyYW5nZUNvdW50KTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZUNvdW50OyBpKyspIHtcbiAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KGkpO1xuICAgIHJhbmdlc1tpXSA9IHJhbmdlO1xuICB9XG4gIHJldHVybiByYW5nZXM7XG59XG5mdW5jdGlvbiB1c2VUZXh0U2VsZWN0aW9uKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgc2VsZWN0aW9uID0gcmVmKG51bGwpO1xuICBjb25zdCB0ZXh0ID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIChfYiA9IChfYSA9IHNlbGVjdGlvbi52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnRvU3RyaW5nKCkpICE9IG51bGwgPyBfYiA6IFwiXCI7XG4gIH0pO1xuICBjb25zdCByYW5nZXMgPSBjb21wdXRlZCgoKSA9PiBzZWxlY3Rpb24udmFsdWUgPyBnZXRSYW5nZXNGcm9tU2VsZWN0aW9uKHNlbGVjdGlvbi52YWx1ZSkgOiBbXSk7XG4gIGNvbnN0IHJlY3RzID0gY29tcHV0ZWQoKCkgPT4gcmFuZ2VzLnZhbHVlLm1hcCgocmFuZ2UpID0+IHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSk7XG4gIGZ1bmN0aW9uIG9uU2VsZWN0aW9uQ2hhbmdlKCkge1xuICAgIHNlbGVjdGlvbi52YWx1ZSA9IG51bGw7XG4gICAgaWYgKHdpbmRvdylcbiAgICAgIHNlbGVjdGlvbi52YWx1ZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgfVxuICBpZiAod2luZG93KVxuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCBcInNlbGVjdGlvbmNoYW5nZVwiLCBvblNlbGVjdGlvbkNoYW5nZSk7XG4gIHJldHVybiB7XG4gICAgdGV4dCxcbiAgICByZWN0cyxcbiAgICByYW5nZXMsXG4gICAgc2VsZWN0aW9uXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVRleHRhcmVhQXV0b3NpemUob3B0aW9ucykge1xuICBjb25zdCB0ZXh0YXJlYSA9IHJlZihvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmVsZW1lbnQpO1xuICBjb25zdCBpbnB1dCA9IHJlZihvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmlucHV0KTtcbiAgZnVuY3Rpb24gdHJpZ2dlclJlc2l6ZSgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmICghdGV4dGFyZWEudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgdGV4dGFyZWEudmFsdWUuc3R5bGUuaGVpZ2h0ID0gXCIxcHhcIjtcbiAgICB0ZXh0YXJlYS52YWx1ZS5zdHlsZS5oZWlnaHQgPSBgJHsoX2EgPSB0ZXh0YXJlYS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnNjcm9sbEhlaWdodH1weGA7XG4gICAgKF9iID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5vblJlc2l6ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNhbGwob3B0aW9ucyk7XG4gIH1cbiAgd2F0Y2goW2lucHV0LCB0ZXh0YXJlYV0sIHRyaWdnZXJSZXNpemUsIHsgaW1tZWRpYXRlOiB0cnVlIH0pO1xuICB1c2VSZXNpemVPYnNlcnZlcih0ZXh0YXJlYSwgKCkgPT4gdHJpZ2dlclJlc2l6ZSgpKTtcbiAgaWYgKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMud2F0Y2gpXG4gICAgd2F0Y2gob3B0aW9ucy53YXRjaCwgdHJpZ2dlclJlc2l6ZSwgeyBpbW1lZGlhdGU6IHRydWUsIGRlZXA6IHRydWUgfSk7XG4gIHJldHVybiB7XG4gICAgdGV4dGFyZWEsXG4gICAgaW5wdXQsXG4gICAgdHJpZ2dlclJlc2l6ZVxuICB9O1xufVxuXG52YXIgX19kZWZQcm9wJDMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkMyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDMgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCQzID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQzKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyQzID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkMy5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJDMoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJDMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDMoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kMy5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkMyhhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzID0gKGEsIGIpID0+IF9fZGVmUHJvcHMoYSwgX19nZXRPd25Qcm9wRGVzY3MoYikpO1xuZnVuY3Rpb24gdXNlVGhyb3R0bGVkUmVmSGlzdG9yeShzb3VyY2UsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHRocm90dGxlID0gMjAwLCB0cmFpbGluZyA9IHRydWUgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGZpbHRlciA9IHRocm90dGxlRmlsdGVyKHRocm90dGxlLCB0cmFpbGluZyk7XG4gIGNvbnN0IGhpc3RvcnkgPSB1c2VSZWZIaXN0b3J5KHNvdXJjZSwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyQzKHt9LCBvcHRpb25zKSwgeyBldmVudEZpbHRlcjogZmlsdGVyIH0pKTtcbiAgcmV0dXJuIF9fc3ByZWFkVmFsdWVzJDMoe30sIGhpc3RvcnkpO1xufVxuXG52YXIgX19kZWZQcm9wJDIgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQyID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkMiA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDIgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCQyID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQyKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyQyID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkMi5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJDIoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJDIpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDIoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kMi5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkMihhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX29ialJlc3QgPSAoc291cmNlLCBleGNsdWRlKSA9PiB7XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpXG4gICAgaWYgKF9faGFzT3duUHJvcCQyLmNhbGwoc291cmNlLCBwcm9wKSAmJiBleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwKVxuICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICBpZiAoc291cmNlICE9IG51bGwgJiYgX19nZXRPd25Qcm9wU3ltYm9scyQyKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyQyKHNvdXJjZSkpIHtcbiAgICAgIGlmIChleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwICYmIF9fcHJvcElzRW51bSQyLmNhbGwoc291cmNlLCBwcm9wKSlcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5jb25zdCBERUZBVUxUX1VOSVRTID0gW1xuICB7IG1heDogNmU0LCB2YWx1ZTogMWUzLCBuYW1lOiBcInNlY29uZFwiIH0sXG4gIHsgbWF4OiAyNzZlNCwgdmFsdWU6IDZlNCwgbmFtZTogXCJtaW51dGVcIiB9LFxuICB7IG1heDogNzJlNiwgdmFsdWU6IDM2ZTUsIG5hbWU6IFwiaG91clwiIH0sXG4gIHsgbWF4OiA1MTg0ZTUsIHZhbHVlOiA4NjRlNSwgbmFtZTogXCJkYXlcIiB9LFxuICB7IG1heDogMjQxOTJlNSwgdmFsdWU6IDYwNDhlNSwgbmFtZTogXCJ3ZWVrXCIgfSxcbiAgeyBtYXg6IDI4NTEyZTYsIHZhbHVlOiAyNTkyZTYsIG5hbWU6IFwibW9udGhcIiB9LFxuICB7IG1heDogSW5maW5pdHksIHZhbHVlOiAzMTUzNmU2LCBuYW1lOiBcInllYXJcIiB9XG5dO1xuY29uc3QgREVGQVVMVF9NRVNTQUdFUyA9IHtcbiAganVzdE5vdzogXCJqdXN0IG5vd1wiLFxuICBwYXN0OiAobikgPT4gbi5tYXRjaCgvXFxkLykgPyBgJHtufSBhZ29gIDogbixcbiAgZnV0dXJlOiAobikgPT4gbi5tYXRjaCgvXFxkLykgPyBgaW4gJHtufWAgOiBuLFxuICBtb250aDogKG4sIHBhc3QpID0+IG4gPT09IDEgPyBwYXN0ID8gXCJsYXN0IG1vbnRoXCIgOiBcIm5leHQgbW9udGhcIiA6IGAke259IG1vbnRoJHtuID4gMSA/IFwic1wiIDogXCJcIn1gLFxuICB5ZWFyOiAobiwgcGFzdCkgPT4gbiA9PT0gMSA/IHBhc3QgPyBcImxhc3QgeWVhclwiIDogXCJuZXh0IHllYXJcIiA6IGAke259IHllYXIke24gPiAxID8gXCJzXCIgOiBcIlwifWAsXG4gIGRheTogKG4sIHBhc3QpID0+IG4gPT09IDEgPyBwYXN0ID8gXCJ5ZXN0ZXJkYXlcIiA6IFwidG9tb3Jyb3dcIiA6IGAke259IGRheSR7biA+IDEgPyBcInNcIiA6IFwiXCJ9YCxcbiAgd2VlazogKG4sIHBhc3QpID0+IG4gPT09IDEgPyBwYXN0ID8gXCJsYXN0IHdlZWtcIiA6IFwibmV4dCB3ZWVrXCIgOiBgJHtufSB3ZWVrJHtuID4gMSA/IFwic1wiIDogXCJcIn1gLFxuICBob3VyOiAobikgPT4gYCR7bn0gaG91ciR7biA+IDEgPyBcInNcIiA6IFwiXCJ9YCxcbiAgbWludXRlOiAobikgPT4gYCR7bn0gbWludXRlJHtuID4gMSA/IFwic1wiIDogXCJcIn1gLFxuICBzZWNvbmQ6IChuKSA9PiBgJHtufSBzZWNvbmQke24gPiAxID8gXCJzXCIgOiBcIlwifWAsXG4gIGludmFsaWQ6IFwiXCJcbn07XG5jb25zdCBERUZBVUxUX0ZPUk1BVFRFUiA9IChkYXRlKSA9PiBkYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuZnVuY3Rpb24gdXNlVGltZUFnbyh0aW1lLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGNvbnRyb2xzOiBleHBvc2VDb250cm9scyA9IGZhbHNlLFxuICAgIHVwZGF0ZUludGVydmFsID0gM2U0XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBfYSA9IHVzZU5vdyh7IGludGVydmFsOiB1cGRhdGVJbnRlcnZhbCwgY29udHJvbHM6IHRydWUgfSksIHsgbm93IH0gPSBfYSwgY29udHJvbHMgPSBfX29ialJlc3QoX2EsIFtcIm5vd1wiXSk7XG4gIGNvbnN0IHRpbWVBZ28gPSBjb21wdXRlZCgoKSA9PiBmb3JtYXRUaW1lQWdvKG5ldyBEYXRlKHJlc29sdmVVbnJlZih0aW1lKSksIG9wdGlvbnMsIHVucmVmKG5vdy52YWx1ZSkpKTtcbiAgaWYgKGV4cG9zZUNvbnRyb2xzKSB7XG4gICAgcmV0dXJuIF9fc3ByZWFkVmFsdWVzJDIoe1xuICAgICAgdGltZUFnb1xuICAgIH0sIGNvbnRyb2xzKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGltZUFnbztcbiAgfVxufVxuZnVuY3Rpb24gZm9ybWF0VGltZUFnbyhmcm9tLCBvcHRpb25zID0ge30sIG5vdyA9IERhdGUubm93KCkpIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7XG4gICAgbWF4LFxuICAgIG1lc3NhZ2VzID0gREVGQVVMVF9NRVNTQUdFUyxcbiAgICBmdWxsRGF0ZUZvcm1hdHRlciA9IERFRkFVTFRfRk9STUFUVEVSLFxuICAgIHVuaXRzID0gREVGQVVMVF9VTklUUyxcbiAgICBzaG93U2Vjb25kID0gZmFsc2UsXG4gICAgcm91bmRpbmcgPSBcInJvdW5kXCJcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHJvdW5kRm4gPSB0eXBlb2Ygcm91bmRpbmcgPT09IFwibnVtYmVyXCIgPyAobikgPT4gK24udG9GaXhlZChyb3VuZGluZykgOiBNYXRoW3JvdW5kaW5nXTtcbiAgY29uc3QgZGlmZiA9ICtub3cgLSArZnJvbTtcbiAgY29uc3QgYWJzRGlmZiA9IE1hdGguYWJzKGRpZmYpO1xuICBmdW5jdGlvbiBnZXRWYWx1ZShkaWZmMiwgdW5pdCkge1xuICAgIHJldHVybiByb3VuZEZuKE1hdGguYWJzKGRpZmYyKSAvIHVuaXQudmFsdWUpO1xuICB9XG4gIGZ1bmN0aW9uIGZvcm1hdChkaWZmMiwgdW5pdCkge1xuICAgIGNvbnN0IHZhbCA9IGdldFZhbHVlKGRpZmYyLCB1bml0KTtcbiAgICBjb25zdCBwYXN0ID0gZGlmZjIgPiAwO1xuICAgIGNvbnN0IHN0ciA9IGFwcGx5Rm9ybWF0KHVuaXQubmFtZSwgdmFsLCBwYXN0KTtcbiAgICByZXR1cm4gYXBwbHlGb3JtYXQocGFzdCA/IFwicGFzdFwiIDogXCJmdXR1cmVcIiwgc3RyLCBwYXN0KTtcbiAgfVxuICBmdW5jdGlvbiBhcHBseUZvcm1hdChuYW1lLCB2YWwsIGlzUGFzdCkge1xuICAgIGNvbnN0IGZvcm1hdHRlciA9IG1lc3NhZ2VzW25hbWVdO1xuICAgIGlmICh0eXBlb2YgZm9ybWF0dGVyID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICByZXR1cm4gZm9ybWF0dGVyKHZhbCwgaXNQYXN0KTtcbiAgICByZXR1cm4gZm9ybWF0dGVyLnJlcGxhY2UoXCJ7MH1cIiwgdmFsLnRvU3RyaW5nKCkpO1xuICB9XG4gIGlmIChhYnNEaWZmIDwgNmU0ICYmICFzaG93U2Vjb25kKVxuICAgIHJldHVybiBtZXNzYWdlcy5qdXN0Tm93O1xuICBpZiAodHlwZW9mIG1heCA9PT0gXCJudW1iZXJcIiAmJiBhYnNEaWZmID4gbWF4KVxuICAgIHJldHVybiBmdWxsRGF0ZUZvcm1hdHRlcihuZXcgRGF0ZShmcm9tKSk7XG4gIGlmICh0eXBlb2YgbWF4ID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgdW5pdE1heCA9IChfYSA9IHVuaXRzLmZpbmQoKGkpID0+IGkubmFtZSA9PT0gbWF4KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm1heDtcbiAgICBpZiAodW5pdE1heCAmJiBhYnNEaWZmID4gdW5pdE1heClcbiAgICAgIHJldHVybiBmdWxsRGF0ZUZvcm1hdHRlcihuZXcgRGF0ZShmcm9tKSk7XG4gIH1cbiAgZm9yIChjb25zdCBbaWR4LCB1bml0XSBvZiB1bml0cy5lbnRyaWVzKCkpIHtcbiAgICBjb25zdCB2YWwgPSBnZXRWYWx1ZShkaWZmLCB1bml0KTtcbiAgICBpZiAodmFsIDw9IDAgJiYgdW5pdHNbaWR4IC0gMV0pXG4gICAgICByZXR1cm4gZm9ybWF0KGRpZmYsIHVuaXRzW2lkeCAtIDFdKTtcbiAgICBpZiAoYWJzRGlmZiA8IHVuaXQubWF4KVxuICAgICAgcmV0dXJuIGZvcm1hdChkaWZmLCB1bml0KTtcbiAgfVxuICByZXR1cm4gbWVzc2FnZXMuaW52YWxpZDtcbn1cblxuZnVuY3Rpb24gdXNlVGltZW91dFBvbGwoZm4sIGludGVydmFsLCB0aW1lb3V0UG9sbE9wdGlvbnMpIHtcbiAgY29uc3QgeyBzdGFydCB9ID0gdXNlVGltZW91dEZuKGxvb3AsIGludGVydmFsKTtcbiAgY29uc3QgaXNBY3RpdmUgPSByZWYoZmFsc2UpO1xuICBhc3luYyBmdW5jdGlvbiBsb29wKCkge1xuICAgIGlmICghaXNBY3RpdmUudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgYXdhaXQgZm4oKTtcbiAgICBzdGFydCgpO1xuICB9XG4gIGZ1bmN0aW9uIHJlc3VtZSgpIHtcbiAgICBpZiAoIWlzQWN0aXZlLnZhbHVlKSB7XG4gICAgICBpc0FjdGl2ZS52YWx1ZSA9IHRydWU7XG4gICAgICBsb29wKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIGlzQWN0aXZlLnZhbHVlID0gZmFsc2U7XG4gIH1cbiAgaWYgKHRpbWVvdXRQb2xsT3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogdGltZW91dFBvbGxPcHRpb25zLmltbWVkaWF0ZSlcbiAgICByZXN1bWUoKTtcbiAgdHJ5T25TY29wZURpc3Bvc2UocGF1c2UpO1xuICByZXR1cm4ge1xuICAgIGlzQWN0aXZlLFxuICAgIHBhdXNlLFxuICAgIHJlc3VtZVxuICB9O1xufVxuXG52YXIgX19kZWZQcm9wJDEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQxID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkMSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDEgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCQxID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQxKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyQxID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkMS5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJDEoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJDEpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDEoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kMS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkMShhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbmZ1bmN0aW9uIHVzZVRpbWVzdGFtcChvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGNvbnRyb2xzOiBleHBvc2VDb250cm9scyA9IGZhbHNlLFxuICAgIG9mZnNldCA9IDAsXG4gICAgaW1tZWRpYXRlID0gdHJ1ZSxcbiAgICBpbnRlcnZhbCA9IFwicmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIsXG4gICAgY2FsbGJhY2tcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHRzID0gcmVmKHRpbWVzdGFtcCgpICsgb2Zmc2V0KTtcbiAgY29uc3QgdXBkYXRlID0gKCkgPT4gdHMudmFsdWUgPSB0aW1lc3RhbXAoKSArIG9mZnNldDtcbiAgY29uc3QgY2IgPSBjYWxsYmFjayA/ICgpID0+IHtcbiAgICB1cGRhdGUoKTtcbiAgICBjYWxsYmFjayh0cy52YWx1ZSk7XG4gIH0gOiB1cGRhdGU7XG4gIGNvbnN0IGNvbnRyb2xzID0gaW50ZXJ2YWwgPT09IFwicmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIgPyB1c2VSYWZGbihjYiwgeyBpbW1lZGlhdGUgfSkgOiB1c2VJbnRlcnZhbEZuKGNiLCBpbnRlcnZhbCwgeyBpbW1lZGlhdGUgfSk7XG4gIGlmIChleHBvc2VDb250cm9scykge1xuICAgIHJldHVybiBfX3NwcmVhZFZhbHVlcyQxKHtcbiAgICAgIHRpbWVzdGFtcDogdHNcbiAgICB9LCBjb250cm9scyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRzO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZVRpdGxlKG5ld1RpdGxlID0gbnVsbCwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IHtcbiAgICBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgdGl0bGUgPSByZXNvbHZlUmVmKChfYSA9IG5ld1RpdGxlICE9IG51bGwgPyBuZXdUaXRsZSA6IGRvY3VtZW50ID09IG51bGwgPyB2b2lkIDAgOiBkb2N1bWVudC50aXRsZSkgIT0gbnVsbCA/IF9hIDogbnVsbCk7XG4gIGNvbnN0IGlzUmVhZG9ubHkgPSBuZXdUaXRsZSAmJiBpc0Z1bmN0aW9uKG5ld1RpdGxlKTtcbiAgZnVuY3Rpb24gZm9ybWF0KHQpIHtcbiAgICBpZiAoIShcInRpdGxlVGVtcGxhdGVcIiBpbiBvcHRpb25zKSlcbiAgICAgIHJldHVybiB0O1xuICAgIGNvbnN0IHRlbXBsYXRlID0gb3B0aW9ucy50aXRsZVRlbXBsYXRlIHx8IFwiJXNcIjtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih0ZW1wbGF0ZSkgPyB0ZW1wbGF0ZSh0KSA6IHVucmVmKHRlbXBsYXRlKS5yZXBsYWNlKC8lcy9nLCB0KTtcbiAgfVxuICB3YXRjaCh0aXRsZSwgKHQsIG8pID0+IHtcbiAgICBpZiAodCAhPT0gbyAmJiBkb2N1bWVudClcbiAgICAgIGRvY3VtZW50LnRpdGxlID0gZm9ybWF0KGlzU3RyaW5nKHQpID8gdCA6IFwiXCIpO1xuICB9LCB7IGltbWVkaWF0ZTogdHJ1ZSB9KTtcbiAgaWYgKG9wdGlvbnMub2JzZXJ2ZSAmJiAhb3B0aW9ucy50aXRsZVRlbXBsYXRlICYmIGRvY3VtZW50ICYmICFpc1JlYWRvbmx5KSB7XG4gICAgdXNlTXV0YXRpb25PYnNlcnZlcigoX2IgPSBkb2N1bWVudC5oZWFkKSA9PSBudWxsID8gdm9pZCAwIDogX2IucXVlcnlTZWxlY3RvcihcInRpdGxlXCIpLCAoKSA9PiB7XG4gICAgICBpZiAoZG9jdW1lbnQgJiYgZG9jdW1lbnQudGl0bGUgIT09IHRpdGxlLnZhbHVlKVxuICAgICAgICB0aXRsZS52YWx1ZSA9IGZvcm1hdChkb2N1bWVudC50aXRsZSk7XG4gICAgfSwgeyBjaGlsZExpc3Q6IHRydWUgfSk7XG4gIH1cbiAgcmV0dXJuIHRpdGxlO1xufVxuXG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG5jb25zdCBfVHJhbnNpdGlvblByZXNldHMgPSB7XG4gIGVhc2VJblNpbmU6IFswLjEyLCAwLCAwLjM5LCAwXSxcbiAgZWFzZU91dFNpbmU6IFswLjYxLCAxLCAwLjg4LCAxXSxcbiAgZWFzZUluT3V0U2luZTogWzAuMzcsIDAsIDAuNjMsIDFdLFxuICBlYXNlSW5RdWFkOiBbMC4xMSwgMCwgMC41LCAwXSxcbiAgZWFzZU91dFF1YWQ6IFswLjUsIDEsIDAuODksIDFdLFxuICBlYXNlSW5PdXRRdWFkOiBbMC40NSwgMCwgMC41NSwgMV0sXG4gIGVhc2VJbkN1YmljOiBbMC4zMiwgMCwgMC42NywgMF0sXG4gIGVhc2VPdXRDdWJpYzogWzAuMzMsIDEsIDAuNjgsIDFdLFxuICBlYXNlSW5PdXRDdWJpYzogWzAuNjUsIDAsIDAuMzUsIDFdLFxuICBlYXNlSW5RdWFydDogWzAuNSwgMCwgMC43NSwgMF0sXG4gIGVhc2VPdXRRdWFydDogWzAuMjUsIDEsIDAuNSwgMV0sXG4gIGVhc2VJbk91dFF1YXJ0OiBbMC43NiwgMCwgMC4yNCwgMV0sXG4gIGVhc2VJblF1aW50OiBbMC42NCwgMCwgMC43OCwgMF0sXG4gIGVhc2VPdXRRdWludDogWzAuMjIsIDEsIDAuMzYsIDFdLFxuICBlYXNlSW5PdXRRdWludDogWzAuODMsIDAsIDAuMTcsIDFdLFxuICBlYXNlSW5FeHBvOiBbMC43LCAwLCAwLjg0LCAwXSxcbiAgZWFzZU91dEV4cG86IFswLjE2LCAxLCAwLjMsIDFdLFxuICBlYXNlSW5PdXRFeHBvOiBbMC44NywgMCwgMC4xMywgMV0sXG4gIGVhc2VJbkNpcmM6IFswLjU1LCAwLCAxLCAwLjQ1XSxcbiAgZWFzZU91dENpcmM6IFswLCAwLjU1LCAwLjQ1LCAxXSxcbiAgZWFzZUluT3V0Q2lyYzogWzAuODUsIDAsIDAuMTUsIDFdLFxuICBlYXNlSW5CYWNrOiBbMC4zNiwgMCwgMC42NiwgLTAuNTZdLFxuICBlYXNlT3V0QmFjazogWzAuMzQsIDEuNTYsIDAuNjQsIDFdLFxuICBlYXNlSW5PdXRCYWNrOiBbMC42OCwgLTAuNiwgMC4zMiwgMS42XVxufTtcbmNvbnN0IFRyYW5zaXRpb25QcmVzZXRzID0gX19zcHJlYWRWYWx1ZXMoe1xuICBsaW5lYXI6IGlkZW50aXR5XG59LCBfVHJhbnNpdGlvblByZXNldHMpO1xuZnVuY3Rpb24gY3JlYXRlRWFzaW5nRnVuY3Rpb24oW3AwLCBwMSwgcDIsIHAzXSkge1xuICBjb25zdCBhID0gKGExLCBhMikgPT4gMSAtIDMgKiBhMiArIDMgKiBhMTtcbiAgY29uc3QgYiA9IChhMSwgYTIpID0+IDMgKiBhMiAtIDYgKiBhMTtcbiAgY29uc3QgYyA9IChhMSkgPT4gMyAqIGExO1xuICBjb25zdCBjYWxjQmV6aWVyID0gKHQsIGExLCBhMikgPT4gKChhKGExLCBhMikgKiB0ICsgYihhMSwgYTIpKSAqIHQgKyBjKGExKSkgKiB0O1xuICBjb25zdCBnZXRTbG9wZSA9ICh0LCBhMSwgYTIpID0+IDMgKiBhKGExLCBhMikgKiB0ICogdCArIDIgKiBiKGExLCBhMikgKiB0ICsgYyhhMSk7XG4gIGNvbnN0IGdldFRmb3JYID0gKHgpID0+IHtcbiAgICBsZXQgYUd1ZXNzVCA9IHg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyArK2kpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRTbG9wZSA9IGdldFNsb3BlKGFHdWVzc1QsIHAwLCBwMik7XG4gICAgICBpZiAoY3VycmVudFNsb3BlID09PSAwKVxuICAgICAgICByZXR1cm4gYUd1ZXNzVDtcbiAgICAgIGNvbnN0IGN1cnJlbnRYID0gY2FsY0JlemllcihhR3Vlc3NULCBwMCwgcDIpIC0geDtcbiAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgfVxuICAgIHJldHVybiBhR3Vlc3NUO1xuICB9O1xuICByZXR1cm4gKHgpID0+IHAwID09PSBwMSAmJiBwMiA9PT0gcDMgPyB4IDogY2FsY0JlemllcihnZXRUZm9yWCh4KSwgcDEsIHAzKTtcbn1cbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb24oc291cmNlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGRlbGF5ID0gMCxcbiAgICBkaXNhYmxlZCA9IGZhbHNlLFxuICAgIGR1cmF0aW9uID0gMWUzLFxuICAgIG9uRmluaXNoZWQgPSBub29wLFxuICAgIG9uU3RhcnRlZCA9IG5vb3AsXG4gICAgdHJhbnNpdGlvbiA9IGlkZW50aXR5XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBjdXJyZW50VHJhbnNpdGlvbiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBjb25zdCB0ID0gdW5yZWYodHJhbnNpdGlvbik7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odCkgPyB0IDogY3JlYXRlRWFzaW5nRnVuY3Rpb24odCk7XG4gIH0pO1xuICBjb25zdCBzb3VyY2VWYWx1ZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBjb25zdCBzID0gdW5yZWYoc291cmNlKTtcbiAgICByZXR1cm4gaXNOdW1iZXIocykgPyBzIDogcy5tYXAodW5yZWYpO1xuICB9KTtcbiAgY29uc3Qgc291cmNlVmVjdG9yID0gY29tcHV0ZWQoKCkgPT4gaXNOdW1iZXIoc291cmNlVmFsdWUudmFsdWUpID8gW3NvdXJjZVZhbHVlLnZhbHVlXSA6IHNvdXJjZVZhbHVlLnZhbHVlKTtcbiAgY29uc3Qgb3V0cHV0VmVjdG9yID0gcmVmKHNvdXJjZVZlY3Rvci52YWx1ZS5zbGljZSgwKSk7XG4gIGxldCBjdXJyZW50RHVyYXRpb247XG4gIGxldCBkaWZmVmVjdG9yO1xuICBsZXQgZW5kQXQ7XG4gIGxldCBzdGFydEF0O1xuICBsZXQgc3RhcnRWZWN0b3I7XG4gIGNvbnN0IHsgcmVzdW1lLCBwYXVzZSB9ID0gdXNlUmFmRm4oKCkgPT4ge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBjbGFtcCgxIC0gKGVuZEF0IC0gbm93KSAvIGN1cnJlbnREdXJhdGlvbiwgMCwgMSk7XG4gICAgb3V0cHV0VmVjdG9yLnZhbHVlID0gc3RhcnRWZWN0b3IubWFwKCh2YWwsIGkpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHJldHVybiB2YWwgKyAoKF9hID0gZGlmZlZlY3RvcltpXSkgIT0gbnVsbCA/IF9hIDogMCkgKiBjdXJyZW50VHJhbnNpdGlvbi52YWx1ZShwcm9ncmVzcyk7XG4gICAgfSk7XG4gICAgaWYgKHByb2dyZXNzID49IDEpIHtcbiAgICAgIHBhdXNlKCk7XG4gICAgICBvbkZpbmlzaGVkKCk7XG4gICAgfVxuICB9LCB7IGltbWVkaWF0ZTogZmFsc2UgfSk7XG4gIGNvbnN0IHN0YXJ0ID0gKCkgPT4ge1xuICAgIHBhdXNlKCk7XG4gICAgY3VycmVudER1cmF0aW9uID0gdW5yZWYoZHVyYXRpb24pO1xuICAgIGRpZmZWZWN0b3IgPSBvdXRwdXRWZWN0b3IudmFsdWUubWFwKChuLCBpKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgcmV0dXJuICgoX2EgPSBzb3VyY2VWZWN0b3IudmFsdWVbaV0pICE9IG51bGwgPyBfYSA6IDApIC0gKChfYiA9IG91dHB1dFZlY3Rvci52YWx1ZVtpXSkgIT0gbnVsbCA/IF9iIDogMCk7XG4gICAgfSk7XG4gICAgc3RhcnRWZWN0b3IgPSBvdXRwdXRWZWN0b3IudmFsdWUuc2xpY2UoMCk7XG4gICAgc3RhcnRBdCA9IERhdGUubm93KCk7XG4gICAgZW5kQXQgPSBzdGFydEF0ICsgY3VycmVudER1cmF0aW9uO1xuICAgIHJlc3VtZSgpO1xuICAgIG9uU3RhcnRlZCgpO1xuICB9O1xuICBjb25zdCB0aW1lb3V0ID0gdXNlVGltZW91dEZuKHN0YXJ0LCBkZWxheSwgeyBpbW1lZGlhdGU6IGZhbHNlIH0pO1xuICB3YXRjaChzb3VyY2VWZWN0b3IsICgpID0+IHtcbiAgICBpZiAodW5yZWYoZGlzYWJsZWQpKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICh1bnJlZihkZWxheSkgPD0gMClcbiAgICAgIHN0YXJ0KCk7XG4gICAgZWxzZVxuICAgICAgdGltZW91dC5zdGFydCgpO1xuICB9LCB7IGRlZXA6IHRydWUgfSk7XG4gIHdhdGNoKCgpID0+IHVucmVmKGRpc2FibGVkKSwgKHYpID0+IHtcbiAgICBpZiAodikge1xuICAgICAgb3V0cHV0VmVjdG9yLnZhbHVlID0gc291cmNlVmVjdG9yLnZhbHVlLnNsaWNlKDApO1xuICAgICAgcGF1c2UoKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldFZlY3RvciA9IHVucmVmKGRpc2FibGVkKSA/IHNvdXJjZVZlY3RvciA6IG91dHB1dFZlY3RvcjtcbiAgICByZXR1cm4gaXNOdW1iZXIoc291cmNlVmFsdWUudmFsdWUpID8gdGFyZ2V0VmVjdG9yLnZhbHVlWzBdIDogdGFyZ2V0VmVjdG9yLnZhbHVlO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdXNlVXJsU2VhcmNoUGFyYW1zKG1vZGUgPSBcImhpc3RvcnlcIiwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBpbml0aWFsVmFsdWUgPSB7fSxcbiAgICByZW1vdmVOdWxsaXNoVmFsdWVzID0gdHJ1ZSxcbiAgICByZW1vdmVGYWxzeVZhbHVlcyA9IGZhbHNlLFxuICAgIHdyaXRlOiBlbmFibGVXcml0ZSA9IHRydWUsXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgaWYgKCF3aW5kb3cpXG4gICAgcmV0dXJuIHJlYWN0aXZlKGluaXRpYWxWYWx1ZSk7XG4gIGNvbnN0IHN0YXRlID0gcmVhY3RpdmUoe30pO1xuICBmdW5jdGlvbiBnZXRSYXdQYXJhbXMoKSB7XG4gICAgaWYgKG1vZGUgPT09IFwiaGlzdG9yeVwiKSB7XG4gICAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLnNlYXJjaCB8fCBcIlwiO1xuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJoYXNoXCIpIHtcbiAgICAgIGNvbnN0IGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaCB8fCBcIlwiO1xuICAgICAgY29uc3QgaW5kZXggPSBoYXNoLmluZGV4T2YoXCI/XCIpO1xuICAgICAgcmV0dXJuIGluZGV4ID4gMCA/IGhhc2guc2xpY2UoaW5kZXgpIDogXCJcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICh3aW5kb3cubG9jYXRpb24uaGFzaCB8fCBcIlwiKS5yZXBsYWNlKC9eIy8sIFwiXCIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjb25zdHJ1Y3RRdWVyeShwYXJhbXMpIHtcbiAgICBjb25zdCBzdHJpbmdpZmllZCA9IHBhcmFtcy50b1N0cmluZygpO1xuICAgIGlmIChtb2RlID09PSBcImhpc3RvcnlcIilcbiAgICAgIHJldHVybiBgJHtzdHJpbmdpZmllZCA/IGA/JHtzdHJpbmdpZmllZH1gIDogXCJcIn0ke3dpbmRvdy5sb2NhdGlvbi5oYXNoIHx8IFwiXCJ9YDtcbiAgICBpZiAobW9kZSA9PT0gXCJoYXNoLXBhcmFtc1wiKVxuICAgICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5zZWFyY2ggfHwgXCJcIn0ke3N0cmluZ2lmaWVkID8gYCMke3N0cmluZ2lmaWVkfWAgOiBcIlwifWA7XG4gICAgY29uc3QgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoIHx8IFwiI1wiO1xuICAgIGNvbnN0IGluZGV4ID0gaGFzaC5pbmRleE9mKFwiP1wiKTtcbiAgICBpZiAoaW5kZXggPiAwKVxuICAgICAgcmV0dXJuIGAke2hhc2guc2xpY2UoMCwgaW5kZXgpfSR7c3RyaW5naWZpZWQgPyBgPyR7c3RyaW5naWZpZWR9YCA6IFwiXCJ9YDtcbiAgICByZXR1cm4gYCR7aGFzaH0ke3N0cmluZ2lmaWVkID8gYD8ke3N0cmluZ2lmaWVkfWAgOiBcIlwifWA7XG4gIH1cbiAgZnVuY3Rpb24gcmVhZCgpIHtcbiAgICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhnZXRSYXdQYXJhbXMoKSk7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlU3RhdGUocGFyYW1zKSB7XG4gICAgY29uc3QgdW51c2VkS2V5cyA9IG5ldyBTZXQoT2JqZWN0LmtleXMoc3RhdGUpKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBwYXJhbXMua2V5cygpKSB7XG4gICAgICBjb25zdCBwYXJhbXNGb3JLZXkgPSBwYXJhbXMuZ2V0QWxsKGtleSk7XG4gICAgICBzdGF0ZVtrZXldID0gcGFyYW1zRm9yS2V5Lmxlbmd0aCA+IDEgPyBwYXJhbXNGb3JLZXkgOiBwYXJhbXMuZ2V0KGtleSkgfHwgXCJcIjtcbiAgICAgIHVudXNlZEtleXMuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIEFycmF5LmZyb20odW51c2VkS2V5cykuZm9yRWFjaCgoa2V5KSA9PiBkZWxldGUgc3RhdGVba2V5XSk7XG4gIH1cbiAgY29uc3QgeyBwYXVzZSwgcmVzdW1lIH0gPSBwYXVzYWJsZVdhdGNoKHN0YXRlLCAoKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhcIlwiKTtcbiAgICBPYmplY3Qua2V5cyhzdGF0ZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCBtYXBFbnRyeSA9IHN0YXRlW2tleV07XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtYXBFbnRyeSkpXG4gICAgICAgIG1hcEVudHJ5LmZvckVhY2goKHZhbHVlKSA9PiBwYXJhbXMuYXBwZW5kKGtleSwgdmFsdWUpKTtcbiAgICAgIGVsc2UgaWYgKHJlbW92ZU51bGxpc2hWYWx1ZXMgJiYgbWFwRW50cnkgPT0gbnVsbClcbiAgICAgICAgcGFyYW1zLmRlbGV0ZShrZXkpO1xuICAgICAgZWxzZSBpZiAocmVtb3ZlRmFsc3lWYWx1ZXMgJiYgIW1hcEVudHJ5KVxuICAgICAgICBwYXJhbXMuZGVsZXRlKGtleSk7XG4gICAgICBlbHNlXG4gICAgICAgIHBhcmFtcy5zZXQoa2V5LCBtYXBFbnRyeSk7XG4gICAgfSk7XG4gICAgd3JpdGUocGFyYW1zKTtcbiAgfSwgeyBkZWVwOiB0cnVlIH0pO1xuICBmdW5jdGlvbiB3cml0ZShwYXJhbXMsIHNob3VsZFVwZGF0ZSkge1xuICAgIHBhdXNlKCk7XG4gICAgaWYgKHNob3VsZFVwZGF0ZSlcbiAgICAgIHVwZGF0ZVN0YXRlKHBhcmFtcyk7XG4gICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHdpbmRvdy5oaXN0b3J5LnN0YXRlLCB3aW5kb3cuZG9jdW1lbnQudGl0bGUsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIGNvbnN0cnVjdFF1ZXJ5KHBhcmFtcykpO1xuICAgIHJlc3VtZSgpO1xuICB9XG4gIGZ1bmN0aW9uIG9uQ2hhbmdlZCgpIHtcbiAgICBpZiAoIWVuYWJsZVdyaXRlKVxuICAgICAgcmV0dXJuO1xuICAgIHdyaXRlKHJlYWQoKSwgdHJ1ZSk7XG4gIH1cbiAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwicG9wc3RhdGVcIiwgb25DaGFuZ2VkLCBmYWxzZSk7XG4gIGlmIChtb2RlICE9PSBcImhpc3RvcnlcIilcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJoYXNoY2hhbmdlXCIsIG9uQ2hhbmdlZCwgZmFsc2UpO1xuICBjb25zdCBpbml0aWFsID0gcmVhZCgpO1xuICBpZiAoaW5pdGlhbC5rZXlzKCkubmV4dCgpLnZhbHVlKVxuICAgIHVwZGF0ZVN0YXRlKGluaXRpYWwpO1xuICBlbHNlXG4gICAgT2JqZWN0LmFzc2lnbihzdGF0ZSwgaW5pdGlhbFZhbHVlKTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5mdW5jdGlvbiB1c2VVc2VyTWVkaWEob3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IGVuYWJsZWQgPSByZWYoKF9hID0gb3B0aW9ucy5lbmFibGVkKSAhPSBudWxsID8gX2EgOiBmYWxzZSk7XG4gIGNvbnN0IGF1dG9Td2l0Y2ggPSByZWYoKF9iID0gb3B0aW9ucy5hdXRvU3dpdGNoKSAhPSBudWxsID8gX2IgOiB0cnVlKTtcbiAgY29uc3QgdmlkZW9EZXZpY2VJZCA9IHJlZihvcHRpb25zLnZpZGVvRGV2aWNlSWQpO1xuICBjb25zdCBhdWRpb0RldmljZUlkID0gcmVmKG9wdGlvbnMuYXVkaW9EZXZpY2VJZCk7XG4gIGNvbnN0IHsgbmF2aWdhdG9yID0gZGVmYXVsdE5hdmlnYXRvciB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4ge1xuICAgIHZhciBfYTI7XG4gICAgcmV0dXJuIChfYTIgPSBuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5tZWRpYURldmljZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZ2V0VXNlck1lZGlhO1xuICB9KTtcbiAgY29uc3Qgc3RyZWFtID0gc2hhbGxvd1JlZigpO1xuICBmdW5jdGlvbiBnZXREZXZpY2VPcHRpb25zKGRldmljZSkge1xuICAgIGlmIChkZXZpY2UudmFsdWUgPT09IFwibm9uZVwiIHx8IGRldmljZS52YWx1ZSA9PT0gZmFsc2UpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGRldmljZS52YWx1ZSA9PSBudWxsKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRldmljZUlkOiBkZXZpY2UudmFsdWVcbiAgICB9O1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIF9zdGFydCgpIHtcbiAgICBpZiAoIWlzU3VwcG9ydGVkLnZhbHVlIHx8IHN0cmVhbS52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBzdHJlYW0udmFsdWUgPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XG4gICAgICB2aWRlbzogZ2V0RGV2aWNlT3B0aW9ucyh2aWRlb0RldmljZUlkKSxcbiAgICAgIGF1ZGlvOiBnZXREZXZpY2VPcHRpb25zKGF1ZGlvRGV2aWNlSWQpXG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cmVhbS52YWx1ZTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBfc3RvcCgpIHtcbiAgICB2YXIgX2EyO1xuICAgIChfYTIgPSBzdHJlYW0udmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodCkgPT4gdC5zdG9wKCkpO1xuICAgIHN0cmVhbS52YWx1ZSA9IHZvaWQgMDtcbiAgfVxuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIF9zdG9wKCk7XG4gICAgZW5hYmxlZC52YWx1ZSA9IGZhbHNlO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIGF3YWl0IF9zdGFydCgpO1xuICAgIGlmIChzdHJlYW0udmFsdWUpXG4gICAgICBlbmFibGVkLnZhbHVlID0gdHJ1ZTtcbiAgICByZXR1cm4gc3RyZWFtLnZhbHVlO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHJlc3RhcnQoKSB7XG4gICAgX3N0b3AoKTtcbiAgICByZXR1cm4gYXdhaXQgc3RhcnQoKTtcbiAgfVxuICB3YXRjaChlbmFibGVkLCAodikgPT4ge1xuICAgIGlmICh2KVxuICAgICAgX3N0YXJ0KCk7XG4gICAgZWxzZVxuICAgICAgX3N0b3AoKTtcbiAgfSwgeyBpbW1lZGlhdGU6IHRydWUgfSk7XG4gIHdhdGNoKFt2aWRlb0RldmljZUlkLCBhdWRpb0RldmljZUlkXSwgKCkgPT4ge1xuICAgIGlmIChhdXRvU3dpdGNoLnZhbHVlICYmIHN0cmVhbS52YWx1ZSlcbiAgICAgIHJlc3RhcnQoKTtcbiAgfSwgeyBpbW1lZGlhdGU6IHRydWUgfSk7XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgc3RyZWFtLFxuICAgIHN0YXJ0LFxuICAgIHN0b3AsXG4gICAgcmVzdGFydCxcbiAgICB2aWRlb0RldmljZUlkLFxuICAgIGF1ZGlvRGV2aWNlSWQsXG4gICAgZW5hYmxlZCxcbiAgICBhdXRvU3dpdGNoXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVZNb2RlbChwcm9wcywga2V5LCBlbWl0LCBvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgY29uc3Qge1xuICAgIGNsb25lID0gZmFsc2UsXG4gICAgcGFzc2l2ZSA9IGZhbHNlLFxuICAgIGV2ZW50TmFtZSxcbiAgICBkZWVwID0gZmFsc2UsXG4gICAgZGVmYXVsdFZhbHVlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB2bSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBjb25zdCBfZW1pdCA9IGVtaXQgfHwgKHZtID09IG51bGwgPyB2b2lkIDAgOiB2bS5lbWl0KSB8fCAoKF9hID0gdm0gPT0gbnVsbCA/IHZvaWQgMCA6IHZtLiRlbWl0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuYmluZCh2bSkpIHx8ICgoX2MgPSAoX2IgPSB2bSA9PSBudWxsID8gdm9pZCAwIDogdm0ucHJveHkpID09IG51bGwgPyB2b2lkIDAgOiBfYi4kZW1pdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmJpbmQodm0gPT0gbnVsbCA/IHZvaWQgMCA6IHZtLnByb3h5KSk7XG4gIGxldCBldmVudCA9IGV2ZW50TmFtZTtcbiAgaWYgKCFrZXkpIHtcbiAgICBpZiAoaXNWdWUyKSB7XG4gICAgICBjb25zdCBtb2RlbE9wdGlvbnMgPSAoX2UgPSAoX2QgPSB2bSA9PSBudWxsID8gdm9pZCAwIDogdm0ucHJveHkpID09IG51bGwgPyB2b2lkIDAgOiBfZC4kb3B0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLm1vZGVsO1xuICAgICAga2V5ID0gKG1vZGVsT3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogbW9kZWxPcHRpb25zLnZhbHVlKSB8fCBcInZhbHVlXCI7XG4gICAgICBpZiAoIWV2ZW50TmFtZSlcbiAgICAgICAgZXZlbnQgPSAobW9kZWxPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBtb2RlbE9wdGlvbnMuZXZlbnQpIHx8IFwiaW5wdXRcIjtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5ID0gXCJtb2RlbFZhbHVlXCI7XG4gICAgfVxuICB9XG4gIGV2ZW50ID0gZXZlbnROYW1lIHx8IGV2ZW50IHx8IGB1cGRhdGU6JHtrZXkudG9TdHJpbmcoKX1gO1xuICBjb25zdCBjbG9uZUZuID0gKHZhbCkgPT4gIWNsb25lID8gdmFsIDogaXNGdW5jdGlvbihjbG9uZSkgPyBjbG9uZSh2YWwpIDogY2xvbmVGbkpTT04odmFsKTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiBpc0RlZihwcm9wc1trZXldKSA/IGNsb25lRm4ocHJvcHNba2V5XSkgOiBkZWZhdWx0VmFsdWU7XG4gIGlmIChwYXNzaXZlKSB7XG4gICAgY29uc3QgaW5pdGlhbFZhbHVlID0gZ2V0VmFsdWUoKTtcbiAgICBjb25zdCBwcm94eSA9IHJlZihpbml0aWFsVmFsdWUpO1xuICAgIHdhdGNoKCgpID0+IHByb3BzW2tleV0sICh2KSA9PiBwcm94eS52YWx1ZSA9IGNsb25lRm4odikpO1xuICAgIHdhdGNoKHByb3h5LCAodikgPT4ge1xuICAgICAgaWYgKHYgIT09IHByb3BzW2tleV0gfHwgZGVlcClcbiAgICAgICAgX2VtaXQoZXZlbnQsIHYpO1xuICAgIH0sIHsgZGVlcCB9KTtcbiAgICByZXR1cm4gcHJveHk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbXB1dGVkKHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIGdldFZhbHVlKCk7XG4gICAgICB9LFxuICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgIF9lbWl0KGV2ZW50LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlVk1vZGVscyhwcm9wcywgZW1pdCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHJldCA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcylcbiAgICByZXRba2V5XSA9IHVzZVZNb2RlbChwcm9wcywga2V5LCBlbWl0LCBvcHRpb25zKTtcbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gdXNlVmlicmF0ZShvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBwYXR0ZXJuID0gW10sXG4gICAgaW50ZXJ2YWwgPSAwLFxuICAgIG5hdmlnYXRvciA9IGRlZmF1bHROYXZpZ2F0b3JcbiAgfSA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgXCJ2aWJyYXRlXCIgaW4gbmF2aWdhdG9yKTtcbiAgY29uc3QgcGF0dGVyblJlZiA9IHJlc29sdmVSZWYocGF0dGVybik7XG4gIGxldCBpbnRlcnZhbENvbnRyb2xzO1xuICBjb25zdCB2aWJyYXRlID0gKHBhdHRlcm4yID0gcGF0dGVyblJlZi52YWx1ZSkgPT4ge1xuICAgIGlmIChpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIG5hdmlnYXRvci52aWJyYXRlKHBhdHRlcm4yKTtcbiAgfTtcbiAgY29uc3Qgc3RvcCA9ICgpID0+IHtcbiAgICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICBuYXZpZ2F0b3IudmlicmF0ZSgwKTtcbiAgICBpbnRlcnZhbENvbnRyb2xzID09IG51bGwgPyB2b2lkIDAgOiBpbnRlcnZhbENvbnRyb2xzLnBhdXNlKCk7XG4gIH07XG4gIGlmIChpbnRlcnZhbCA+IDApIHtcbiAgICBpbnRlcnZhbENvbnRyb2xzID0gdXNlSW50ZXJ2YWxGbih2aWJyYXRlLCBpbnRlcnZhbCwge1xuICAgICAgaW1tZWRpYXRlOiBmYWxzZSxcbiAgICAgIGltbWVkaWF0ZUNhbGxiYWNrOiBmYWxzZVxuICAgIH0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgcGF0dGVybixcbiAgICBpbnRlcnZhbENvbnRyb2xzLFxuICAgIHZpYnJhdGUsXG4gICAgc3RvcFxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VWaXJ0dWFsTGlzdChsaXN0LCBvcHRpb25zKSB7XG4gIGNvbnN0IHsgY29udGFpbmVyU3R5bGUsIHdyYXBwZXJQcm9wcywgc2Nyb2xsVG8sIGNhbGN1bGF0ZVJhbmdlLCBjdXJyZW50TGlzdCwgY29udGFpbmVyUmVmIH0gPSBcIml0ZW1IZWlnaHRcIiBpbiBvcHRpb25zID8gdXNlVmVydGljYWxWaXJ0dWFsTGlzdChvcHRpb25zLCBsaXN0KSA6IHVzZUhvcml6b250YWxWaXJ0dWFsTGlzdChvcHRpb25zLCBsaXN0KTtcbiAgcmV0dXJuIHtcbiAgICBsaXN0OiBjdXJyZW50TGlzdCxcbiAgICBzY3JvbGxUbyxcbiAgICBjb250YWluZXJQcm9wczoge1xuICAgICAgcmVmOiBjb250YWluZXJSZWYsXG4gICAgICBvblNjcm9sbDogKCkgPT4ge1xuICAgICAgICBjYWxjdWxhdGVSYW5nZSgpO1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiBjb250YWluZXJTdHlsZVxuICAgIH0sXG4gICAgd3JhcHBlclByb3BzXG4gIH07XG59XG5mdW5jdGlvbiB1c2VWaXJ0dWFsTGlzdFJlc291cmNlcyhsaXN0KSB7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHJlZihudWxsKTtcbiAgY29uc3Qgc2l6ZSA9IHVzZUVsZW1lbnRTaXplKGNvbnRhaW5lclJlZik7XG4gIGNvbnN0IGN1cnJlbnRMaXN0ID0gcmVmKFtdKTtcbiAgY29uc3Qgc291cmNlID0gc2hhbGxvd1JlZihsaXN0KTtcbiAgY29uc3Qgc3RhdGUgPSByZWYoeyBzdGFydDogMCwgZW5kOiAxMCB9KTtcbiAgcmV0dXJuIHsgc3RhdGUsIHNvdXJjZSwgY3VycmVudExpc3QsIHNpemUsIGNvbnRhaW5lclJlZiB9O1xufVxuZnVuY3Rpb24gY3JlYXRlR2V0Vmlld0NhcGFjaXR5KHN0YXRlLCBzb3VyY2UsIGl0ZW1TaXplKSB7XG4gIHJldHVybiAoY29udGFpbmVyU2l6ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgaXRlbVNpemUgPT09IFwibnVtYmVyXCIpXG4gICAgICByZXR1cm4gTWF0aC5jZWlsKGNvbnRhaW5lclNpemUgLyBpdGVtU2l6ZSk7XG4gICAgY29uc3QgeyBzdGFydCA9IDAgfSA9IHN0YXRlLnZhbHVlO1xuICAgIGxldCBzdW0gPSAwO1xuICAgIGxldCBjYXBhY2l0eSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgc291cmNlLnZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzaXplID0gaXRlbVNpemUoaSk7XG4gICAgICBzdW0gKz0gc2l6ZTtcbiAgICAgIGNhcGFjaXR5ID0gaTtcbiAgICAgIGlmIChzdW0gPiBjb250YWluZXJTaXplKVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGNhcGFjaXR5IC0gc3RhcnQ7XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVHZXRPZmZzZXQoc291cmNlLCBpdGVtU2l6ZSkge1xuICByZXR1cm4gKHNjcm9sbERpcmVjdGlvbikgPT4ge1xuICAgIGlmICh0eXBlb2YgaXRlbVNpemUgPT09IFwibnVtYmVyXCIpXG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihzY3JvbGxEaXJlY3Rpb24gLyBpdGVtU2l6ZSkgKyAxO1xuICAgIGxldCBzdW0gPSAwO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlLnZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzaXplID0gaXRlbVNpemUoaSk7XG4gICAgICBzdW0gKz0gc2l6ZTtcbiAgICAgIGlmIChzdW0gPj0gc2Nyb2xsRGlyZWN0aW9uKSB7XG4gICAgICAgIG9mZnNldCA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0ICsgMTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNhbGN1bGF0ZVJhbmdlKHR5cGUsIG92ZXJzY2FuLCBnZXRPZmZzZXQsIGdldFZpZXdDYXBhY2l0eSwgeyBjb250YWluZXJSZWYsIHN0YXRlLCBjdXJyZW50TGlzdCwgc291cmNlIH0pIHtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBjb25zdCBlbGVtZW50ID0gY29udGFpbmVyUmVmLnZhbHVlO1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSBnZXRPZmZzZXQodHlwZSA9PT0gXCJ2ZXJ0aWNhbFwiID8gZWxlbWVudC5zY3JvbGxUb3AgOiBlbGVtZW50LnNjcm9sbExlZnQpO1xuICAgICAgY29uc3Qgdmlld0NhcGFjaXR5ID0gZ2V0Vmlld0NhcGFjaXR5KHR5cGUgPT09IFwidmVydGljYWxcIiA/IGVsZW1lbnQuY2xpZW50SGVpZ2h0IDogZWxlbWVudC5jbGllbnRXaWR0aCk7XG4gICAgICBjb25zdCBmcm9tID0gb2Zmc2V0IC0gb3ZlcnNjYW47XG4gICAgICBjb25zdCB0byA9IG9mZnNldCArIHZpZXdDYXBhY2l0eSArIG92ZXJzY2FuO1xuICAgICAgc3RhdGUudmFsdWUgPSB7XG4gICAgICAgIHN0YXJ0OiBmcm9tIDwgMCA/IDAgOiBmcm9tLFxuICAgICAgICBlbmQ6IHRvID4gc291cmNlLnZhbHVlLmxlbmd0aCA/IHNvdXJjZS52YWx1ZS5sZW5ndGggOiB0b1xuICAgICAgfTtcbiAgICAgIGN1cnJlbnRMaXN0LnZhbHVlID0gc291cmNlLnZhbHVlLnNsaWNlKHN0YXRlLnZhbHVlLnN0YXJ0LCBzdGF0ZS52YWx1ZS5lbmQpLm1hcCgoZWxlLCBpbmRleCkgPT4gKHtcbiAgICAgICAgZGF0YTogZWxlLFxuICAgICAgICBpbmRleDogaW5kZXggKyBzdGF0ZS52YWx1ZS5zdGFydFxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUdldERpc3RhbmNlKGl0ZW1TaXplLCBzb3VyY2UpIHtcbiAgcmV0dXJuIChpbmRleCkgPT4ge1xuICAgIGlmICh0eXBlb2YgaXRlbVNpemUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbnN0IHNpemUyID0gaW5kZXggKiBpdGVtU2l6ZTtcbiAgICAgIHJldHVybiBzaXplMjtcbiAgICB9XG4gICAgY29uc3Qgc2l6ZSA9IHNvdXJjZS52YWx1ZS5zbGljZSgwLCBpbmRleCkucmVkdWNlKChzdW0sIF8sIGkpID0+IHN1bSArIGl0ZW1TaXplKGkpLCAwKTtcbiAgICByZXR1cm4gc2l6ZTtcbiAgfTtcbn1cbmZ1bmN0aW9uIHVzZVdhdGNoRm9yU2l6ZXMoc2l6ZSwgbGlzdCwgY2FsY3VsYXRlUmFuZ2UpIHtcbiAgd2F0Y2goW3NpemUud2lkdGgsIHNpemUuaGVpZ2h0LCBsaXN0XSwgKCkgPT4ge1xuICAgIGNhbGN1bGF0ZVJhbmdlKCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlQ29tcHV0ZWRUb3RhbFNpemUoaXRlbVNpemUsIHNvdXJjZSkge1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgaXRlbVNpemUgPT09IFwibnVtYmVyXCIpXG4gICAgICByZXR1cm4gc291cmNlLnZhbHVlLmxlbmd0aCAqIGl0ZW1TaXplO1xuICAgIHJldHVybiBzb3VyY2UudmFsdWUucmVkdWNlKChzdW0sIF8sIGluZGV4KSA9PiBzdW0gKyBpdGVtU2l6ZShpbmRleCksIDApO1xuICB9KTtcbn1cbmNvbnN0IHNjcm9sbFRvRGljdGlvbmFyeUZvckVsZW1lbnRTY3JvbGxLZXkgPSB7XG4gIGhvcml6b250YWw6IFwic2Nyb2xsTGVmdFwiLFxuICB2ZXJ0aWNhbDogXCJzY3JvbGxUb3BcIlxufTtcbmZ1bmN0aW9uIGNyZWF0ZVNjcm9sbFRvKHR5cGUsIGNhbGN1bGF0ZVJhbmdlLCBnZXREaXN0YW5jZSwgY29udGFpbmVyUmVmKSB7XG4gIHJldHVybiAoaW5kZXgpID0+IHtcbiAgICBpZiAoY29udGFpbmVyUmVmLnZhbHVlKSB7XG4gICAgICBjb250YWluZXJSZWYudmFsdWVbc2Nyb2xsVG9EaWN0aW9uYXJ5Rm9yRWxlbWVudFNjcm9sbEtleVt0eXBlXV0gPSBnZXREaXN0YW5jZShpbmRleCk7XG4gICAgICBjYWxjdWxhdGVSYW5nZSgpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHVzZUhvcml6b250YWxWaXJ0dWFsTGlzdChvcHRpb25zLCBsaXN0KSB7XG4gIGNvbnN0IHJlc291cmNlcyA9IHVzZVZpcnR1YWxMaXN0UmVzb3VyY2VzKGxpc3QpO1xuICBjb25zdCB7IHN0YXRlLCBzb3VyY2UsIGN1cnJlbnRMaXN0LCBzaXplLCBjb250YWluZXJSZWYgfSA9IHJlc291cmNlcztcbiAgY29uc3QgY29udGFpbmVyU3R5bGUgPSB7IG92ZXJmbG93WDogXCJhdXRvXCIgfTtcbiAgY29uc3QgeyBpdGVtV2lkdGgsIG92ZXJzY2FuID0gNSB9ID0gb3B0aW9ucztcbiAgY29uc3QgZ2V0Vmlld0NhcGFjaXR5ID0gY3JlYXRlR2V0Vmlld0NhcGFjaXR5KHN0YXRlLCBzb3VyY2UsIGl0ZW1XaWR0aCk7XG4gIGNvbnN0IGdldE9mZnNldCA9IGNyZWF0ZUdldE9mZnNldChzb3VyY2UsIGl0ZW1XaWR0aCk7XG4gIGNvbnN0IGNhbGN1bGF0ZVJhbmdlID0gY3JlYXRlQ2FsY3VsYXRlUmFuZ2UoXCJob3Jpem9udGFsXCIsIG92ZXJzY2FuLCBnZXRPZmZzZXQsIGdldFZpZXdDYXBhY2l0eSwgcmVzb3VyY2VzKTtcbiAgY29uc3QgZ2V0RGlzdGFuY2VMZWZ0ID0gY3JlYXRlR2V0RGlzdGFuY2UoaXRlbVdpZHRoLCBzb3VyY2UpO1xuICBjb25zdCBvZmZzZXRMZWZ0ID0gY29tcHV0ZWQoKCkgPT4gZ2V0RGlzdGFuY2VMZWZ0KHN0YXRlLnZhbHVlLnN0YXJ0KSk7XG4gIGNvbnN0IHRvdGFsV2lkdGggPSBjcmVhdGVDb21wdXRlZFRvdGFsU2l6ZShpdGVtV2lkdGgsIHNvdXJjZSk7XG4gIHVzZVdhdGNoRm9yU2l6ZXMoc2l6ZSwgbGlzdCwgY2FsY3VsYXRlUmFuZ2UpO1xuICBjb25zdCBzY3JvbGxUbyA9IGNyZWF0ZVNjcm9sbFRvKFwiaG9yaXpvbnRhbFwiLCBjYWxjdWxhdGVSYW5nZSwgZ2V0RGlzdGFuY2VMZWZ0LCBjb250YWluZXJSZWYpO1xuICBjb25zdCB3cmFwcGVyUHJvcHMgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIHdpZHRoOiBgJHt0b3RhbFdpZHRoLnZhbHVlIC0gb2Zmc2V0TGVmdC52YWx1ZX1weGAsXG4gICAgICAgIG1hcmdpbkxlZnQ6IGAke29mZnNldExlZnQudmFsdWV9cHhgLFxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIlxuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHNjcm9sbFRvLFxuICAgIGNhbGN1bGF0ZVJhbmdlLFxuICAgIHdyYXBwZXJQcm9wcyxcbiAgICBjb250YWluZXJTdHlsZSxcbiAgICBjdXJyZW50TGlzdCxcbiAgICBjb250YWluZXJSZWZcbiAgfTtcbn1cbmZ1bmN0aW9uIHVzZVZlcnRpY2FsVmlydHVhbExpc3Qob3B0aW9ucywgbGlzdCkge1xuICBjb25zdCByZXNvdXJjZXMgPSB1c2VWaXJ0dWFsTGlzdFJlc291cmNlcyhsaXN0KTtcbiAgY29uc3QgeyBzdGF0ZSwgc291cmNlLCBjdXJyZW50TGlzdCwgc2l6ZSwgY29udGFpbmVyUmVmIH0gPSByZXNvdXJjZXM7XG4gIGNvbnN0IGNvbnRhaW5lclN0eWxlID0geyBvdmVyZmxvd1k6IFwiYXV0b1wiIH07XG4gIGNvbnN0IHsgaXRlbUhlaWdodCwgb3ZlcnNjYW4gPSA1IH0gPSBvcHRpb25zO1xuICBjb25zdCBnZXRWaWV3Q2FwYWNpdHkgPSBjcmVhdGVHZXRWaWV3Q2FwYWNpdHkoc3RhdGUsIHNvdXJjZSwgaXRlbUhlaWdodCk7XG4gIGNvbnN0IGdldE9mZnNldCA9IGNyZWF0ZUdldE9mZnNldChzb3VyY2UsIGl0ZW1IZWlnaHQpO1xuICBjb25zdCBjYWxjdWxhdGVSYW5nZSA9IGNyZWF0ZUNhbGN1bGF0ZVJhbmdlKFwidmVydGljYWxcIiwgb3ZlcnNjYW4sIGdldE9mZnNldCwgZ2V0Vmlld0NhcGFjaXR5LCByZXNvdXJjZXMpO1xuICBjb25zdCBnZXREaXN0YW5jZVRvcCA9IGNyZWF0ZUdldERpc3RhbmNlKGl0ZW1IZWlnaHQsIHNvdXJjZSk7XG4gIGNvbnN0IG9mZnNldFRvcCA9IGNvbXB1dGVkKCgpID0+IGdldERpc3RhbmNlVG9wKHN0YXRlLnZhbHVlLnN0YXJ0KSk7XG4gIGNvbnN0IHRvdGFsSGVpZ2h0ID0gY3JlYXRlQ29tcHV0ZWRUb3RhbFNpemUoaXRlbUhlaWdodCwgc291cmNlKTtcbiAgdXNlV2F0Y2hGb3JTaXplcyhzaXplLCBsaXN0LCBjYWxjdWxhdGVSYW5nZSk7XG4gIGNvbnN0IHNjcm9sbFRvID0gY3JlYXRlU2Nyb2xsVG8oXCJ2ZXJ0aWNhbFwiLCBjYWxjdWxhdGVSYW5nZSwgZ2V0RGlzdGFuY2VUb3AsIGNvbnRhaW5lclJlZik7XG4gIGNvbnN0IHdyYXBwZXJQcm9wcyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBoZWlnaHQ6IGAke3RvdGFsSGVpZ2h0LnZhbHVlIC0gb2Zmc2V0VG9wLnZhbHVlfXB4YCxcbiAgICAgICAgbWFyZ2luVG9wOiBgJHtvZmZzZXRUb3AudmFsdWV9cHhgXG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgY2FsY3VsYXRlUmFuZ2UsXG4gICAgc2Nyb2xsVG8sXG4gICAgY29udGFpbmVyU3R5bGUsXG4gICAgd3JhcHBlclByb3BzLFxuICAgIGN1cnJlbnRMaXN0LFxuICAgIGNvbnRhaW5lclJlZlxuICB9O1xufVxuXG5jb25zdCB1c2VXYWtlTG9jayA9IChvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3Qge1xuICAgIG5hdmlnYXRvciA9IGRlZmF1bHROYXZpZ2F0b3IsXG4gICAgZG9jdW1lbnQgPSBkZWZhdWx0RG9jdW1lbnRcbiAgfSA9IG9wdGlvbnM7XG4gIGxldCB3YWtlTG9jaztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gbmF2aWdhdG9yICYmIFwid2FrZUxvY2tcIiBpbiBuYXZpZ2F0b3IpO1xuICBjb25zdCBpc0FjdGl2ZSA9IHJlZihmYWxzZSk7XG4gIGFzeW5jIGZ1bmN0aW9uIG9uVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgICBpZiAoIWlzU3VwcG9ydGVkLnZhbHVlIHx8ICF3YWtlTG9jaylcbiAgICAgIHJldHVybjtcbiAgICBpZiAoZG9jdW1lbnQgJiYgZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBcInZpc2libGVcIilcbiAgICAgIHdha2VMb2NrID0gYXdhaXQgbmF2aWdhdG9yLndha2VMb2NrLnJlcXVlc3QoXCJzY3JlZW5cIik7XG4gICAgaXNBY3RpdmUudmFsdWUgPSAhd2FrZUxvY2sucmVsZWFzZWQ7XG4gIH1cbiAgaWYgKGRvY3VtZW50KVxuICAgIHVzZUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFwidmlzaWJpbGl0eWNoYW5nZVwiLCBvblZpc2liaWxpdHlDaGFuZ2UsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgYXN5bmMgZnVuY3Rpb24gcmVxdWVzdCh0eXBlKSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICB3YWtlTG9jayA9IGF3YWl0IG5hdmlnYXRvci53YWtlTG9jay5yZXF1ZXN0KHR5cGUpO1xuICAgIGlzQWN0aXZlLnZhbHVlID0gIXdha2VMb2NrLnJlbGVhc2VkO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHJlbGVhc2UoKSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSB8fCAhd2FrZUxvY2spXG4gICAgICByZXR1cm47XG4gICAgYXdhaXQgd2FrZUxvY2sucmVsZWFzZSgpO1xuICAgIGlzQWN0aXZlLnZhbHVlID0gIXdha2VMb2NrLnJlbGVhc2VkO1xuICAgIHdha2VMb2NrID0gbnVsbDtcbiAgfVxuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGlzQWN0aXZlLFxuICAgIHJlcXVlc3QsXG4gICAgcmVsZWFzZVxuICB9O1xufTtcblxuY29uc3QgdXNlV2ViTm90aWZpY2F0aW9uID0gKGRlZmF1bHRPcHRpb25zID0ge30pID0+IHtcbiAgY29uc3Qge1xuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3dcbiAgfSA9IGRlZmF1bHRPcHRpb25zO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiAhIXdpbmRvdyAmJiBcIk5vdGlmaWNhdGlvblwiIGluIHdpbmRvdyk7XG4gIGNvbnN0IG5vdGlmaWNhdGlvbiA9IHJlZihudWxsKTtcbiAgY29uc3QgcmVxdWVzdFBlcm1pc3Npb24gPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoXCJwZXJtaXNzaW9uXCIgaW4gTm90aWZpY2F0aW9uICYmIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uICE9PSBcImRlbmllZFwiKVxuICAgICAgYXdhaXQgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCk7XG4gIH07XG4gIGNvbnN0IG9uQ2xpY2sgPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgY29uc3Qgb25TaG93ID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IG9uRXJyb3IgPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgY29uc3Qgb25DbG9zZSA9IGNyZWF0ZUV2ZW50SG9vaygpO1xuICBjb25zdCBzaG93ID0gYXN5bmMgKG92ZXJyaWRlcykgPT4ge1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgYXdhaXQgcmVxdWVzdFBlcm1pc3Npb24oKTtcbiAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIG92ZXJyaWRlcyk7XG4gICAgbm90aWZpY2F0aW9uLnZhbHVlID0gbmV3IE5vdGlmaWNhdGlvbihvcHRpb25zLnRpdGxlIHx8IFwiXCIsIG9wdGlvbnMpO1xuICAgIG5vdGlmaWNhdGlvbi52YWx1ZS5vbmNsaWNrID0gKGV2ZW50KSA9PiBvbkNsaWNrLnRyaWdnZXIoZXZlbnQpO1xuICAgIG5vdGlmaWNhdGlvbi52YWx1ZS5vbnNob3cgPSAoZXZlbnQpID0+IG9uU2hvdy50cmlnZ2VyKGV2ZW50KTtcbiAgICBub3RpZmljYXRpb24udmFsdWUub25lcnJvciA9IChldmVudCkgPT4gb25FcnJvci50cmlnZ2VyKGV2ZW50KTtcbiAgICBub3RpZmljYXRpb24udmFsdWUub25jbG9zZSA9IChldmVudCkgPT4gb25DbG9zZS50cmlnZ2VyKGV2ZW50KTtcbiAgICByZXR1cm4gbm90aWZpY2F0aW9uLnZhbHVlO1xuICB9O1xuICBjb25zdCBjbG9zZSA9ICgpID0+IHtcbiAgICBpZiAobm90aWZpY2F0aW9uLnZhbHVlKVxuICAgICAgbm90aWZpY2F0aW9uLnZhbHVlLmNsb3NlKCk7XG4gICAgbm90aWZpY2F0aW9uLnZhbHVlID0gbnVsbDtcbiAgfTtcbiAgdHJ5T25Nb3VudGVkKGFzeW5jICgpID0+IHtcbiAgICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICBhd2FpdCByZXF1ZXN0UGVybWlzc2lvbigpO1xuICB9KTtcbiAgdHJ5T25TY29wZURpc3Bvc2UoY2xvc2UpO1xuICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUgJiYgd2luZG93KSB7XG4gICAgY29uc3QgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBcInZpc2libGVcIikge1xuICAgICAgICBjbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgbm90aWZpY2F0aW9uLFxuICAgIHNob3csXG4gICAgY2xvc2UsXG4gICAgb25DbGljayxcbiAgICBvblNob3csXG4gICAgb25FcnJvcixcbiAgICBvbkNsb3NlXG4gIH07XG59O1xuXG5jb25zdCBERUZBVUxUX1BJTkdfTUVTU0FHRSA9IFwicGluZ1wiO1xuZnVuY3Rpb24gcmVzb2x2ZU5lc3RlZE9wdGlvbnMob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdHJ1ZSlcbiAgICByZXR1cm4ge307XG4gIHJldHVybiBvcHRpb25zO1xufVxuZnVuY3Rpb24gdXNlV2ViU29ja2V0KHVybCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBvbkNvbm5lY3RlZCxcbiAgICBvbkRpc2Nvbm5lY3RlZCxcbiAgICBvbkVycm9yLFxuICAgIG9uTWVzc2FnZSxcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIGF1dG9DbG9zZSA9IHRydWUsXG4gICAgcHJvdG9jb2xzID0gW11cbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGRhdGEgPSByZWYobnVsbCk7XG4gIGNvbnN0IHN0YXR1cyA9IHJlZihcIkNMT1NFRFwiKTtcbiAgY29uc3Qgd3NSZWYgPSByZWYoKTtcbiAgY29uc3QgdXJsUmVmID0gcmVzb2x2ZVJlZih1cmwpO1xuICBsZXQgaGVhcnRiZWF0UGF1c2U7XG4gIGxldCBoZWFydGJlYXRSZXN1bWU7XG4gIGxldCBleHBsaWNpdGx5Q2xvc2VkID0gZmFsc2U7XG4gIGxldCByZXRyaWVkID0gMDtcbiAgbGV0IGJ1ZmZlcmVkRGF0YSA9IFtdO1xuICBsZXQgcG9uZ1RpbWVvdXRXYWl0O1xuICBjb25zdCBjbG9zZSA9IChjb2RlID0gMWUzLCByZWFzb24pID0+IHtcbiAgICBpZiAoIXdzUmVmLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGV4cGxpY2l0bHlDbG9zZWQgPSB0cnVlO1xuICAgIGhlYXJ0YmVhdFBhdXNlID09IG51bGwgPyB2b2lkIDAgOiBoZWFydGJlYXRQYXVzZSgpO1xuICAgIHdzUmVmLnZhbHVlLmNsb3NlKGNvZGUsIHJlYXNvbik7XG4gIH07XG4gIGNvbnN0IF9zZW5kQnVmZmVyID0gKCkgPT4ge1xuICAgIGlmIChidWZmZXJlZERhdGEubGVuZ3RoICYmIHdzUmVmLnZhbHVlICYmIHN0YXR1cy52YWx1ZSA9PT0gXCJPUEVOXCIpIHtcbiAgICAgIGZvciAoY29uc3QgYnVmZmVyIG9mIGJ1ZmZlcmVkRGF0YSlcbiAgICAgICAgd3NSZWYudmFsdWUuc2VuZChidWZmZXIpO1xuICAgICAgYnVmZmVyZWREYXRhID0gW107XG4gICAgfVxuICB9O1xuICBjb25zdCByZXNldEhlYXJ0YmVhdCA9ICgpID0+IHtcbiAgICBjbGVhclRpbWVvdXQocG9uZ1RpbWVvdXRXYWl0KTtcbiAgICBwb25nVGltZW91dFdhaXQgPSB2b2lkIDA7XG4gIH07XG4gIGNvbnN0IHNlbmQgPSAoZGF0YTIsIHVzZUJ1ZmZlciA9IHRydWUpID0+IHtcbiAgICBpZiAoIXdzUmVmLnZhbHVlIHx8IHN0YXR1cy52YWx1ZSAhPT0gXCJPUEVOXCIpIHtcbiAgICAgIGlmICh1c2VCdWZmZXIpXG4gICAgICAgIGJ1ZmZlcmVkRGF0YS5wdXNoKGRhdGEyKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgX3NlbmRCdWZmZXIoKTtcbiAgICB3c1JlZi52YWx1ZS5zZW5kKGRhdGEyKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgY29uc3QgX2luaXQgPSAoKSA9PiB7XG4gICAgaWYgKGV4cGxpY2l0bHlDbG9zZWQgfHwgdHlwZW9mIHVybFJlZi52YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQodXJsUmVmLnZhbHVlLCBwcm90b2NvbHMpO1xuICAgIHdzUmVmLnZhbHVlID0gd3M7XG4gICAgc3RhdHVzLnZhbHVlID0gXCJDT05ORUNUSU5HXCI7XG4gICAgd3Mub25vcGVuID0gKCkgPT4ge1xuICAgICAgc3RhdHVzLnZhbHVlID0gXCJPUEVOXCI7XG4gICAgICBvbkNvbm5lY3RlZCA9PSBudWxsID8gdm9pZCAwIDogb25Db25uZWN0ZWQod3MpO1xuICAgICAgaGVhcnRiZWF0UmVzdW1lID09IG51bGwgPyB2b2lkIDAgOiBoZWFydGJlYXRSZXN1bWUoKTtcbiAgICAgIF9zZW5kQnVmZmVyKCk7XG4gICAgfTtcbiAgICB3cy5vbmNsb3NlID0gKGV2KSA9PiB7XG4gICAgICBzdGF0dXMudmFsdWUgPSBcIkNMT1NFRFwiO1xuICAgICAgd3NSZWYudmFsdWUgPSB2b2lkIDA7XG4gICAgICBvbkRpc2Nvbm5lY3RlZCA9PSBudWxsID8gdm9pZCAwIDogb25EaXNjb25uZWN0ZWQod3MsIGV2KTtcbiAgICAgIGlmICghZXhwbGljaXRseUNsb3NlZCAmJiBvcHRpb25zLmF1dG9SZWNvbm5lY3QpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHJldHJpZXMgPSAtMSxcbiAgICAgICAgICBkZWxheSA9IDFlMyxcbiAgICAgICAgICBvbkZhaWxlZFxuICAgICAgICB9ID0gcmVzb2x2ZU5lc3RlZE9wdGlvbnMob3B0aW9ucy5hdXRvUmVjb25uZWN0KTtcbiAgICAgICAgcmV0cmllZCArPSAxO1xuICAgICAgICBpZiAodHlwZW9mIHJldHJpZXMgPT09IFwibnVtYmVyXCIgJiYgKHJldHJpZXMgPCAwIHx8IHJldHJpZWQgPCByZXRyaWVzKSlcbiAgICAgICAgICBzZXRUaW1lb3V0KF9pbml0LCBkZWxheSk7XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiByZXRyaWVzID09PSBcImZ1bmN0aW9uXCIgJiYgcmV0cmllcygpKVxuICAgICAgICAgIHNldFRpbWVvdXQoX2luaXQsIGRlbGF5KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIG9uRmFpbGVkID09IG51bGwgPyB2b2lkIDAgOiBvbkZhaWxlZCgpO1xuICAgICAgfVxuICAgIH07XG4gICAgd3Mub25lcnJvciA9IChlKSA9PiB7XG4gICAgICBvbkVycm9yID09IG51bGwgPyB2b2lkIDAgOiBvbkVycm9yKHdzLCBlKTtcbiAgICB9O1xuICAgIHdzLm9ubWVzc2FnZSA9IChlKSA9PiB7XG4gICAgICBpZiAob3B0aW9ucy5oZWFydGJlYXQpIHtcbiAgICAgICAgcmVzZXRIZWFydGJlYXQoKTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIG1lc3NhZ2UgPSBERUZBVUxUX1BJTkdfTUVTU0FHRVxuICAgICAgICB9ID0gcmVzb2x2ZU5lc3RlZE9wdGlvbnMob3B0aW9ucy5oZWFydGJlYXQpO1xuICAgICAgICBpZiAoZS5kYXRhID09PSBtZXNzYWdlKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRhdGEudmFsdWUgPSBlLmRhdGE7XG4gICAgICBvbk1lc3NhZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IG9uTWVzc2FnZSh3cywgZSk7XG4gICAgfTtcbiAgfTtcbiAgaWYgKG9wdGlvbnMuaGVhcnRiZWF0KSB7XG4gICAgY29uc3Qge1xuICAgICAgbWVzc2FnZSA9IERFRkFVTFRfUElOR19NRVNTQUdFLFxuICAgICAgaW50ZXJ2YWwgPSAxZTMsXG4gICAgICBwb25nVGltZW91dCA9IDFlM1xuICAgIH0gPSByZXNvbHZlTmVzdGVkT3B0aW9ucyhvcHRpb25zLmhlYXJ0YmVhdCk7XG4gICAgY29uc3QgeyBwYXVzZSwgcmVzdW1lIH0gPSB1c2VJbnRlcnZhbEZuKCgpID0+IHtcbiAgICAgIHNlbmQobWVzc2FnZSwgZmFsc2UpO1xuICAgICAgaWYgKHBvbmdUaW1lb3V0V2FpdCAhPSBudWxsKVxuICAgICAgICByZXR1cm47XG4gICAgICBwb25nVGltZW91dFdhaXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY2xvc2UoKTtcbiAgICAgIH0sIHBvbmdUaW1lb3V0KTtcbiAgICB9LCBpbnRlcnZhbCwgeyBpbW1lZGlhdGU6IGZhbHNlIH0pO1xuICAgIGhlYXJ0YmVhdFBhdXNlID0gcGF1c2U7XG4gICAgaGVhcnRiZWF0UmVzdW1lID0gcmVzdW1lO1xuICB9XG4gIGlmIChhdXRvQ2xvc2UpIHtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJiZWZvcmV1bmxvYWRcIiwgKCkgPT4gY2xvc2UoKSk7XG4gICAgdHJ5T25TY29wZURpc3Bvc2UoY2xvc2UpO1xuICB9XG4gIGNvbnN0IG9wZW4gPSAoKSA9PiB7XG4gICAgY2xvc2UoKTtcbiAgICBleHBsaWNpdGx5Q2xvc2VkID0gZmFsc2U7XG4gICAgcmV0cmllZCA9IDA7XG4gICAgX2luaXQoKTtcbiAgfTtcbiAgaWYgKGltbWVkaWF0ZSlcbiAgICB3YXRjaCh1cmxSZWYsIG9wZW4sIHsgaW1tZWRpYXRlOiB0cnVlIH0pO1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgc3RhdHVzLFxuICAgIGNsb3NlLFxuICAgIHNlbmQsXG4gICAgb3BlbixcbiAgICB3czogd3NSZWZcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlV2ViV29ya2VyKGFyZzAsIHdvcmtlck9wdGlvbnMsIG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3dcbiAgfSA9IG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMgOiB7fTtcbiAgY29uc3QgZGF0YSA9IHJlZihudWxsKTtcbiAgY29uc3Qgd29ya2VyID0gc2hhbGxvd1JlZigpO1xuICBjb25zdCBwb3N0ID0gZnVuY3Rpb24gcG9zdDIodmFsKSB7XG4gICAgaWYgKCF3b3JrZXIudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgd29ya2VyLnZhbHVlLnBvc3RNZXNzYWdlKHZhbCk7XG4gIH07XG4gIGNvbnN0IHRlcm1pbmF0ZSA9IGZ1bmN0aW9uIHRlcm1pbmF0ZTIoKSB7XG4gICAgaWYgKCF3b3JrZXIudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgd29ya2VyLnZhbHVlLnRlcm1pbmF0ZSgpO1xuICB9O1xuICBpZiAod2luZG93KSB7XG4gICAgaWYgKGlzU3RyaW5nKGFyZzApKVxuICAgICAgd29ya2VyLnZhbHVlID0gbmV3IFdvcmtlcihhcmcwLCB3b3JrZXJPcHRpb25zKTtcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGFyZzApKVxuICAgICAgd29ya2VyLnZhbHVlID0gYXJnMCgpO1xuICAgIGVsc2VcbiAgICAgIHdvcmtlci52YWx1ZSA9IGFyZzA7XG4gICAgd29ya2VyLnZhbHVlLm9ubWVzc2FnZSA9IChlKSA9PiB7XG4gICAgICBkYXRhLnZhbHVlID0gZS5kYXRhO1xuICAgIH07XG4gICAgdHJ5T25TY29wZURpc3Bvc2UoKCkgPT4ge1xuICAgICAgaWYgKHdvcmtlci52YWx1ZSlcbiAgICAgICAgd29ya2VyLnZhbHVlLnRlcm1pbmF0ZSgpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBwb3N0LFxuICAgIHRlcm1pbmF0ZSxcbiAgICB3b3JrZXJcbiAgfTtcbn1cblxuY29uc3Qgam9iUnVubmVyID0gKHVzZXJGdW5jKSA9PiAoZSkgPT4ge1xuICBjb25zdCB1c2VyRnVuY0FyZ3MgPSBlLmRhdGFbMF07XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUodXNlckZ1bmMuYXBwbHkodm9pZCAwLCB1c2VyRnVuY0FyZ3MpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBwb3N0TWVzc2FnZShbXCJTVUNDRVNTXCIsIHJlc3VsdF0pO1xuICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICBwb3N0TWVzc2FnZShbXCJFUlJPUlwiLCBlcnJvcl0pO1xuICB9KTtcbn07XG5cbmNvbnN0IGRlcHNQYXJzZXIgPSAoZGVwcykgPT4ge1xuICBpZiAoZGVwcy5sZW5ndGggPT09IDApXG4gICAgcmV0dXJuIFwiXCI7XG4gIGNvbnN0IGRlcHNTdHJpbmcgPSBkZXBzLm1hcCgoZGVwKSA9PiBgJyR7ZGVwfSdgKS50b1N0cmluZygpO1xuICByZXR1cm4gYGltcG9ydFNjcmlwdHMoJHtkZXBzU3RyaW5nfSlgO1xufTtcblxuY29uc3QgY3JlYXRlV29ya2VyQmxvYlVybCA9IChmbiwgZGVwcykgPT4ge1xuICBjb25zdCBibG9iQ29kZSA9IGAke2RlcHNQYXJzZXIoZGVwcyl9OyBvbm1lc3NhZ2U9KCR7am9iUnVubmVyfSkoJHtmbn0pYDtcbiAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtibG9iQ29kZV0sIHsgdHlwZTogXCJ0ZXh0L2phdmFzY3JpcHRcIiB9KTtcbiAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgcmV0dXJuIHVybDtcbn07XG5cbmNvbnN0IHVzZVdlYldvcmtlckZuID0gKGZuLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3Qge1xuICAgIGRlcGVuZGVuY2llcyA9IFtdLFxuICAgIHRpbWVvdXQsXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgd29ya2VyID0gcmVmKCk7XG4gIGNvbnN0IHdvcmtlclN0YXR1cyA9IHJlZihcIlBFTkRJTkdcIik7XG4gIGNvbnN0IHByb21pc2UgPSByZWYoe30pO1xuICBjb25zdCB0aW1lb3V0SWQgPSByZWYoKTtcbiAgY29uc3Qgd29ya2VyVGVybWluYXRlID0gKHN0YXR1cyA9IFwiUEVORElOR1wiKSA9PiB7XG4gICAgaWYgKHdvcmtlci52YWx1ZSAmJiB3b3JrZXIudmFsdWUuX3VybCAmJiB3aW5kb3cpIHtcbiAgICAgIHdvcmtlci52YWx1ZS50ZXJtaW5hdGUoKTtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwod29ya2VyLnZhbHVlLl91cmwpO1xuICAgICAgcHJvbWlzZS52YWx1ZSA9IHt9O1xuICAgICAgd29ya2VyLnZhbHVlID0gdm9pZCAwO1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0SWQudmFsdWUpO1xuICAgICAgd29ya2VyU3RhdHVzLnZhbHVlID0gc3RhdHVzO1xuICAgIH1cbiAgfTtcbiAgd29ya2VyVGVybWluYXRlKCk7XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHdvcmtlclRlcm1pbmF0ZSk7XG4gIGNvbnN0IGdlbmVyYXRlV29ya2VyID0gKCkgPT4ge1xuICAgIGNvbnN0IGJsb2JVcmwgPSBjcmVhdGVXb3JrZXJCbG9iVXJsKGZuLCBkZXBlbmRlbmNpZXMpO1xuICAgIGNvbnN0IG5ld1dvcmtlciA9IG5ldyBXb3JrZXIoYmxvYlVybCk7XG4gICAgbmV3V29ya2VyLl91cmwgPSBibG9iVXJsO1xuICAgIG5ld1dvcmtlci5vbm1lc3NhZ2UgPSAoZSkgPT4ge1xuICAgICAgY29uc3QgeyByZXNvbHZlID0gKCkgPT4ge1xuICAgICAgfSwgcmVqZWN0ID0gKCkgPT4ge1xuICAgICAgfSB9ID0gcHJvbWlzZS52YWx1ZTtcbiAgICAgIGNvbnN0IFtzdGF0dXMsIHJlc3VsdF0gPSBlLmRhdGE7XG4gICAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgICBjYXNlIFwiU1VDQ0VTU1wiOlxuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICB3b3JrZXJUZXJtaW5hdGUoc3RhdHVzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWplY3QocmVzdWx0KTtcbiAgICAgICAgICB3b3JrZXJUZXJtaW5hdGUoXCJFUlJPUlwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9O1xuICAgIG5ld1dvcmtlci5vbmVycm9yID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVqZWN0ID0gKCkgPT4ge1xuICAgICAgfSB9ID0gcHJvbWlzZS52YWx1ZTtcbiAgICAgIHJlamVjdChlKTtcbiAgICAgIHdvcmtlclRlcm1pbmF0ZShcIkVSUk9SXCIpO1xuICAgIH07XG4gICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgIHRpbWVvdXRJZC52YWx1ZSA9IHNldFRpbWVvdXQoKCkgPT4gd29ya2VyVGVybWluYXRlKFwiVElNRU9VVF9FWFBJUkVEXCIpLCB0aW1lb3V0KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld1dvcmtlcjtcbiAgfTtcbiAgY29uc3QgY2FsbFdvcmtlciA9ICguLi5mbkFyZ3MpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBwcm9taXNlLnZhbHVlID0ge1xuICAgICAgcmVzb2x2ZSxcbiAgICAgIHJlamVjdFxuICAgIH07XG4gICAgd29ya2VyLnZhbHVlICYmIHdvcmtlci52YWx1ZS5wb3N0TWVzc2FnZShbWy4uLmZuQXJnc11dKTtcbiAgICB3b3JrZXJTdGF0dXMudmFsdWUgPSBcIlJVTk5JTkdcIjtcbiAgfSk7XG4gIGNvbnN0IHdvcmtlckZuID0gKC4uLmZuQXJncykgPT4ge1xuICAgIGlmICh3b3JrZXJTdGF0dXMudmFsdWUgPT09IFwiUlVOTklOR1wiKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW3VzZVdlYldvcmtlckZuXSBZb3UgY2FuIG9ubHkgcnVuIG9uZSBpbnN0YW5jZSBvZiB0aGUgd29ya2VyIGF0IGEgdGltZS5cIik7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICB9XG4gICAgd29ya2VyLnZhbHVlID0gZ2VuZXJhdGVXb3JrZXIoKTtcbiAgICByZXR1cm4gY2FsbFdvcmtlciguLi5mbkFyZ3MpO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHdvcmtlckZuLFxuICAgIHdvcmtlclN0YXR1cyxcbiAgICB3b3JrZXJUZXJtaW5hdGVcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIHVzZVdpbmRvd0ZvY3VzKHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdyB9ID0ge30pIHtcbiAgaWYgKCF3aW5kb3cpXG4gICAgcmV0dXJuIHJlZihmYWxzZSk7XG4gIGNvbnN0IGZvY3VzZWQgPSByZWYod2luZG93LmRvY3VtZW50Lmhhc0ZvY3VzKCkpO1xuICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJibHVyXCIsICgpID0+IHtcbiAgICBmb2N1c2VkLnZhbHVlID0gZmFsc2U7XG4gIH0pO1xuICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJmb2N1c1wiLCAoKSA9PiB7XG4gICAgZm9jdXNlZC52YWx1ZSA9IHRydWU7XG4gIH0pO1xuICByZXR1cm4gZm9jdXNlZDtcbn1cblxuZnVuY3Rpb24gdXNlV2luZG93U2Nyb2xsKHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdyB9ID0ge30pIHtcbiAgaWYgKCF3aW5kb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogcmVmKDApLFxuICAgICAgeTogcmVmKDApXG4gICAgfTtcbiAgfVxuICBjb25zdCB4ID0gcmVmKHdpbmRvdy5zY3JvbGxYKTtcbiAgY29uc3QgeSA9IHJlZih3aW5kb3cuc2Nyb2xsWSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcInNjcm9sbFwiLCAoKSA9PiB7XG4gICAgeC52YWx1ZSA9IHdpbmRvdy5zY3JvbGxYO1xuICAgIHkudmFsdWUgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgfSwge1xuICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgIHBhc3NpdmU6IHRydWVcbiAgfSk7XG4gIHJldHVybiB7IHgsIHkgfTtcbn1cblxuZnVuY3Rpb24gdXNlV2luZG93U2l6ZShvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgaW5pdGlhbFdpZHRoID0gSW5maW5pdHksXG4gICAgaW5pdGlhbEhlaWdodCA9IEluZmluaXR5LFxuICAgIGxpc3Rlbk9yaWVudGF0aW9uID0gdHJ1ZSxcbiAgICBpbmNsdWRlU2Nyb2xsYmFyID0gdHJ1ZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgd2lkdGggPSByZWYoaW5pdGlhbFdpZHRoKTtcbiAgY29uc3QgaGVpZ2h0ID0gcmVmKGluaXRpYWxIZWlnaHQpO1xuICBjb25zdCB1cGRhdGUgPSAoKSA9PiB7XG4gICAgaWYgKHdpbmRvdykge1xuICAgICAgaWYgKGluY2x1ZGVTY3JvbGxiYXIpIHtcbiAgICAgICAgd2lkdGgudmFsdWUgPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgaGVpZ2h0LnZhbHVlID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGgudmFsdWUgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgICAgICBoZWlnaHQudmFsdWUgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHVwZGF0ZSgpO1xuICB0cnlPbk1vdW50ZWQodXBkYXRlKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1cGRhdGUsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgaWYgKGxpc3Rlbk9yaWVudGF0aW9uKVxuICAgIHVzZUV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCB1cGRhdGUsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgcmV0dXJuIHsgd2lkdGgsIGhlaWdodCB9O1xufVxuXG5leHBvcnQgeyBEZWZhdWx0TWFnaWNLZXlzQWxpYXNNYXAsIFN0b3JhZ2VTZXJpYWxpemVycywgU3dpcGVEaXJlY3Rpb24sIFRyYW5zaXRpb25QcmVzZXRzLCBjb21wdXRlZEFzeW5jIGFzIGFzeW5jQ29tcHV0ZWQsIGJyZWFrcG9pbnRzQW50RGVzaWduLCBicmVha3BvaW50c0Jvb3RzdHJhcFY1LCBicmVha3BvaW50c01hc3RlckNzcywgYnJlYWtwb2ludHNRdWFzYXIsIGJyZWFrcG9pbnRzU2VtYXRpYywgYnJlYWtwb2ludHNUYWlsd2luZCwgYnJlYWtwb2ludHNWdWV0aWZ5LCBjbG9uZUZuSlNPTiwgY29tcHV0ZWRBc3luYywgY29tcHV0ZWRJbmplY3QsIGNyZWF0ZUZldGNoLCBjcmVhdGVVbnJlZkZuLCBjdXN0b21TdG9yYWdlRXZlbnROYW1lLCBkZWZhdWx0RG9jdW1lbnQsIGRlZmF1bHRMb2NhdGlvbiwgZGVmYXVsdE5hdmlnYXRvciwgZGVmYXVsdFdpbmRvdywgZm9ybWF0VGltZUFnbywgZ2V0U1NSSGFuZGxlciwgbWFwR2FtZXBhZFRvWGJveDM2MENvbnRyb2xsZXIsIG9uQ2xpY2tPdXRzaWRlLCBvbktleURvd24sIG9uS2V5UHJlc3NlZCwgb25LZXlTdHJva2UsIG9uS2V5VXAsIG9uTG9uZ1ByZXNzLCBvblN0YXJ0VHlwaW5nLCBzZXRTU1JIYW5kbGVyLCB0ZW1wbGF0ZVJlZiwgdW5yZWZFbGVtZW50LCB1c2VBY3RpdmVFbGVtZW50LCB1c2VBc3luY1F1ZXVlLCB1c2VBc3luY1N0YXRlLCB1c2VCYXNlNjQsIHVzZUJhdHRlcnksIHVzZUJsdWV0b290aCwgdXNlQnJlYWtwb2ludHMsIHVzZUJyb2FkY2FzdENoYW5uZWwsIHVzZUJyb3dzZXJMb2NhdGlvbiwgdXNlQ2FjaGVkLCB1c2VDbGlwYm9hcmQsIHVzZUNsb25lZCwgdXNlQ29sb3JNb2RlLCB1c2VDb25maXJtRGlhbG9nLCB1c2VDc3NWYXIsIHVzZUN1cnJlbnRFbGVtZW50LCB1c2VDeWNsZUxpc3QsIHVzZURhcmssIHVzZURlYm91bmNlZFJlZkhpc3RvcnksIHVzZURldmljZU1vdGlvbiwgdXNlRGV2aWNlT3JpZW50YXRpb24sIHVzZURldmljZVBpeGVsUmF0aW8sIHVzZURldmljZXNMaXN0LCB1c2VEaXNwbGF5TWVkaWEsIHVzZURvY3VtZW50VmlzaWJpbGl0eSwgdXNlRHJhZ2dhYmxlLCB1c2VEcm9wWm9uZSwgdXNlRWxlbWVudEJvdW5kaW5nLCB1c2VFbGVtZW50QnlQb2ludCwgdXNlRWxlbWVudEhvdmVyLCB1c2VFbGVtZW50U2l6ZSwgdXNlRWxlbWVudFZpc2liaWxpdHksIHVzZUV2ZW50QnVzLCB1c2VFdmVudExpc3RlbmVyLCB1c2VFdmVudFNvdXJjZSwgdXNlRXllRHJvcHBlciwgdXNlRmF2aWNvbiwgdXNlRmV0Y2gsIHVzZUZpbGVEaWFsb2csIHVzZUZpbGVTeXN0ZW1BY2Nlc3MsIHVzZUZvY3VzLCB1c2VGb2N1c1dpdGhpbiwgdXNlRnBzLCB1c2VGdWxsc2NyZWVuLCB1c2VHYW1lcGFkLCB1c2VHZW9sb2NhdGlvbiwgdXNlSWRsZSwgdXNlSW1hZ2UsIHVzZUluZmluaXRlU2Nyb2xsLCB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciwgdXNlS2V5TW9kaWZpZXIsIHVzZUxvY2FsU3RvcmFnZSwgdXNlTWFnaWNLZXlzLCB1c2VNYW51YWxSZWZIaXN0b3J5LCB1c2VNZWRpYUNvbnRyb2xzLCB1c2VNZWRpYVF1ZXJ5LCB1c2VNZW1vaXplLCB1c2VNZW1vcnksIHVzZU1vdW50ZWQsIHVzZU1vdXNlLCB1c2VNb3VzZUluRWxlbWVudCwgdXNlTW91c2VQcmVzc2VkLCB1c2VNdXRhdGlvbk9ic2VydmVyLCB1c2VOYXZpZ2F0b3JMYW5ndWFnZSwgdXNlTmV0d29yaywgdXNlTm93LCB1c2VPYmplY3RVcmwsIHVzZU9mZnNldFBhZ2luYXRpb24sIHVzZU9ubGluZSwgdXNlUGFnZUxlYXZlLCB1c2VQYXJhbGxheCwgdXNlUGVybWlzc2lvbiwgdXNlUG9pbnRlciwgdXNlUG9pbnRlckxvY2ssIHVzZVBvaW50ZXJTd2lwZSwgdXNlUHJlZmVycmVkQ29sb3JTY2hlbWUsIHVzZVByZWZlcnJlZENvbnRyYXN0LCB1c2VQcmVmZXJyZWREYXJrLCB1c2VQcmVmZXJyZWRMYW5ndWFnZXMsIHVzZVByZWZlcnJlZFJlZHVjZWRNb3Rpb24sIHVzZVByZXZpb3VzLCB1c2VSYWZGbiwgdXNlUmVmSGlzdG9yeSwgdXNlUmVzaXplT2JzZXJ2ZXIsIHVzZVNjcmVlbk9yaWVudGF0aW9uLCB1c2VTY3JlZW5TYWZlQXJlYSwgdXNlU2NyaXB0VGFnLCB1c2VTY3JvbGwsIHVzZVNjcm9sbExvY2ssIHVzZVNlc3Npb25TdG9yYWdlLCB1c2VTaGFyZSwgdXNlU29ydGVkLCB1c2VTcGVlY2hSZWNvZ25pdGlvbiwgdXNlU3BlZWNoU3ludGhlc2lzLCB1c2VTdGVwcGVyLCB1c2VTdG9yYWdlLCB1c2VTdG9yYWdlQXN5bmMsIHVzZVN0eWxlVGFnLCB1c2VTdXBwb3J0ZWQsIHVzZVN3aXBlLCB1c2VUZW1wbGF0ZVJlZnNMaXN0LCB1c2VUZXh0RGlyZWN0aW9uLCB1c2VUZXh0U2VsZWN0aW9uLCB1c2VUZXh0YXJlYUF1dG9zaXplLCB1c2VUaHJvdHRsZWRSZWZIaXN0b3J5LCB1c2VUaW1lQWdvLCB1c2VUaW1lb3V0UG9sbCwgdXNlVGltZXN0YW1wLCB1c2VUaXRsZSwgdXNlVHJhbnNpdGlvbiwgdXNlVXJsU2VhcmNoUGFyYW1zLCB1c2VVc2VyTWVkaWEsIHVzZVZNb2RlbCwgdXNlVk1vZGVscywgdXNlVmlicmF0ZSwgdXNlVmlydHVhbExpc3QsIHVzZVdha2VMb2NrLCB1c2VXZWJOb3RpZmljYXRpb24sIHVzZVdlYlNvY2tldCwgdXNlV2ViV29ya2VyLCB1c2VXZWJXb3JrZXJGbiwgdXNlV2luZG93Rm9jdXMsIHVzZVdpbmRvd1Njcm9sbCwgdXNlV2luZG93U2l6ZSB9O1xuIiwiLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuZXhwb3J0IGRlZmF1bHQgZnJlZUdsb2JhbDtcbiIsImltcG9ydCBmcmVlR2xvYmFsIGZyb20gJy4vX2ZyZWVHbG9iYWwuanMnO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvb3Q7XG4iLCJpbXBvcnQgcm9vdCBmcm9tICcuL19yb290LmpzJztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cbmV4cG9ydCBkZWZhdWx0IFN5bWJvbDtcbiIsImltcG9ydCBTeW1ib2wgZnJvbSAnLi9fU3ltYm9sLmpzJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBnZXRSYXdUYWc7XG4iLCIvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgb2JqZWN0VG9TdHJpbmc7XG4iLCJpbXBvcnQgU3ltYm9sIGZyb20gJy4vX1N5bWJvbC5qcyc7XG5pbXBvcnQgZ2V0UmF3VGFnIGZyb20gJy4vX2dldFJhd1RhZy5qcyc7XG5pbXBvcnQgb2JqZWN0VG9TdHJpbmcgZnJvbSAnLi9fb2JqZWN0VG9TdHJpbmcuanMnO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYmFzZUdldFRhZztcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc09iamVjdExpa2U7XG4iLCJpbXBvcnQgYmFzZUdldFRhZyBmcm9tICcuL19iYXNlR2V0VGFnLmpzJztcbmltcG9ydCBpc09iamVjdExpa2UgZnJvbSAnLi9pc09iamVjdExpa2UuanMnO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlzU3ltYm9sO1xuIiwiLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXJyYXlNYXA7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuZXhwb3J0IGRlZmF1bHQgaXNBcnJheTtcbiIsImltcG9ydCBTeW1ib2wgZnJvbSAnLi9fU3ltYm9sLmpzJztcbmltcG9ydCBhcnJheU1hcCBmcm9tICcuL19hcnJheU1hcC5qcyc7XG5pbXBvcnQgaXNBcnJheSBmcm9tICcuL2lzQXJyYXkuanMnO1xuaW1wb3J0IGlzU3ltYm9sIGZyb20gJy4vaXNTeW1ib2wuanMnO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBiYXNlVG9TdHJpbmc7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNPYmplY3Q7XG4iLCJpbXBvcnQgYmFzZUdldFRhZyBmcm9tICcuL19iYXNlR2V0VGFnLmpzJztcbmltcG9ydCBpc09iamVjdCBmcm9tICcuL2lzT2JqZWN0LmpzJztcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNGdW5jdGlvbjtcbiIsImltcG9ydCByb290IGZyb20gJy4vX3Jvb3QuanMnO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG5leHBvcnQgZGVmYXVsdCBjb3JlSnNEYXRhO1xuIiwiaW1wb3J0IGNvcmVKc0RhdGEgZnJvbSAnLi9fY29yZUpzRGF0YS5qcyc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlzTWFza2VkO1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG5leHBvcnQgZGVmYXVsdCB0b1NvdXJjZTtcbiIsImltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJy4vaXNGdW5jdGlvbi5qcyc7XG5pbXBvcnQgaXNNYXNrZWQgZnJvbSAnLi9faXNNYXNrZWQuanMnO1xuaW1wb3J0IGlzT2JqZWN0IGZyb20gJy4vaXNPYmplY3QuanMnO1xuaW1wb3J0IHRvU291cmNlIGZyb20gJy4vX3RvU291cmNlLmpzJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYmFzZUlzTmF0aXZlO1xuIiwiLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldFZhbHVlO1xuIiwiaW1wb3J0IGJhc2VJc05hdGl2ZSBmcm9tICcuL19iYXNlSXNOYXRpdmUuanMnO1xuaW1wb3J0IGdldFZhbHVlIGZyb20gJy4vX2dldFZhbHVlLmpzJztcblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0TmF0aXZlO1xuIiwiLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGVxO1xuIiwiaW1wb3J0IGlzQXJyYXkgZnJvbSAnLi9pc0FycmF5LmpzJztcbmltcG9ydCBpc1N5bWJvbCBmcm9tICcuL2lzU3ltYm9sLmpzJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc0tleTtcbiIsImltcG9ydCBnZXROYXRpdmUgZnJvbSAnLi9fZ2V0TmF0aXZlLmpzJztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuZXhwb3J0IGRlZmF1bHQgbmF0aXZlQ3JlYXRlO1xuIiwiaW1wb3J0IG5hdGl2ZUNyZWF0ZSBmcm9tICcuL19uYXRpdmVDcmVhdGUuanMnO1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaGFzaENsZWFyO1xuIiwiLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaGFzaERlbGV0ZTtcbiIsImltcG9ydCBuYXRpdmVDcmVhdGUgZnJvbSAnLi9fbmF0aXZlQ3JlYXRlLmpzJztcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBoYXNoR2V0O1xuIiwiaW1wb3J0IG5hdGl2ZUNyZWF0ZSBmcm9tICcuL19uYXRpdmVDcmVhdGUuanMnO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGhhc2hIYXM7XG4iLCJpbXBvcnQgbmF0aXZlQ3JlYXRlIGZyb20gJy4vX25hdGl2ZUNyZWF0ZS5qcyc7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG5leHBvcnQgZGVmYXVsdCBoYXNoU2V0O1xuIiwiaW1wb3J0IGhhc2hDbGVhciBmcm9tICcuL19oYXNoQ2xlYXIuanMnO1xuaW1wb3J0IGhhc2hEZWxldGUgZnJvbSAnLi9faGFzaERlbGV0ZS5qcyc7XG5pbXBvcnQgaGFzaEdldCBmcm9tICcuL19oYXNoR2V0LmpzJztcbmltcG9ydCBoYXNoSGFzIGZyb20gJy4vX2hhc2hIYXMuanMnO1xuaW1wb3J0IGhhc2hTZXQgZnJvbSAnLi9faGFzaFNldC5qcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG5leHBvcnQgZGVmYXVsdCBIYXNoO1xuIiwiLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG5leHBvcnQgZGVmYXVsdCBsaXN0Q2FjaGVDbGVhcjtcbiIsImltcG9ydCBlcSBmcm9tICcuL2VxLmpzJztcblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXNzb2NJbmRleE9mO1xuIiwiaW1wb3J0IGFzc29jSW5kZXhPZiBmcm9tICcuL19hc3NvY0luZGV4T2YuanMnO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2U7XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICAtLXRoaXMuc2l6ZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGxpc3RDYWNoZURlbGV0ZTtcbiIsImltcG9ydCBhc3NvY0luZGV4T2YgZnJvbSAnLi9fYXNzb2NJbmRleE9mLmpzJztcblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbGlzdENhY2hlR2V0O1xuIiwiaW1wb3J0IGFzc29jSW5kZXhPZiBmcm9tICcuL19hc3NvY0luZGV4T2YuanMnO1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbGlzdENhY2hlSGFzO1xuIiwiaW1wb3J0IGFzc29jSW5kZXhPZiBmcm9tICcuL19hc3NvY0luZGV4T2YuanMnO1xuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgICsrdGhpcy5zaXplO1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGxpc3RDYWNoZVNldDtcbiIsImltcG9ydCBsaXN0Q2FjaGVDbGVhciBmcm9tICcuL19saXN0Q2FjaGVDbGVhci5qcyc7XG5pbXBvcnQgbGlzdENhY2hlRGVsZXRlIGZyb20gJy4vX2xpc3RDYWNoZURlbGV0ZS5qcyc7XG5pbXBvcnQgbGlzdENhY2hlR2V0IGZyb20gJy4vX2xpc3RDYWNoZUdldC5qcyc7XG5pbXBvcnQgbGlzdENhY2hlSGFzIGZyb20gJy4vX2xpc3RDYWNoZUhhcy5qcyc7XG5pbXBvcnQgbGlzdENhY2hlU2V0IGZyb20gJy4vX2xpc3RDYWNoZVNldC5qcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuZXhwb3J0IGRlZmF1bHQgTGlzdENhY2hlO1xuIiwiaW1wb3J0IGdldE5hdGl2ZSBmcm9tICcuL19nZXROYXRpdmUuanMnO1xuaW1wb3J0IHJvb3QgZnJvbSAnLi9fcm9vdC5qcyc7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpO1xuXG5leHBvcnQgZGVmYXVsdCBNYXA7XG4iLCJpbXBvcnQgSGFzaCBmcm9tICcuL19IYXNoLmpzJztcbmltcG9ydCBMaXN0Q2FjaGUgZnJvbSAnLi9fTGlzdENhY2hlLmpzJztcbmltcG9ydCBNYXAgZnJvbSAnLi9fTWFwLmpzJztcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBtYXBDYWNoZUNsZWFyO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc0tleWFibGU7XG4iLCJpbXBvcnQgaXNLZXlhYmxlIGZyb20gJy4vX2lzS2V5YWJsZS5qcyc7XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0TWFwRGF0YTtcbiIsImltcG9ydCBnZXRNYXBEYXRhIGZyb20gJy4vX2dldE1hcERhdGEuanMnO1xuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFwQ2FjaGVEZWxldGU7XG4iLCJpbXBvcnQgZ2V0TWFwRGF0YSBmcm9tICcuL19nZXRNYXBEYXRhLmpzJztcblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtYXBDYWNoZUdldDtcbiIsImltcG9ydCBnZXRNYXBEYXRhIGZyb20gJy4vX2dldE1hcERhdGEuanMnO1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtYXBDYWNoZUhhcztcbiIsImltcG9ydCBnZXRNYXBEYXRhIGZyb20gJy4vX2dldE1hcERhdGEuanMnO1xuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1hcENhY2hlU2V0O1xuIiwiaW1wb3J0IG1hcENhY2hlQ2xlYXIgZnJvbSAnLi9fbWFwQ2FjaGVDbGVhci5qcyc7XG5pbXBvcnQgbWFwQ2FjaGVEZWxldGUgZnJvbSAnLi9fbWFwQ2FjaGVEZWxldGUuanMnO1xuaW1wb3J0IG1hcENhY2hlR2V0IGZyb20gJy4vX21hcENhY2hlR2V0LmpzJztcbmltcG9ydCBtYXBDYWNoZUhhcyBmcm9tICcuL19tYXBDYWNoZUhhcy5qcyc7XG5pbXBvcnQgbWFwQ2FjaGVTZXQgZnJvbSAnLi9fbWFwQ2FjaGVTZXQuanMnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuZXhwb3J0IGRlZmF1bHQgTWFwQ2FjaGU7XG4iLCJpbXBvcnQgTWFwQ2FjaGUgZnJvbSAnLi9fTWFwQ2FjaGUuanMnO1xuXG4vKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gKiBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZmlyc3QgYXJndW1lbnRcbiAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAqIGNvbnN0cnVjdG9yIHdpdGggb25lIHdob3NlIGluc3RhbmNlcyBpbXBsZW1lbnQgdGhlXG4gKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICogbWV0aG9kIGludGVyZmFjZSBvZiBgY2xlYXJgLCBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAqXG4gKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogdmFsdWVzKG90aGVyKTtcbiAqIC8vID0+IFszLCA0XVxuICpcbiAqIG9iamVjdC5hID0gMjtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogLy8gTW9kaWZ5IHRoZSByZXN1bHQgY2FjaGUuXG4gKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsnYScsICdiJ11cbiAqXG4gKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICogXy5tZW1vaXplLkNhY2hlID0gV2Vha01hcDtcbiAqL1xuZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJyB8fCAocmVzb2x2ZXIgIT0gbnVsbCAmJiB0eXBlb2YgcmVzb2x2ZXIgIT0gJ2Z1bmN0aW9uJykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJncykgOiBhcmdzWzBdLFxuICAgICAgICBjYWNoZSA9IG1lbW9pemVkLmNhY2hlO1xuXG4gICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KSB8fCBjYWNoZTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG4gIHJldHVybiBtZW1vaXplZDtcbn1cblxuLy8gRXhwb3NlIGBNYXBDYWNoZWAuXG5tZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbmV4cG9ydCBkZWZhdWx0IG1lbW9pemU7XG4iLCJpbXBvcnQgbWVtb2l6ZSBmcm9tICcuL21lbW9pemUuanMnO1xuXG4vKiogVXNlZCBhcyB0aGUgbWF4aW11bSBtZW1vaXplIGNhY2hlIHNpemUuICovXG52YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG4gKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG4gIHZhciByZXN1bHQgPSBtZW1vaXplKGZ1bmMsIGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG4gICAgICBjYWNoZS5jbGVhcigpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9KTtcblxuICB2YXIgY2FjaGUgPSByZXN1bHQuY2FjaGU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1lbW9pemVDYXBwZWQ7XG4iLCJpbXBvcnQgbWVtb2l6ZUNhcHBlZCBmcm9tICcuL19tZW1vaXplQ2FwcGVkLmpzJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4vKipcbiAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKi9cbnZhciBzdHJpbmdUb1BhdGggPSBtZW1vaXplQ2FwcGVkKGZ1bmN0aW9uKHN0cmluZykge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGlmIChzdHJpbmcuY2hhckNvZGVBdCgwKSA9PT0gNDYgLyogLiAqLykge1xuICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgfVxuICBzdHJpbmcucmVwbGFjZShyZVByb3BOYW1lLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG4gICAgcmVzdWx0LnB1c2gocXVvdGUgPyBzdWJTdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsICckMScpIDogKG51bWJlciB8fCBtYXRjaCkpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdUb1BhdGg7XG4iLCJpbXBvcnQgYmFzZVRvU3RyaW5nIGZyb20gJy4vX2Jhc2VUb1N0cmluZy5qcyc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdG9TdHJpbmc7XG4iLCJpbXBvcnQgaXNBcnJheSBmcm9tICcuL2lzQXJyYXkuanMnO1xuaW1wb3J0IGlzS2V5IGZyb20gJy4vX2lzS2V5LmpzJztcbmltcG9ydCBzdHJpbmdUb1BhdGggZnJvbSAnLi9fc3RyaW5nVG9QYXRoLmpzJztcbmltcG9ydCB0b1N0cmluZyBmcm9tICcuL3RvU3RyaW5nLmpzJztcblxuLyoqXG4gKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGNhc3RQYXRoKHZhbHVlLCBvYmplY3QpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHJldHVybiBpc0tleSh2YWx1ZSwgb2JqZWN0KSA/IFt2YWx1ZV0gOiBzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2FzdFBhdGg7XG4iLCJpbXBvcnQgaXNTeW1ib2wgZnJvbSAnLi9pc1N5bWJvbC5qcyc7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIElORklOSVRZID0gMSAvIDA7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAqL1xuZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG5leHBvcnQgZGVmYXVsdCB0b0tleTtcbiIsImltcG9ydCBjYXN0UGF0aCBmcm9tICcuL19jYXN0UGF0aC5qcyc7XG5pbXBvcnQgdG9LZXkgZnJvbSAnLi9fdG9LZXkuanMnO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmdldGAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWZhdWx0IHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgdmFyIGluZGV4ID0gMCxcbiAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gIHdoaWxlIChvYmplY3QgIT0gbnVsbCAmJiBpbmRleCA8IGxlbmd0aCkge1xuICAgIG9iamVjdCA9IG9iamVjdFt0b0tleShwYXRoW2luZGV4KytdKV07XG4gIH1cbiAgcmV0dXJuIChpbmRleCAmJiBpbmRleCA9PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBiYXNlR2V0O1xuIiwiaW1wb3J0IGJhc2VHZXQgZnJvbSAnLi9fYmFzZUdldC5qcyc7XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAqIGB1bmRlZmluZWRgLCB0aGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaW4gaXRzIHBsYWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy43LjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICpcbiAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gKiAvLyA9PiAzXG4gKlxuICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gKiAvLyA9PiAzXG4gKlxuICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICogLy8gPT4gJ2RlZmF1bHQnXG4gKi9cbmZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgcmVzdWx0ID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0O1xuIiwiLyoqXG4gKiBUaGUgaW52ZXJzZSBvZiBgXy50b1BhaXJzYDsgdGhpcyBtZXRob2QgcmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWRcbiAqIGZyb20ga2V5LXZhbHVlIGBwYWlyc2AuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IEFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUga2V5LXZhbHVlIHBhaXJzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5mcm9tUGFpcnMoW1snYScsIDFdLCBbJ2InLCAyXV0pO1xuICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gKi9cbmZ1bmN0aW9uIGZyb21QYWlycyhwYWlycykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHBhaXJzID09IG51bGwgPyAwIDogcGFpcnMubGVuZ3RoLFxuICAgICAgcmVzdWx0ID0ge307XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICByZXN1bHRbcGFpclswXV0gPSBwYWlyWzFdO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZyb21QYWlycztcbiIsImltcG9ydCB7IGlzQXJyYXksIGlzT2JqZWN0LCBpc1N0cmluZyB9IGZyb20gJ0B2dWUvc2hhcmVkJztcbmV4cG9ydCB7IGlzQXJyYXksIGlzRGF0ZSwgaXNGdW5jdGlvbiwgaXNPYmplY3QsIGlzUHJvbWlzZSwgaXNTdHJpbmcsIGlzU3ltYm9sIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuaW1wb3J0IHsgaXNOaWwgfSBmcm9tICdsb2Rhc2gtdW5pZmllZCc7XG5leHBvcnQgeyBpc1ZOb2RlIH0gZnJvbSAndnVlJztcblxuY29uc3QgaXNVbmRlZmluZWQgPSAodmFsKSA9PiB2YWwgPT09IHZvaWQgMDtcbmNvbnN0IGlzQm9vbGVhbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwiYm9vbGVhblwiO1xuY29uc3QgaXNOdW1iZXIgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiO1xuY29uc3QgaXNFbXB0eSA9ICh2YWwpID0+ICF2YWwgJiYgdmFsICE9PSAwIHx8IGlzQXJyYXkodmFsKSAmJiB2YWwubGVuZ3RoID09PSAwIHx8IGlzT2JqZWN0KHZhbCkgJiYgIU9iamVjdC5rZXlzKHZhbCkubGVuZ3RoO1xuY29uc3QgaXNFbGVtZW50ID0gKGUpID0+IHtcbiAgaWYgKHR5cGVvZiBFbGVtZW50ID09PSBcInVuZGVmaW5lZFwiKVxuICAgIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGUgaW5zdGFuY2VvZiBFbGVtZW50O1xufTtcbmNvbnN0IGlzUHJvcEFic2VudCA9IChwcm9wKSA9PiB7XG4gIHJldHVybiBpc05pbChwcm9wKTtcbn07XG5jb25zdCBpc1N0cmluZ051bWJlciA9ICh2YWwpID0+IHtcbiAgaWYgKCFpc1N0cmluZyh2YWwpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAhTnVtYmVyLmlzTmFOKE51bWJlcih2YWwpKTtcbn07XG5jb25zdCBpc1dpbmRvdyA9ICh2YWwpID0+IHtcbiAgcmV0dXJuIHZhbCA9PT0gd2luZG93O1xufTtcblxuZXhwb3J0IHsgaXNCb29sZWFuLCBpc0VsZW1lbnQsIGlzRW1wdHksIGlzTnVtYmVyLCBpc1Byb3BBYnNlbnQsIGlzU3RyaW5nTnVtYmVyLCBpc1VuZGVmaW5lZCwgaXNXaW5kb3cgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLm1qcy5tYXBcbiIsImltcG9ydCB7IGdldCwgc2V0IH0gZnJvbSAnbG9kYXNoLXVuaWZpZWQnO1xuZXhwb3J0IHsgaGFzT3duIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5jb25zdCBrZXlzT2YgPSAoYXJyKSA9PiBPYmplY3Qua2V5cyhhcnIpO1xuY29uc3QgZW50cmllc09mID0gKGFycikgPT4gT2JqZWN0LmVudHJpZXMoYXJyKTtcbmNvbnN0IGdldFByb3AgPSAob2JqLCBwYXRoLCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICByZXR1cm4gZ2V0KG9iaiwgcGF0aCwgZGVmYXVsdFZhbHVlKTtcbiAgICB9LFxuICAgIHNldCB2YWx1ZSh2YWwpIHtcbiAgICAgIHNldChvYmosIHBhdGgsIHZhbCk7XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IHsgZW50cmllc09mLCBnZXRQcm9wLCBrZXlzT2YgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9iamVjdHMubWpzLm1hcFxuIiwiaW1wb3J0IHsgaXNOdW1iZXIsIGlzU3RyaW5nTnVtYmVyIH0gZnJvbSAnLi4vdHlwZXMubWpzJztcbmltcG9ydCAnLi4vYnJvd3Nlci5tanMnO1xuaW1wb3J0ICcuLi9zdHJpbmdzLm1qcyc7XG5pbXBvcnQgeyBlbnRyaWVzT2YsIGtleXNPZiB9IGZyb20gJy4uL29iamVjdHMubWpzJztcbmltcG9ydCB7IGRlYnVnV2FybiB9IGZyb20gJy4uL2Vycm9yLm1qcyc7XG5pbXBvcnQgeyBpc0NsaWVudCB9IGZyb20gJ0B2dWV1c2UvY29yZSc7XG5pbXBvcnQgeyBjYW1lbGl6ZSwgaXNPYmplY3QsIGlzU3RyaW5nIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5jb25zdCBTQ09QRSA9IFwidXRpbHMvZG9tL3N0eWxlXCI7XG5jb25zdCBjbGFzc05hbWVUb0FycmF5ID0gKGNscyA9IFwiXCIpID0+IGNscy5zcGxpdChcIiBcIikuZmlsdGVyKChpdGVtKSA9PiAhIWl0ZW0udHJpbSgpKTtcbmNvbnN0IGhhc0NsYXNzID0gKGVsLCBjbHMpID0+IHtcbiAgaWYgKCFlbCB8fCAhY2xzKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKGNscy5pbmNsdWRlcyhcIiBcIikpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiY2xhc3NOYW1lIHNob3VsZCBub3QgY29udGFpbiBzcGFjZS5cIik7XG4gIHJldHVybiBlbC5jbGFzc0xpc3QuY29udGFpbnMoY2xzKTtcbn07XG5jb25zdCBhZGRDbGFzcyA9IChlbCwgY2xzKSA9PiB7XG4gIGlmICghZWwgfHwgIWNscy50cmltKCkpXG4gICAgcmV0dXJuO1xuICBlbC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTmFtZVRvQXJyYXkoY2xzKSk7XG59O1xuY29uc3QgcmVtb3ZlQ2xhc3MgPSAoZWwsIGNscykgPT4ge1xuICBpZiAoIWVsIHx8ICFjbHMudHJpbSgpKVxuICAgIHJldHVybjtcbiAgZWwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc05hbWVUb0FycmF5KGNscykpO1xufTtcbmNvbnN0IGdldFN0eWxlID0gKGVsZW1lbnQsIHN0eWxlTmFtZSkgPT4ge1xuICB2YXIgX2E7XG4gIGlmICghaXNDbGllbnQgfHwgIWVsZW1lbnQgfHwgIXN0eWxlTmFtZSlcbiAgICByZXR1cm4gXCJcIjtcbiAgbGV0IGtleSA9IGNhbWVsaXplKHN0eWxlTmFtZSk7XG4gIGlmIChrZXkgPT09IFwiZmxvYXRcIilcbiAgICBrZXkgPSBcImNzc0Zsb2F0XCI7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3R5bGUgPSBlbGVtZW50LnN0eWxlW2tleV07XG4gICAgaWYgKHN0eWxlKVxuICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIGNvbnN0IGNvbXB1dGVkID0gKF9hID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcpID09IG51bGwgPyB2b2lkIDAgOiBfYS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIFwiXCIpO1xuICAgIHJldHVybiBjb21wdXRlZCA/IGNvbXB1dGVkW2tleV0gOiBcIlwiO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuc3R5bGVba2V5XTtcbiAgfVxufTtcbmNvbnN0IHNldFN0eWxlID0gKGVsZW1lbnQsIHN0eWxlTmFtZSwgdmFsdWUpID0+IHtcbiAgaWYgKCFlbGVtZW50IHx8ICFzdHlsZU5hbWUpXG4gICAgcmV0dXJuO1xuICBpZiAoaXNPYmplY3Qoc3R5bGVOYW1lKSkge1xuICAgIGVudHJpZXNPZihzdHlsZU5hbWUpLmZvckVhY2goKFtwcm9wLCB2YWx1ZTJdKSA9PiBzZXRTdHlsZShlbGVtZW50LCBwcm9wLCB2YWx1ZTIpKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBrZXkgPSBjYW1lbGl6ZShzdHlsZU5hbWUpO1xuICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHZhbHVlO1xuICB9XG59O1xuY29uc3QgcmVtb3ZlU3R5bGUgPSAoZWxlbWVudCwgc3R5bGUpID0+IHtcbiAgaWYgKCFlbGVtZW50IHx8ICFzdHlsZSlcbiAgICByZXR1cm47XG4gIGlmIChpc09iamVjdChzdHlsZSkpIHtcbiAgICBrZXlzT2Yoc3R5bGUpLmZvckVhY2goKHByb3ApID0+IHJlbW92ZVN0eWxlKGVsZW1lbnQsIHByb3ApKTtcbiAgfSBlbHNlIHtcbiAgICBzZXRTdHlsZShlbGVtZW50LCBzdHlsZSwgXCJcIik7XG4gIH1cbn07XG5mdW5jdGlvbiBhZGRVbml0KHZhbHVlLCBkZWZhdWx0VW5pdCA9IFwicHhcIikge1xuICBpZiAoIXZhbHVlKVxuICAgIHJldHVybiBcIlwiO1xuICBpZiAoaXNOdW1iZXIodmFsdWUpIHx8IGlzU3RyaW5nTnVtYmVyKHZhbHVlKSkge1xuICAgIHJldHVybiBgJHt2YWx1ZX0ke2RlZmF1bHRVbml0fWA7XG4gIH0gZWxzZSBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGRlYnVnV2FybihTQ09QRSwgXCJiaW5kaW5nIHZhbHVlIG11c3QgYmUgYSBzdHJpbmcgb3IgbnVtYmVyXCIpO1xufVxuXG5leHBvcnQgeyBhZGRDbGFzcywgYWRkVW5pdCwgY2xhc3NOYW1lVG9BcnJheSwgZ2V0U3R5bGUsIGhhc0NsYXNzLCByZW1vdmVDbGFzcywgcmVtb3ZlU3R5bGUsIHNldFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHlsZS5tanMubWFwXG4iLCIvKiEgRWxlbWVudCBQbHVzIEljb25zIFZ1ZSB2Mi4zLjEgKi9cblxuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYWRkLWxvY2F0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sgfSBmcm9tIFwidnVlXCI7XG52YXIgYWRkX2xvY2F0aW9uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudCh7XG4gIG5hbWU6IFwiQWRkTG9jYXRpb25cIixcbiAgX19uYW1lOiBcImFkZC1sb2NhdGlvblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yODggODk2aDQ0OHEzMiAwIDMyIDMydC0zMiAzMkgyODhxLTMyIDAtMzItMzJ0MzItMzJcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgwMCA0MTZhMjg4IDI4OCAwIDEgMC01NzYgMGMwIDExOC4xNDQgOTQuNTI4IDI3Mi4xMjggMjg4IDQ1Ni41NzZDNzA1LjQ3MiA2ODguMTI4IDgwMCA1MzQuMTQ0IDgwMCA0MTZNNTEyIDk2MEMyNzcuMzEyIDc0Ni42ODggMTYwIDU2NS4zMTIgMTYwIDQxNmEzNTIgMzUyIDAgMCAxIDcwNCAwYzAgMTQ5LjMxMi0xMTcuMzEyIDMzMC42ODgtMzUyIDU0NFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTQ0IDM4NGg5NmEzMiAzMiAwIDEgMSAwIDY0aC05NnY5NmEzMiAzMiAwIDAgMS02NCAwdi05NmgtOTZhMzIgMzIgMCAwIDEgMC02NGg5NnYtOTZhMzIgMzIgMCAwIDEgNjQgMHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9hZGQtbG9jYXRpb24udnVlXG52YXIgYWRkX2xvY2F0aW9uX2RlZmF1bHQgPSBhZGRfbG9jYXRpb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2FpbS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMiB9IGZyb20gXCJ2dWVcIjtcbnZhciBhaW1fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mih7XG4gIG5hbWU6IFwiQWltXCIsXG4gIF9fbmFtZTogXCJhaW1cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDg5NmEzODQgMzg0IDAgMSAwIDAtNzY4IDM4NCAzODQgMCAwIDAgMCA3NjhtMCA2NGE0NDggNDQ4IDAgMSAxIDAtODk2IDQ0OCA0NDggMCAwIDEgMCA4OTZcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgOTZhMzIgMzIgMCAwIDEgMzIgMzJ2MTkyYTMyIDMyIDAgMCAxLTY0IDBWMTI4YTMyIDMyIDAgMCAxIDMyLTMybTAgNTc2YTMyIDMyIDAgMCAxIDMyIDMydjE5MmEzMiAzMiAwIDEgMS02NCAwVjcwNGEzMiAzMiAwIDAgMSAzMi0zMk05NiA1MTJhMzIgMzIgMCAwIDEgMzItMzJoMTkyYTMyIDMyIDAgMCAxIDAgNjRIMTI4YTMyIDMyIDAgMCAxLTMyLTMybTU3NiAwYTMyIDMyIDAgMCAxIDMyLTMyaDE5MmEzMiAzMiAwIDEgMSAwIDY0SDcwNGEzMiAzMiAwIDAgMS0zMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2FpbS52dWVcbnZhciBhaW1fZGVmYXVsdCA9IGFpbV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYWxhcm0tY2xvY2sudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2szLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazMgfSBmcm9tIFwidnVlXCI7XG52YXIgYWxhcm1fY2xvY2tfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Myh7XG4gIG5hbWU6IFwiQWxhcm1DbG9ja1wiLFxuICBfX25hbWU6IFwiYWxhcm0tY2xvY2tcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDgzMmEzMjAgMzIwIDAgMSAwIDAtNjQwIDMyMCAzMjAgMCAwIDAgMCA2NDBtMCA2NGEzODQgMzg0IDAgMSAxIDAtNzY4IDM4NCAzODQgMCAwIDEgMCA3NjhcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm0yOTIuMjg4IDgyNC41NzYgNTUuNDI0IDMyLTQ4IDgzLjEzNmEzMiAzMiAwIDEgMS01NS40MjQtMzJ6bTQzOS40MjQgMC01NS40MjQgMzIgNDggODMuMTM2YTMyIDMyIDAgMSAwIDU1LjQyNC0zMnpNNTEyIDUxMmgxNjBhMzIgMzIgMCAxIDEgMCA2NEg0ODBhMzIgMzIgMCAwIDEtMzItMzJWMzIwYTMyIDMyIDAgMCAxIDY0IDB6TTkwLjQ5NiAzMTIuMjU2QTE2MCAxNjAgMCAwIDEgMzEyLjMyIDkwLjQ5NmwtNDYuODQ4IDQ2Ljg0OGE5NiA5NiAwIDAgMC0xMjggMTI4TDkwLjU2IDMxMi4yNTZ6bTgzNS4yNjQgMEExNjAgMTYwIDAgMCAwIDcwNCA5MC40OTZsNDYuODQ4IDQ2Ljg0OGE5NiA5NiAwIDAgMSAxMjggMTI4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2FsYXJtLWNsb2NrLnZ1ZVxudmFyIGFsYXJtX2Nsb2NrX2RlZmF1bHQgPSBhbGFybV9jbG9ja192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYXBwbGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s0LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazQgfSBmcm9tIFwidnVlXCI7XG52YXIgYXBwbGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NCh7XG4gIG5hbWU6IFwiQXBwbGVcIixcbiAgX19uYW1lOiBcImFwcGxlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s0KCksIF9jcmVhdGVFbGVtZW50QmxvY2s0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTU5OS44NzIgMjAzLjc3NmExODkuNDQgMTg5LjQ0IDAgMCAxIDY0LjM4NC00LjY3MmwyLjYyNC4xMjhjMzEuMTY4IDEuMDI0IDUxLjIgNC4wOTYgNzkuNDg4IDE2LjMyIDM3LjYzMiAxNi4xMjggNzQuNDk2IDQ1LjA1NiAxMTEuNDg4IDg5LjM0NCA5Ni4zODQgMTE1LjI2NCA4Mi43NTIgMzcyLjgtMzQuNzUyIDUyMS43MjgtNy42OCA5LjcyOC0zMiA0MS42LTMwLjcyIDM5LjkzNmE0MjYuNjI0IDQyNi42MjQgMCAwIDEtMzAuMDggMzUuNzc2Yy0zMS4yMzIgMzIuNTc2LTY1LjI4IDQ5LjIxNi0xMTAuMDggNTAuMDQ4LTMxLjM2LjY0LTUzLjU2OC01LjMxMi04NC4yODgtMTguNzUybC02LjUyOC0yLjg4Yy0yMC45OTItOS4yMTYtMzAuNTkyLTExLjkwNC00Ny4yOTYtMTEuOTA0LTE4LjExMiAwLTI4LjYwOCAyLjg4LTUxLjEzNiAxMi42NzJsLTYuNDY0IDIuODE2Yy0yOC40MTYgMTIuMjI0LTQ4LjMyIDE4LjA0OC03Ni4xNiAxOS4yLTc0LjExMiAyLjc1Mi0xMTYuOTI4LTM4LjA4LTE4MC42NzItMTMyLjE2LTk2LjY0LTE0Mi4wOC0xMzIuNjA4LTM0OS4zMTItNTUuMDQtNDg2LjQgNDYuMjcyLTgxLjkyIDEyOS45Mi0xMzMuNjMyIDIyMC42NzItMTM1LjA0IDMyLjgzMi0uNTc2IDYwLjI4OCA2Ljg0OCA5OS42NDggMjIuNzIgMjcuMTM2IDEwLjg4IDM0Ljc1MiAxMy43NiAzNy4zNzYgMTQuMjcyIDE2LjI1Ni0yMC4xNiAyNy43NzYtMzYuOTkyIDM0LjU2LTUwLjI0IDEzLjU2OC0yNi4zMDQgMjcuMi01OS45NjggNDAuNzA0LTEwMC44YTMyIDMyIDAgMSAxIDYwLjggMjAuMjI0Yy0xMi42MDggMzcuODg4LTI1LjQwOCA3MC40LTM4LjUyOCA5Ny42NjR6bS01MS41MiA3OC4wOGMtMTQuNTI4IDE3Ljc5Mi0zMS44MDggMzcuMzc2LTUxLjkwNCA1OC44MTZhMzIgMzIgMCAxIDEtNDYuNzItNDMuNzc2bDEyLjI4OC0xMy4yNDhjLTI4LjAzMi0xMS4yLTYxLjI0OC0yNi42ODgtOTUuNjgtMjYuMTEyLTcwLjQgMS4wODgtMTM1LjI5NiA0MS42LTE3MS42NDggMTA1Ljc5MkMxMjEuNiA0OTIuNjA4IDE3NiA2ODQuMTYgMjQ3LjI5NiA3ODguOTkyYzM0LjgxNiA1MS4zMjggNzYuMzUyIDEwOC45OTIgMTMwLjk0NCAxMDYuOTQ0IDUyLjQ4LTIuMTEyIDcyLjMyLTM0LjY4OCAxMzUuODcyLTM0LjY4OCA2My41NTIgMCA4MS4yOCAzNC42ODggMTM2Ljk2IDMzLjUzNiA1Ni40NDgtMS4wODggNzUuNzc2LTM5LjA0IDEyNi44NDgtMTAzLjg3MiAxMDcuOTA0LTEzNi43NjggMTA3LjkwNC0zNjIuNzUyIDM1Ljc3Ni00NDkuMDg4LTcyLjE5Mi04Ni4yNzItMTI0LjY3Mi04NC4wOTYtMTUxLjY4LTg1LjEyLTQxLjQ3Mi00LjI4OC04MS42IDEyLjU0NC0xMTMuNjY0IDI1LjE1MnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9hcHBsZS52dWVcbnZhciBhcHBsZV9kZWZhdWx0ID0gYXBwbGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Fycm93LWRvd24tYm9sZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNSB9IGZyb20gXCJ2dWVcIjtcbnZhciBhcnJvd19kb3duX2JvbGRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NSh7XG4gIG5hbWU6IFwiQXJyb3dEb3duQm9sZFwiLFxuICBfX25hbWU6IFwiYXJyb3ctZG93bi1ib2xkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s1KCksIF9jcmVhdGVFbGVtZW50QmxvY2s1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTEwNC43MDQgMzM4Ljc1MmE2NCA2NCAwIDAgMSA5MC40OTYgMGwzMTYuOCAzMTYuOCAzMTYuOC0zMTYuOGE2NCA2NCAwIDAgMSA5MC40OTYgOTAuNDk2TDU1Ny4yNDggNzkxLjI5NmE2NCA2NCAwIDAgMS05MC40OTYgMEwxMDQuNzA0IDQyOS4yNDhhNjQgNjQgMCAwIDEgMC05MC40OTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYXJyb3ctZG93bi1ib2xkLnZ1ZVxudmFyIGFycm93X2Rvd25fYm9sZF9kZWZhdWx0ID0gYXJyb3dfZG93bl9ib2xkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9hcnJvdy1kb3duLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGFycm93X2Rvd25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Nih7XG4gIG5hbWU6IFwiQXJyb3dEb3duXCIsXG4gIF9fbmFtZTogXCJhcnJvdy1kb3duXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s2KCksIF9jcmVhdGVFbGVtZW50QmxvY2s2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgzMS44NzIgMzQwLjg2NCA1MTIgNjUyLjY3MiAxOTIuMTI4IDM0MC44NjRhMzAuNTkyIDMwLjU5MiAwIDAgMC00Mi43NTIgMCAyOS4xMiAyOS4xMiAwIDAgMCAwIDQxLjZMNDg5LjY2NCA3MTQuMjRhMzIgMzIgMCAwIDAgNDQuNjcyIDBsMzQwLjI4OC0zMzEuNzEyYTI5LjEyIDI5LjEyIDAgMCAwIDAtNDEuNzI4IDMwLjU5MiAzMC41OTIgMCAwIDAtNDIuNzUyIDB6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYXJyb3ctZG93bi52dWVcbnZhciBhcnJvd19kb3duX2RlZmF1bHQgPSBhcnJvd19kb3duX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9hcnJvdy1sZWZ0LWJvbGQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazcgfSBmcm9tIFwidnVlXCI7XG52YXIgYXJyb3dfbGVmdF9ib2xkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDcoe1xuICBuYW1lOiBcIkFycm93TGVmdEJvbGRcIixcbiAgX19uYW1lOiBcImFycm93LWxlZnQtYm9sZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNygpLCBfY3JlYXRlRWxlbWVudEJsb2NrNyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02ODUuMjQ4IDEwNC43MDRhNjQgNjQgMCAwIDEgMCA5MC40OTZMMzY4LjQ0OCA1MTJsMzE2LjggMzE2LjhhNjQgNjQgMCAwIDEtOTAuNDk2IDkwLjQ5NkwyMzIuNzA0IDU1Ny4yNDhhNjQgNjQgMCAwIDEgMC05MC40OTZsMzYyLjA0OC0zNjIuMDQ4YTY0IDY0IDAgMCAxIDkwLjQ5NiAwelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Fycm93LWxlZnQtYm9sZC52dWVcbnZhciBhcnJvd19sZWZ0X2JvbGRfZGVmYXVsdCA9IGFycm93X2xlZnRfYm9sZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYXJyb3ctbGVmdC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrOCB9IGZyb20gXCJ2dWVcIjtcbnZhciBhcnJvd19sZWZ0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDgoe1xuICBuYW1lOiBcIkFycm93TGVmdFwiLFxuICBfX25hbWU6IFwiYXJyb3ctbGVmdFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrOCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrOChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlOChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02MDkuNDA4IDE0OS4zNzYgMjc3Ljc2IDQ4OS42YTMyIDMyIDAgMCAwIDAgNDQuNjcybDMzMS42NDggMzQwLjM1MmEyOS4xMiAyOS4xMiAwIDAgMCA0MS43MjggMCAzMC41OTIgMzAuNTkyIDAgMCAwIDAtNDIuNzUyTDMzOS4yNjQgNTExLjkzNmwzMTEuODcyLTMxOS44NzJhMzAuNTkyIDMwLjU5MiAwIDAgMCAwLTQyLjY4OCAyOS4xMiAyOS4xMiAwIDAgMC00MS43MjggMHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9hcnJvdy1sZWZ0LnZ1ZVxudmFyIGFycm93X2xlZnRfZGVmYXVsdCA9IGFycm93X2xlZnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Fycm93LXJpZ2h0LWJvbGQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50OSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlOSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazkgfSBmcm9tIFwidnVlXCI7XG52YXIgYXJyb3dfcmlnaHRfYm9sZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ5KHtcbiAgbmFtZTogXCJBcnJvd1JpZ2h0Qm9sZFwiLFxuICBfX25hbWU6IFwiYXJyb3ctcmlnaHQtYm9sZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrOSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrOShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlOShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zMzguNzUyIDEwNC43MDRhNjQgNjQgMCAwIDAgMCA5MC40OTZsMzE2LjggMzE2LjgtMzE2LjggMzE2LjhhNjQgNjQgMCAwIDAgOTAuNDk2IDkwLjQ5NmwzNjIuMDQ4LTM2Mi4wNDhhNjQgNjQgMCAwIDAgMC05MC40OTZMNDI5LjI0OCAxMDQuNzA0YTY0IDY0IDAgMCAwLTkwLjQ5NiAwelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Fycm93LXJpZ2h0LWJvbGQudnVlXG52YXIgYXJyb3dfcmlnaHRfYm9sZF9kZWZhdWx0ID0gYXJyb3dfcmlnaHRfYm9sZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYXJyb3ctcmlnaHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGFycm93X3JpZ2h0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEwKHtcbiAgbmFtZTogXCJBcnJvd1JpZ2h0XCIsXG4gIF9fbmFtZTogXCJhcnJvdy1yaWdodFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zNDAuODY0IDE0OS4zMTJhMzAuNTkyIDMwLjU5MiAwIDAgMCAwIDQyLjc1Mkw2NTIuNzM2IDUxMiAzNDAuODY0IDgzMS44NzJhMzAuNTkyIDMwLjU5MiAwIDAgMCAwIDQyLjc1MiAyOS4xMiAyOS4xMiAwIDAgMCA0MS43MjggMEw3MTQuMjQgNTM0LjMzNmEzMiAzMiAwIDAgMCAwLTQ0LjY3MkwzODIuNTkyIDE0OS4zNzZhMjkuMTIgMjkuMTIgMCAwIDAtNDEuNzI4IDB6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYXJyb3ctcmlnaHQudnVlXG52YXIgYXJyb3dfcmlnaHRfZGVmYXVsdCA9IGFycm93X3JpZ2h0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9hcnJvdy11cC1ib2xkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDExIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMSB9IGZyb20gXCJ2dWVcIjtcbnZhciBhcnJvd191cF9ib2xkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDExKHtcbiAgbmFtZTogXCJBcnJvd1VwQm9sZFwiLFxuICBfX25hbWU6IFwiYXJyb3ctdXAtYm9sZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTEoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazExKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMDQuNzA0IDY4NS4yNDhhNjQgNjQgMCAwIDAgOTAuNDk2IDBsMzE2LjgtMzE2LjggMzE2LjggMzE2LjhhNjQgNjQgMCAwIDAgOTAuNDk2LTkwLjQ5Nkw1NTcuMjQ4IDIzMi43MDRhNjQgNjQgMCAwIDAtOTAuNDk2IDBMMTA0LjcwNCA1OTQuNzUyYTY0IDY0IDAgMCAwIDAgOTAuNDk2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Fycm93LXVwLWJvbGQudnVlXG52YXIgYXJyb3dfdXBfYm9sZF9kZWZhdWx0ID0gYXJyb3dfdXBfYm9sZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYXJyb3ctdXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGFycm93X3VwX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEyKHtcbiAgbmFtZTogXCJBcnJvd1VwXCIsXG4gIF9fbmFtZTogXCJhcnJvdy11cFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm00ODguODMyIDM0NC4zMi0zMzkuODQgMzU2LjY3MmEzMiAzMiAwIDAgMCAwIDQ0LjE2bC4zODQuMzg0YTI5LjQ0IDI5LjQ0IDAgMCAwIDQyLjY4OCAwbDMyMC0zMzUuODcyIDMxOS44NzIgMzM1Ljg3MmEyOS40NCAyOS40NCAwIDAgMCA0Mi42ODggMGwuMzg0LS4zODRhMzIgMzIgMCAwIDAgMC00NC4xNkw1MzUuMTY4IDM0NC4zMmEzMiAzMiAwIDAgMC00Ni4zMzYgMFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Fycm93LXVwLnZ1ZVxudmFyIGFycm93X3VwX2RlZmF1bHQgPSBhcnJvd191cF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYXZhdGFyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMyB9IGZyb20gXCJ2dWVcIjtcbnZhciBhdmF0YXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTMoe1xuICBuYW1lOiBcIkF2YXRhclwiLFxuICBfX25hbWU6IFwiYXZhdGFyXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTYyOC43MzYgNTI4Ljg5NkE0MTYgNDE2IDAgMCAxIDkyOCA5MjhIOTZhNDE1Ljg3MiA0MTUuODcyIDAgMCAxIDI5OS4yNjQtMzk5LjEwNEw1MTIgNzA0ek03MjAgMzA0YTIwOCAyMDggMCAxIDEtNDE2IDAgMjA4IDIwOCAwIDAgMSA0MTYgMFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2F2YXRhci52dWVcbnZhciBhdmF0YXJfZGVmYXVsdCA9IGF2YXRhcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYmFjay52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTQgfSBmcm9tIFwidnVlXCI7XG52YXIgYmFja192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNCh7XG4gIG5hbWU6IFwiQmFja1wiLFxuICBfX25hbWU6IFwiYmFja1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yMjQgNDgwaDY0MGEzMiAzMiAwIDEgMSAwIDY0SDIyNGEzMiAzMiAwIDAgMSAwLTY0XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTIzNy4yNDggNTEyIDI2NS40MDggMjY1LjM0NGEzMiAzMiAwIDAgMS00NS4zMTIgNDUuMzEybC0yODgtMjg4YTMyIDMyIDAgMCAxIDAtNDUuMzEybDI4OC0yODhhMzIgMzIgMCAxIDEgNDUuMzEyIDQ1LjMxMnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9iYWNrLnZ1ZVxudmFyIGJhY2tfZGVmYXVsdCA9IGJhY2tfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Jhc2ViYWxsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNSB9IGZyb20gXCJ2dWVcIjtcbnZhciBiYXNlYmFsbF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNSh7XG4gIG5hbWU6IFwiQmFzZWJhbGxcIixcbiAgX19uYW1lOiBcImJhc2ViYWxsXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE5NS4yIDgyOC44YTQ0OCA0NDggMCAxIDEgNjMzLjYtNjMzLjYgNDQ4IDQ0OCAwIDAgMS02MzMuNiA2MzMuNnptNDUuMjQ4LTQ1LjI0OGEzODQgMzg0IDAgMSAwIDU0My4xMDQtNTQzLjEwNCAzODQgMzg0IDAgMCAwLTU0My4xMDQgNTQzLjEwNFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00OTcuNDcyIDk2Ljg5NmMyMi43ODQgNC42NzIgNDQuNDE2IDkuNDcyIDY0Ljg5NiAxNC41MjhhMjU2LjEyOCAyNTYuMTI4IDAgMCAwIDM1MC4yMDggMzUwLjIwOGM1LjA1NiAyMC40OCA5Ljg1NiA0Mi4xMTIgMTQuNTI4IDY0Ljg5NkEzMjAuMTI4IDMyMC4xMjggMCAwIDEgNDk3LjQ3MiA5Ni44OTZ6TTEwOC40OCA0OTEuOTA0YTMyMC4xMjggMzIwLjEyOCAwIDAgMSA0MjMuNjE2IDQyMy42OGMtMjMuMDQtMy42NDgtNDQuOTkyLTcuNDI0LTY1LjcyOC0xMS41MmEyNTYuMTI4IDI1Ni4xMjggMCAwIDAtMzQ2LjQ5Ni0zNDYuNDMyIDE3MzYuNjQgMTczNi42NCAwIDAgMS0xMS4zOTItNjUuNzI4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Jhc2ViYWxsLnZ1ZVxudmFyIGJhc2ViYWxsX2RlZmF1bHQgPSBiYXNlYmFsbF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYmFza2V0YmFsbC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTYgfSBmcm9tIFwidnVlXCI7XG52YXIgYmFza2V0YmFsbF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNih7XG4gIG5hbWU6IFwiQmFza2V0YmFsbFwiLFxuICBfX25hbWU6IFwiYmFza2V0YmFsbFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03NzguNzUyIDc4OC4yMjRhMzgyLjQ2NCAzODIuNDY0IDAgMCAwIDExNi4wMzItMjQ1LjYzMiAyNTYuNTEyIDI1Ni41MTIgMCAwIDAtMjQxLjcyOC0xMy45NTIgNzYyLjg4IDc2Mi44OCAwIDAgMSAxMjUuNjk2IDI1OS41ODR6bS01NS4wNCA0NC4yMjRhNjk5LjY0OCA2OTkuNjQ4IDAgMCAwLTEyNS4wNTYtMjY5LjYzMiAyNTYuMTI4IDI1Ni4xMjggMCAwIDAtNTYuMDY0IDMzMS45NjggMzgyLjcyIDM4Mi43MiAwIDAgMCAxODEuMTItNjIuMzM2bS0yNTQuMDggNjEuMjQ4QTMyMC4xMjggMzIwLjEyOCAwIDAgMSA1NTcuNzYgNTEzLjZhNzE1Ljg0IDcxNS44NCAwIDAgMC00OC4xOTItNDguMTI4IDMyMC4xMjggMzIwLjEyOCAwIDAgMS0zNzkuMjY0IDg4LjM4NCAzODIuNCAzODIuNCAwIDAgMCAxMTAuMTQ0IDIyOS42OTYgMzgyLjQgMzgyLjQgMCAwIDAgMjI5LjE4NCAxMTAuMDh6TTEyOS4yOCA0ODEuMDg4YTI1Ni4xMjggMjU2LjEyOCAwIDAgMCAzMzEuMDcyLTU2LjQ0OCA2OTkuNjQ4IDY5OS42NDggMCAwIDAtMjY4LjgtMTI0LjM1MiAzODIuNjU2IDM4Mi42NTYgMCAwIDAtNjIuMjcyIDE4MC44bTEwNi41Ni0yMzUuODRhNzYyLjg4IDc2Mi44OCAwIDAgMSAyNTguNjg4IDEyNS4wNTYgMjU2LjUxMiAyNTYuNTEyIDAgMCAwLTEzLjQ0LTI0MS4wODhBMzgyLjQ2NCAzODIuNDY0IDAgMCAwIDIzNS44NCAyNDUuMjQ4em0zMTguMDgtMTE0Ljk0NGM0MC41NzYgODkuNTM2IDM3Ljc2IDE5My45Mi04LjQ0OCAyODEuMzQ0YTc3OS44NCA3NzkuODQgMCAwIDEgNjYuMTc2IDY2LjExMiAzMjAuODMyIDMyMC44MzIgMCAwIDEgMjgyLjExMi04LjEyOCAzODIuNCAzODIuNCAwIDAgMC0xMTAuMTQ0LTIyOS4xMiAzODIuNCAzODIuNCAwIDAgMC0yMjkuNjMyLTExMC4yMDh6TTgyOC44IDgyOC44YTQ0OCA0NDggMCAxIDEtNjMzLjYtNjMzLjYgNDQ4IDQ0OCAwIDAgMSA2MzMuNiA2MzMuNlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Jhc2tldGJhbGwudnVlXG52YXIgYmFza2V0YmFsbF9kZWZhdWx0ID0gYmFza2V0YmFsbF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYmVsbC1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGJlbGxfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE3KHtcbiAgbmFtZTogXCJCZWxsRmlsbGVkXCIsXG4gIF9fbmFtZTogXCJiZWxsLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE3KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02NDAgODMyYTEyOCAxMjggMCAwIDEtMjU2IDB6bTE5Mi02NEgxMzQuNGEzOC40IDM4LjQgMCAwIDEgMC03Ni44SDE5MlY0NDhjMC0xNTQuODggMTEwLjA4LTI4NC4xNiAyNTYuMzItMzEzLjZhNjQgNjQgMCAxIDEgMTI3LjM2IDBBMzIwLjEyOCAzMjAuMTI4IDAgMCAxIDgzMiA0NDh2MjQzLjJoNTcuNmEzOC40IDM4LjQgMCAwIDEgMCA3Ni44elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2JlbGwtZmlsbGVkLnZ1ZVxudmFyIGJlbGxfZmlsbGVkX2RlZmF1bHQgPSBiZWxsX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYmVsbC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxOCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTggfSBmcm9tIFwidnVlXCI7XG52YXIgYmVsbF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxOCh7XG4gIG5hbWU6IFwiQmVsbFwiLFxuICBfX25hbWU6IFwiYmVsbFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxOChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNjRhNjQgNjQgMCAwIDEgNjQgNjR2NjRINDQ4di02NGE2NCA2NCAwIDAgMSA2NC02NFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxOChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yNTYgNzY4aDUxMlY0NDhhMjU2IDI1NiAwIDEgMC01MTIgMHptMjU2LTY0MGEzMjAgMzIwIDAgMCAxIDMyMCAzMjB2Mzg0SDE5MlY0NDhhMzIwIDMyMCAwIDAgMSAzMjAtMzIwXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTk2IDc2OGg4MzJxMzIgMCAzMiAzMnQtMzIgMzJIOTZxLTMyIDAtMzItMzJ0MzItMzJtMzUyIDEyOGgxMjhhNjQgNjQgMCAwIDEtMTI4IDBcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9iZWxsLnZ1ZVxudmFyIGJlbGxfZGVmYXVsdCA9IGJlbGxfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2JpY3ljbGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGJpY3ljbGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTkoe1xuICBuYW1lOiBcIkJpY3ljbGVcIixcbiAgX19uYW1lOiBcImJpY3ljbGVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE5KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxOShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjU2IDgzMmExMjggMTI4IDAgMSAwIDAtMjU2IDEyOCAxMjggMCAwIDAgMCAyNTZtMCA2NGExOTIgMTkyIDAgMSAxIDAtMzg0IDE5MiAxOTIgMCAwIDEgMCAzODRcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjg4IDY3MmgzMjBxMzIgMCAzMiAzMnQtMzIgMzJIMjg4cS0zMiAwLTMyLTMydDMyLTMyXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTc2OCA4MzJhMTI4IDEyOCAwIDEgMCAwLTI1NiAxMjggMTI4IDAgMCAwIDAgMjU2bTAgNjRhMTkyIDE5MiAwIDEgMSAwLTM4NCAxOTIgMTkyIDAgMCAxIDAgMzg0XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCAxOTJhMzIgMzIgMCAwIDEgMC02NGgxNjBhMzIgMzIgMCAwIDEgMzEuMDQgMjQuMjU2bDk2IDM4NGEzMiAzMiAwIDAgMS02Mi4wOCAxNS40ODhMNjE1LjA0IDE5MnpNOTYgMzg0YTMyIDMyIDAgMCAxIDAtNjRoMTI4YTMyIDMyIDAgMCAxIDMwLjMzNiAyMS44ODhsNjQgMTkyYTMyIDMyIDAgMSAxLTYwLjY3MiAyMC4yMjRMMjAwLjk2IDM4NHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtMzczLjM3NiA1OTkuODA4LTQyLjc1Mi00Ny42MTYgMzIwLTI4OCA0Mi43NTIgNDcuNjE2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2JpY3ljbGUudnVlXG52YXIgYmljeWNsZV9kZWZhdWx0ID0gYmljeWNsZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYm90dG9tLWxlZnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGJvdHRvbV9sZWZ0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIwKHtcbiAgbmFtZTogXCJCb3R0b21MZWZ0XCIsXG4gIF9fbmFtZTogXCJib3R0b20tbGVmdFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yNTYgNzY4aDQxNmEzMiAzMiAwIDEgMSAwIDY0SDIyNGEzMiAzMiAwIDAgMS0zMi0zMlYzNTJhMzIgMzIgMCAwIDEgNjQgMHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjQ2LjY1NiA4MjIuNjU2YTMyIDMyIDAgMCAxLTQ1LjMxMi00NS4zMTJsNTQ0LTU0NGEzMiAzMiAwIDAgMSA0NS4zMTIgNDUuMzEybC01NDQgNTQ0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2JvdHRvbS1sZWZ0LnZ1ZVxudmFyIGJvdHRvbV9sZWZ0X2RlZmF1bHQgPSBib3R0b21fbGVmdF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYm90dG9tLXJpZ2h0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIxIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMSB9IGZyb20gXCJ2dWVcIjtcbnZhciBib3R0b21fcmlnaHRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjEoe1xuICBuYW1lOiBcIkJvdHRvbVJpZ2h0XCIsXG4gIF9fbmFtZTogXCJib3R0b20tcmlnaHRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIxKCksIF9jcmVhdGVFbGVtZW50QmxvY2syMShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzUyIDc2OGEzMiAzMiAwIDEgMCAwIDY0aDQ0OGEzMiAzMiAwIDAgMCAzMi0zMlYzNTJhMzIgMzIgMCAwIDAtNjQgMHY0MTZ6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTc3Ny4zNDQgODIyLjY1NmEzMiAzMiAwIDAgMCA0NS4zMTItNDUuMzEybC01NDQtNTQ0YTMyIDMyIDAgMCAwLTQ1LjMxMiA0NS4zMTJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYm90dG9tLXJpZ2h0LnZ1ZVxudmFyIGJvdHRvbV9yaWdodF9kZWZhdWx0ID0gYm90dG9tX3JpZ2h0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9ib3R0b20udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGJvdHRvbV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMih7XG4gIG5hbWU6IFwiQm90dG9tXCIsXG4gIF9fbmFtZTogXCJib3R0b21cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIyKCksIF9jcmVhdGVFbGVtZW50QmxvY2syMihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTQ0IDgwNS44ODhWMTY4YTMyIDMyIDAgMSAwLTY0IDB2NjM3Ljg4OEwyNDYuNjU2IDU1Ny45NTJhMzAuNzIgMzAuNzIgMCAwIDAtNDUuMzEyIDAgMzUuNTIgMzUuNTIgMCAwIDAgMCA0OC4wNjRsMjg4IDMwNi4wNDhhMzAuNzIgMzAuNzIgMCAwIDAgNDUuMzEyIDBsMjg4LTMwNi4wNDhhMzUuNTIgMzUuNTIgMCAwIDAgMC00OCAzMC43MiAzMC43MiAwIDAgMC00NS4zMTIgMEw1NDQgODA1LjgyNHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9ib3R0b20udnVlXG52YXIgYm90dG9tX2RlZmF1bHQgPSBib3R0b21fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Jvd2wudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGJvd2xfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjMoe1xuICBuYW1lOiBcIkJvd2xcIixcbiAgX19uYW1lOiBcImJvd2xcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIzKCksIF9jcmVhdGVFbGVtZW50QmxvY2syMyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzE0LjQzMiA3MDRhMzUxLjc0NCAzNTEuNzQ0IDAgMCAwIDE0OC4xNi0yNTZIMTYxLjQwOGEzNTEuNzQ0IDM1MS43NDQgMCAwIDAgMTQ4LjE2IDI1NnpNMjg4IDc2Ni41OTJBNDE1LjY4IDQxNS42OCAwIDAgMSA5NiA0MTZhMzIgMzIgMCAwIDEgMzItMzJoNzY4YTMyIDMyIDAgMCAxIDMyIDMyIDQxNS42OCA0MTUuNjggMCAwIDEtMTkyIDM1MC41OTJWODMyYTY0IDY0IDAgMCAxLTY0IDY0SDM1MmE2NCA2NCAwIDAgMS02NC02NHpNNDkzLjI0OCAzMjBoLTkwLjQ5NmwyNTQuNC0yNTQuNGEzMiAzMiAwIDEgMSA0NS4yNDggNDUuMjQ4em0xODcuMzI4IDBoLTEyOGwyNjkuNjk2LTE1NS43MTJhMzIgMzIgMCAwIDEgMzIgNTUuNDI0ek0zNTIgNzY4djY0aDMyMHYtNjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYm93bC52dWVcbnZhciBib3dsX2RlZmF1bHQgPSBib3dsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9ib3gudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI0LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGJveF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNCh7XG4gIG5hbWU6IFwiQm94XCIsXG4gIF9fbmFtZTogXCJib3hcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI0KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzE3LjA1NiAxMjggMTI4IDM0NC4wNjRWODk2aDc2OFYzNDQuMDY0TDcwNi45NDQgMTI4em0tMTQuNTI4LTY0aDQxOC45NDRhMzIgMzIgMCAwIDEgMjQuMDY0IDEwLjg4bDIwNi41MjggMjM2LjA5NkEzMiAzMiAwIDAgMSA5NjAgMzMyLjAzMlY5MjhhMzIgMzIgMCAwIDEtMzIgMzJIOTZhMzIgMzIgMCAwIDEtMzItMzJWMzMyLjAzMmEzMiAzMiAwIDAgMSA3LjkzNi0yMS4xMkwyNzguNCA3NS4wMDhBMzIgMzIgMCAwIDEgMzAyLjUyOCA2NHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjQgMzIwaDg5NnY2NEg2NHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDQ4IDMyNy44NzJWNjQwaDEyOFYzMjcuODcyTDUyNi4wOCAxMjhoLTI4LjE2ek00NDggNjRoMTI4bDY0IDI1NnYzNTJhMzIgMzIgMCAwIDEtMzIgMzJINDE2YTMyIDMyIDAgMCAxLTMyLTMyVjMyMHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9ib3gudnVlXG52YXIgYm94X2RlZmF1bHQgPSBib3hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2JyaWVmY2FzZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjUgfSBmcm9tIFwidnVlXCI7XG52YXIgYnJpZWZjYXNlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI1KHtcbiAgbmFtZTogXCJCcmllZmNhc2VcIixcbiAgX19uYW1lOiBcImJyaWVmY2FzZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zMjAgMzIwVjEyOGgzODR2MTkyaDE5MnYxOTJIMTI4VjMyMHpNMTI4IDU3Nmg3Njh2MzIwSDEyOHptMjU2LTI1NmgyNTYuMDY0VjE5MkgzODR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYnJpZWZjYXNlLnZ1ZVxudmFyIGJyaWVmY2FzZV9kZWZhdWx0ID0gYnJpZWZjYXNlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9icnVzaC1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGJydXNoX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNih7XG4gIG5hbWU6IFwiQnJ1c2hGaWxsZWRcIixcbiAgX19uYW1lOiBcImJydXNoLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02MDggNzA0djE2MGE5NiA5NiAwIDAgMS0xOTIgMFY3MDRoLTk2YTEyOCAxMjggMCAwIDEtMTI4LTEyOGg2NDBhMTI4IDEyOCAwIDAgMS0xMjggMTI4ek0xOTIgNTEyVjEyOC4wNjRoNjQwVjUxMnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9icnVzaC1maWxsZWQudnVlXG52YXIgYnJ1c2hfZmlsbGVkX2RlZmF1bHQgPSBicnVzaF9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2JydXNoLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNyB9IGZyb20gXCJ2dWVcIjtcbnZhciBicnVzaF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNyh7XG4gIG5hbWU6IFwiQnJ1c2hcIixcbiAgX19uYW1lOiBcImJydXNoXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTg5NiA0NDhIMTI4djE5MmE2NCA2NCAwIDAgMCA2NCA2NGgxOTJ2MTkyaDI1NlY3MDRoMTkyYTY0IDY0IDAgMCAwIDY0LTY0em0tNzcwLjc1Mi02NGMwLTQ3LjU1MiA1LjI0OC05MC4yNCAxNS41NTItMTI4IDE0LjcyLTU0LjAxNiA0Mi40OTYtMTA3LjM5MiA4My4yLTE2MGg0MTcuMjhsLTE1LjM2IDcwLjMzNkw3MzYgOTZoMjExLjJjLTI0LjgzMiA0Mi44OC00MS45MiA5Ni4yNTYtNTEuMiAxNjBhNjYzLjg3MiA2NjMuODcyIDAgMCAwLTYuMTQ0IDEyOEg5NjB2MjU2YTEyOCAxMjggMCAwIDEtMTI4IDEyOEg3MDR2MTYwYTMyIDMyIDAgMCAxLTMyIDMySDM1MmEzMiAzMiAwIDAgMS0zMi0zMlY3NjhIMTkyQTEyOCAxMjggMCAwIDEgNjQgNjQwVjM4NGg2MS4yNDh6bTY0IDBoNjM2LjU0NGMtMi4wNDgtNDUuODI0LjI1Ni05MS41ODQgNi44NDgtMTM3LjIxNiA0LjQ4LTMwLjg0OCAxMC42ODgtNTkuNzc2IDE4LjY4OC04Ni43ODRoLTk2LjY0bC0yMjEuMTIgMTQxLjI0OEw1NjEuOTIgMTYwSDI1Ni41MTJjLTI1Ljg1NiAzNy44ODgtNDMuNzc2IDc1LjQ1Ni01My45NTIgMTEyLjgzMi04Ljc2OCAzMi4wNjQtMTMuMjQ4IDY5LjEyLTEzLjMxMiAxMTEuMTY4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2JydXNoLnZ1ZVxudmFyIGJydXNoX2RlZmF1bHQgPSBicnVzaF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYnVyZ2VyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyOCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syOCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syOCB9IGZyb20gXCJ2dWVcIjtcbnZhciBidXJnZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mjgoe1xuICBuYW1lOiBcIkJ1cmdlclwiLFxuICBfX25hbWU6IFwiYnVyZ2VyXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syOCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE2MCA1MTJhMzIgMzIgMCAwIDAtMzIgMzJ2NjRhMzIgMzIgMCAwIDAgMzAuMDggMzJIODY0YTMyIDMyIDAgMCAwIDMyLTMydi02NGEzMiAzMiAwIDAgMC0zMi0zMnptNzM2LTU4LjU2QTk2IDk2IDAgMCAxIDk2MCA1NDR2NjRhOTYgOTYgMCAwIDEtNTEuOTY4IDg1LjMxMkw4NTUuMzYgODMzLjZhOTYgOTYgMCAwIDEtODkuODU2IDYyLjI3MkgyNTguNDk2QTk2IDk2IDAgMCAxIDE2OC42NCA4MzMuNmwtNTIuNjA4LTE0MC4yMjRBOTYgOTYgMCAwIDEgNjQgNjA4di02NGE5NiA5NiAwIDAgMSA2NC05MC41NlY0NDhhMzg0IDM4NCAwIDEgMSA3NjggNS40NE04MzIgNDQ4YTMyMCAzMjAgMCAwIDAtNjQwIDB6TTUxMiA3MDRIMTg4LjM1Mmw0MC4xOTIgMTA3LjEzNmEzMiAzMiAwIDAgMCAyOS45NTIgMjAuNzM2aDUwNy4wMDhhMzIgMzIgMCAwIDAgMjkuOTUyLTIwLjczNkw4MzUuNjQ4IDcwNHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9idXJnZXIudnVlXG52YXIgYnVyZ2VyX2RlZmF1bHQgPSBidXJnZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NhbGVuZGFyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyOSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syOSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syOSB9IGZyb20gXCJ2dWVcIjtcbnZhciBjYWxlbmRhcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyOSh7XG4gIG5hbWU6IFwiQ2FsZW5kYXJcIixcbiAgX19uYW1lOiBcImNhbGVuZGFyXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syOSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTEyOCAzODR2NTEyaDc2OFYxOTJINzY4djMyYTMyIDMyIDAgMSAxLTY0IDB2LTMySDMyMHYzMmEzMiAzMiAwIDAgMS02NCAwdi0zMkgxMjh2MTI4aDc2OHY2NHptMTkyLTI1NmgzODRWOTZhMzIgMzIgMCAxIDEgNjQgMHYzMmgxNjBhMzIgMzIgMCAwIDEgMzIgMzJ2NzY4YTMyIDMyIDAgMCAxLTMyIDMySDk2YTMyIDMyIDAgMCAxLTMyLTMyVjE2MGEzMiAzMiAwIDAgMSAzMi0zMmgxNjBWOTZhMzIgMzIgMCAwIDEgNjQgMHptLTMyIDM4NGg2NGEzMiAzMiAwIDAgMSAwIDY0aC02NGEzMiAzMiAwIDAgMSAwLTY0bTAgMTkyaDY0YTMyIDMyIDAgMSAxIDAgNjRoLTY0YTMyIDMyIDAgMSAxIDAtNjRtMTkyLTE5Mmg2NGEzMiAzMiAwIDAgMSAwIDY0aC02NGEzMiAzMiAwIDAgMSAwLTY0bTAgMTkyaDY0YTMyIDMyIDAgMSAxIDAgNjRoLTY0YTMyIDMyIDAgMSAxIDAtNjRtMTkyLTE5Mmg2NGEzMiAzMiAwIDEgMSAwIDY0aC02NGEzMiAzMiAwIDEgMSAwLTY0bTAgMTkyaDY0YTMyIDMyIDAgMSAxIDAgNjRoLTY0YTMyIDMyIDAgMSAxIDAtNjRcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jYWxlbmRhci52dWVcbnZhciBjYWxlbmRhcl9kZWZhdWx0ID0gY2FsZW5kYXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NhbWVyYS1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MzAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTMwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazMwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazMwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNhbWVyYV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MzAoe1xuICBuYW1lOiBcIkNhbWVyYUZpbGxlZFwiLFxuICBfX25hbWU6IFwiY2FtZXJhLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMzAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazMwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUzMChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xNjAgMjI0YTY0IDY0IDAgMCAwLTY0IDY0djUxMmE2NCA2NCAwIDAgMCA2NCA2NGg3MDRhNjQgNjQgMCAwIDAgNjQtNjRWMjg4YTY0IDY0IDAgMCAwLTY0LTY0SDc0OC40MTZsLTQ2LjQ2NC05Mi42NzJBNjQgNjQgMCAwIDAgNjQ0LjczNiA5NkgzNzkuMzI4YTY0IDY0IDAgMCAwLTU3LjIxNiAzNS4zOTJMMjc1Ljc3NiAyMjR6bTM1MiA0MzUuMmExMTUuMiAxMTUuMiAwIDEgMCAwLTIzMC40IDExNS4yIDExNS4yIDAgMCAwIDAgMjMwLjRtMCAxNDAuOGEyNTYgMjU2IDAgMSAxIDAtNTEyIDI1NiAyNTYgMCAwIDEgMCA1MTJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jYW1lcmEtZmlsbGVkLnZ1ZVxudmFyIGNhbWVyYV9maWxsZWRfZGVmYXVsdCA9IGNhbWVyYV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NhbWVyYS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQzMSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMzEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMzEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMzEgfSBmcm9tIFwidnVlXCI7XG52YXIgY2FtZXJhX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDMxKHtcbiAgbmFtZTogXCJDYW1lcmFcIixcbiAgX19uYW1lOiBcImNhbWVyYVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMzEoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazMxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUzMShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04OTYgMjU2SDEyOHY1NzZoNzY4em0tMTk5LjQyNC02NC0zMi4wNjQtNjRoLTMwNC45NmwtMzIgNjR6TTk2IDE5MmgxNjBsNDYuMzM2LTkyLjYwOEE2NCA2NCAwIDAgMSAzNTkuNTUyIDY0aDMwNC45NmE2NCA2NCAwIDAgMSA1Ny4yMTYgMzUuMzI4TDc2OC4xOTIgMTkySDkyOGEzMiAzMiAwIDAgMSAzMiAzMnY2NDBhMzIgMzIgMCAwIDEtMzIgMzJIOTZhMzIgMzIgMCAwIDEtMzItMzJWMjI0YTMyIDMyIDAgMCAxIDMyLTMybTQxNiA1MTJhMTYwIDE2MCAwIDEgMCAwLTMyMCAxNjAgMTYwIDAgMCAwIDAgMzIwbTAgNjRhMjI0IDIyNCAwIDEgMSAwLTQ0OCAyMjQgMjI0IDAgMCAxIDAgNDQ4XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2FtZXJhLnZ1ZVxudmFyIGNhbWVyYV9kZWZhdWx0ID0gY2FtZXJhX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jYXJldC1ib3R0b20udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MzIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTMyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazMyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazMyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNhcmV0X2JvdHRvbV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQzMih7XG4gIG5hbWU6IFwiQ2FyZXRCb3R0b21cIixcbiAgX19uYW1lOiBcImNhcmV0LWJvdHRvbVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMzIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazMyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUzMihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm0xOTIgMzg0IDMyMCAzODQgMzIwLTM4NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jYXJldC1ib3R0b20udnVlXG52YXIgY2FyZXRfYm90dG9tX2RlZmF1bHQgPSBjYXJldF9ib3R0b21fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NhcmV0LWxlZnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MzMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTMzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazMzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazMzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNhcmV0X2xlZnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MzMoe1xuICBuYW1lOiBcIkNhcmV0TGVmdFwiLFxuICBfX25hbWU6IFwiY2FyZXQtbGVmdFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMzMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazMzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUzMyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02NzIgMTkyIDI4OCA1MTEuOTM2IDY3MiA4MzJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2FyZXQtbGVmdC52dWVcbnZhciBjYXJldF9sZWZ0X2RlZmF1bHQgPSBjYXJldF9sZWZ0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jYXJldC1yaWdodC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQzNCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMzQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMzQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMzQgfSBmcm9tIFwidnVlXCI7XG52YXIgY2FyZXRfcmlnaHRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MzQoe1xuICBuYW1lOiBcIkNhcmV0UmlnaHRcIixcbiAgX19uYW1lOiBcImNhcmV0LXJpZ2h0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2szNCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMzQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTM0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM4NCAxOTJ2NjQwbDM4NC0zMjAuMDY0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NhcmV0LXJpZ2h0LnZ1ZVxudmFyIGNhcmV0X3JpZ2h0X2RlZmF1bHQgPSBjYXJldF9yaWdodF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2FyZXQtdG9wLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDM1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUzNSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2szNSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2szNSB9IGZyb20gXCJ2dWVcIjtcbnZhciBjYXJldF90b3BfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MzUoe1xuICBuYW1lOiBcIkNhcmV0VG9wXCIsXG4gIF9fbmFtZTogXCJjYXJldC10b3BcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazM1KCksIF9jcmVhdGVFbGVtZW50QmxvY2szNShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMzUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDMyMCAxOTIgNzA0aDYzOS45MzZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2FyZXQtdG9wLnZ1ZVxudmFyIGNhcmV0X3RvcF9kZWZhdWx0ID0gY2FyZXRfdG9wX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jZWxscGhvbmUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MzYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTM2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazM2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazM2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNlbGxwaG9uZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQzNih7XG4gIG5hbWU6IFwiQ2VsbHBob25lXCIsXG4gIF9fbmFtZTogXCJjZWxscGhvbmVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazM2KCksIF9jcmVhdGVFbGVtZW50QmxvY2szNihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMzYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjU2IDEyOGE2NCA2NCAwIDAgMC02NCA2NHY2NDBhNjQgNjQgMCAwIDAgNjQgNjRoNTEyYTY0IDY0IDAgMCAwIDY0LTY0VjE5MmE2NCA2NCAwIDAgMC02NC02NHptMC02NGg1MTJhMTI4IDEyOCAwIDAgMSAxMjggMTI4djY0MGExMjggMTI4IDAgMCAxLTEyOCAxMjhIMjU2YTEyOCAxMjggMCAwIDEtMTI4LTEyOFYxOTJBMTI4IDEyOCAwIDAgMSAyNTYgNjRtMTI4IDEyOGgyNTZhMzIgMzIgMCAxIDEgMCA2NEgzODRhMzIgMzIgMCAwIDEgMC02NG0xMjggNjQwYTY0IDY0IDAgMSAxIDAtMTI4IDY0IDY0IDAgMCAxIDAgMTI4XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2VsbHBob25lLnZ1ZVxudmFyIGNlbGxwaG9uZV9kZWZhdWx0ID0gY2VsbHBob25lX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jaGF0LWRvdC1yb3VuZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQzNyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMzcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMzcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMzcgfSBmcm9tIFwidnVlXCI7XG52YXIgY2hhdF9kb3Rfcm91bmRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mzcoe1xuICBuYW1lOiBcIkNoYXREb3RSb3VuZFwiLFxuICBfX25hbWU6IFwiY2hhdC1kb3Qtcm91bmRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazM3KCksIF9jcmVhdGVFbGVtZW50QmxvY2szNyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMzcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtMTc0LjcyIDg1NS42OCAxMzUuMjk2LTQ1LjEyIDIzLjY4IDExLjg0QzM4OC4wOTYgODQ5LjUzNiA0NDguNTc2IDg2NCA1MTIgODY0YzIxMS44NCAwIDM4NC0xNjYuNzg0IDM4NC0zNTJTNzIzLjg0IDE2MCA1MTIgMTYwIDEyOCAzMjYuNzg0IDEyOCA1MTJjMCA2OS4xMiAyNC45NiAxMzkuMjY0IDcwLjg0OCAxOTkuMjMybDIyLjA4IDI4LjgtNDYuMjcyIDExNS41ODR6bS00NS4yNDggODIuNTZBMzIgMzIgMCAwIDEgODkuNiA4OTZsNTguMzY4LTE0NS45MkM5NC43MiA2ODAuMzIgNjQgNTk2Ljg2NCA2NCA1MTIgNjQgMjk5LjkwNCAyNTYgOTYgNTEyIDk2czQ0OCAyMDMuOTA0IDQ0OCA0MTYtMTkyIDQxNi00NDggNDE2YTQ2MS4wNTYgNDYxLjA1NiAwIDAgMS0yMDYuOTEyLTQ4LjM4NGwtMTc1LjYxNiA1OC41NnpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMzcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDU2My4yYTUxLjIgNTEuMiAwIDEgMSAwLTEwMi40IDUxLjIgNTEuMiAwIDAgMSAwIDEwMi40bTE5MiAwYTUxLjIgNTEuMiAwIDEgMSAwLTEwMi40IDUxLjIgNTEuMiAwIDAgMSAwIDEwMi40bS0zODQgMGE1MS4yIDUxLjIgMCAxIDEgMC0xMDIuNCA1MS4yIDUxLjIgMCAwIDEgMCAxMDIuNFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NoYXQtZG90LXJvdW5kLnZ1ZVxudmFyIGNoYXRfZG90X3JvdW5kX2RlZmF1bHQgPSBjaGF0X2RvdF9yb3VuZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2hhdC1kb3Qtc3F1YXJlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDM4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUzOCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2szOCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2szOCB9IGZyb20gXCJ2dWVcIjtcbnZhciBjaGF0X2RvdF9zcXVhcmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mzgoe1xuICBuYW1lOiBcIkNoYXREb3RTcXVhcmVcIixcbiAgX19uYW1lOiBcImNoYXQtZG90LXNxdWFyZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMzgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazM4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUzOChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yNzMuNTM2IDczNkg4MDBhNjQgNjQgMCAwIDAgNjQtNjRWMjU2YTY0IDY0IDAgMCAwLTY0LTY0SDIyNGE2NCA2NCAwIDAgMC02NCA2NHY1NzAuODh6TTI5NiA4MDAgMTQ3Ljk2OCA5MTguNEEzMiAzMiAwIDAgMSA5NiA4OTMuNDRWMjU2YTEyOCAxMjggMCAwIDEgMTI4LTEyOGg1NzZhMTI4IDEyOCAwIDAgMSAxMjggMTI4djQxNmExMjggMTI4IDAgMCAxLTEyOCAxMjh6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTM4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA0OTkuMmE1MS4yIDUxLjIgMCAxIDEgMC0xMDIuNCA1MS4yIDUxLjIgMCAwIDEgMCAxMDIuNHptMTkyIDBhNTEuMiA1MS4yIDAgMSAxIDAtMTAyLjQgNTEuMiA1MS4yIDAgMCAxIDAgMTAyLjR6bS0zODQgMGE1MS4yIDUxLjIgMCAxIDEgMC0xMDIuNCA1MS4yIDUxLjIgMCAwIDEgMCAxMDIuNHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaGF0LWRvdC1zcXVhcmUudnVlXG52YXIgY2hhdF9kb3Rfc3F1YXJlX2RlZmF1bHQgPSBjaGF0X2RvdF9zcXVhcmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NoYXQtbGluZS1yb3VuZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQzOSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMzksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMzksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMzkgfSBmcm9tIFwidnVlXCI7XG52YXIgY2hhdF9saW5lX3JvdW5kX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDM5KHtcbiAgbmFtZTogXCJDaGF0TGluZVJvdW5kXCIsXG4gIF9fbmFtZTogXCJjaGF0LWxpbmUtcm91bmRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazM5KCksIF9jcmVhdGVFbGVtZW50QmxvY2szOShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMzkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtMTc0LjcyIDg1NS42OCAxMzUuMjk2LTQ1LjEyIDIzLjY4IDExLjg0QzM4OC4wOTYgODQ5LjUzNiA0NDguNTc2IDg2NCA1MTIgODY0YzIxMS44NCAwIDM4NC0xNjYuNzg0IDM4NC0zNTJTNzIzLjg0IDE2MCA1MTIgMTYwIDEyOCAzMjYuNzg0IDEyOCA1MTJjMCA2OS4xMiAyNC45NiAxMzkuMjY0IDcwLjg0OCAxOTkuMjMybDIyLjA4IDI4LjgtNDYuMjcyIDExNS41ODR6bS00NS4yNDggODIuNTZBMzIgMzIgMCAwIDEgODkuNiA4OTZsNTguMzY4LTE0NS45MkM5NC43MiA2ODAuMzIgNjQgNTk2Ljg2NCA2NCA1MTIgNjQgMjk5LjkwNCAyNTYgOTYgNTEyIDk2czQ0OCAyMDMuOTA0IDQ0OCA0MTYtMTkyIDQxNi00NDggNDE2YTQ2MS4wNTYgNDYxLjA1NiAwIDAgMS0yMDYuOTEyLTQ4LjM4NGwtMTc1LjYxNiA1OC41NnpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMzkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzUyIDU3NmgzMjBxMzIgMCAzMiAzMnQtMzIgMzJIMzUycS0zMiAwLTMyLTMydDMyLTMybTMyLTE5MmgyNTZxMzIgMCAzMiAzMnQtMzIgMzJIMzg0cS0zMiAwLTMyLTMydDMyLTMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2hhdC1saW5lLXJvdW5kLnZ1ZVxudmFyIGNoYXRfbGluZV9yb3VuZF9kZWZhdWx0ID0gY2hhdF9saW5lX3JvdW5kX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jaGF0LWxpbmUtc3F1YXJlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDQwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU0MCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s0MCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s0MCB9IGZyb20gXCJ2dWVcIjtcbnZhciBjaGF0X2xpbmVfc3F1YXJlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDQwKHtcbiAgbmFtZTogXCJDaGF0TGluZVNxdWFyZVwiLFxuICBfX25hbWU6IFwiY2hhdC1saW5lLXNxdWFyZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNDAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazQwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU0MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xNjAgODI2Ljg4IDI3My41MzYgNzM2SDgwMGE2NCA2NCAwIDAgMCA2NC02NFYyNTZhNjQgNjQgMCAwIDAtNjQtNjRIMjI0YTY0IDY0IDAgMCAwLTY0IDY0ek0yOTYgODAwIDE0Ny45NjggOTE4LjRBMzIgMzIgMCAwIDEgOTYgODkzLjQ0VjI1NmExMjggMTI4IDAgMCAxIDEyOC0xMjhoNTc2YTEyOCAxMjggMCAwIDEgMTI4IDEyOHY0MTZhMTI4IDEyOCAwIDAgMS0xMjggMTI4elwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU0MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zNTIgNTEyaDMyMHEzMiAwIDMyIDMydC0zMiAzMkgzNTJxLTMyIDAtMzItMzJ0MzItMzJtMC0xOTJoMzIwcTMyIDAgMzIgMzJ0LTMyIDMySDM1MnEtMzIgMC0zMi0zMnQzMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NoYXQtbGluZS1zcXVhcmUudnVlXG52YXIgY2hhdF9saW5lX3NxdWFyZV9kZWZhdWx0ID0gY2hhdF9saW5lX3NxdWFyZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2hhdC1yb3VuZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ0MSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNDEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNDEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNDEgfSBmcm9tIFwidnVlXCI7XG52YXIgY2hhdF9yb3VuZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ0MSh7XG4gIG5hbWU6IFwiQ2hhdFJvdW5kXCIsXG4gIF9fbmFtZTogXCJjaGF0LXJvdW5kXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s0MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNDEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTQxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTE3NC43MiA4NTUuNjggMTMwLjA0OC00My4zOTIgMjMuNDI0IDExLjM5MkMzODIuNCA4NDkuOTg0IDQ0NC4zNTIgODY0IDUxMiA4NjRjMjIzLjc0NCAwIDM4NC0xNTkuODcyIDM4NC0zNTIgMC0xOTIuODMyLTE1OS4xMDQtMzUyLTM4NC0zNTJTMTI4IDMxOS4xNjggMTI4IDUxMmEzNDEuMTIgMzQxLjEyIDAgMCAwIDY5LjI0OCAyMDQuMjg4bDIxLjYzMiAyOC44LTQ0LjE2IDExMC41Mjh6bS00NS4yNDggODIuNTZBMzIgMzIgMCAwIDEgODkuNiA4OTZsNTYuNTEyLTE0MS4yNDhBNDA1LjEyIDQwNS4xMiAwIDAgMSA2NCA1MTJDNjQgMjk5LjkwNCAyMzUuNjQ4IDk2IDUxMiA5NnM0NDggMjAzLjkwNCA0NDggNDE2LTE3My40NCA0MTYtNDQ4IDQxNmMtNzkuNjggMC0xNTAuODQ4LTE3LjE1Mi0yMTEuNzEyLTQ2LjcybC0xNzAuODggNTYuOTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2hhdC1yb3VuZC52dWVcbnZhciBjaGF0X3JvdW5kX2RlZmF1bHQgPSBjaGF0X3JvdW5kX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jaGF0LXNxdWFyZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ0MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNDIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNDIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNDIgfSBmcm9tIFwidnVlXCI7XG52YXIgY2hhdF9zcXVhcmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NDIoe1xuICBuYW1lOiBcIkNoYXRTcXVhcmVcIixcbiAgX19uYW1lOiBcImNoYXQtc3F1YXJlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s0MigpLCBfY3JlYXRlRWxlbWVudEJsb2NrNDIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTQyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI3My41MzYgNzM2SDgwMGE2NCA2NCAwIDAgMCA2NC02NFYyNTZhNjQgNjQgMCAwIDAtNjQtNjRIMjI0YTY0IDY0IDAgMCAwLTY0IDY0djU3MC44OHpNMjk2IDgwMCAxNDcuOTY4IDkxOC40QTMyIDMyIDAgMCAxIDk2IDg5My40NFYyNTZhMTI4IDEyOCAwIDAgMSAxMjgtMTI4aDU3NmExMjggMTI4IDAgMCAxIDEyOCAxMjh2NDE2YTEyOCAxMjggMCAwIDEtMTI4IDEyOHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaGF0LXNxdWFyZS52dWVcbnZhciBjaGF0X3NxdWFyZV9kZWZhdWx0ID0gY2hhdF9zcXVhcmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NoZWNrLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDQzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU0Mywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s0MywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s0MyB9IGZyb20gXCJ2dWVcIjtcbnZhciBjaGVja192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ0Myh7XG4gIG5hbWU6IFwiQ2hlY2tcIixcbiAgX19uYW1lOiBcImNoZWNrXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s0MygpLCBfY3JlYXRlRWxlbWVudEJsb2NrNDMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTQzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQwNi42NTYgNzA2Ljk0NCAxOTUuODQgNDk2LjI1NmEzMiAzMiAwIDEgMC00NS4yNDggNDUuMjQ4bDI1NiAyNTYgNTEyLTUxMmEzMiAzMiAwIDAgMC00NS4yNDgtNDUuMjQ4TDQwNi41OTIgNzA2Ljk0NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaGVjay52dWVcbnZhciBjaGVja19kZWZhdWx0ID0gY2hlY2tfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NoZWNrZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NDQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTQ0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazQ0LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazQ0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNoZWNrZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NDQoe1xuICBuYW1lOiBcIkNoZWNrZWRcIixcbiAgX19uYW1lOiBcImNoZWNrZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazQ0KCksIF9jcmVhdGVFbGVtZW50QmxvY2s0NChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNDQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzA0IDE5MmgxNjB2NzM2SDE2MFYxOTJoMTYwLjA2NHY2NEg3MDR6TTMxMS42MTYgNTM3LjI4bC00NS4zMTIgNDUuMjQ4TDQ0Ny4zNiA3NjMuNTJsMzE2LjgtMzE2LjgtNDUuMzEyLTQ1LjE4NEw0NDcuMzYgNjczLjAyNHpNMzg0IDE5MlY5NmgyNTZ2OTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2hlY2tlZC52dWVcbnZhciBjaGVja2VkX2RlZmF1bHQgPSBjaGVja2VkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jaGVycnkudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NDUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTQ1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazQ1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazQ1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNoZXJyeV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ0NSh7XG4gIG5hbWU6IFwiQ2hlcnJ5XCIsXG4gIF9fbmFtZTogXCJjaGVycnlcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazQ1KCksIF9jcmVhdGVFbGVtZW50QmxvY2s0NShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNDUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjYxLjA1NiA0NDkuNmMxMy44MjQtNjkuNjk2IDM0Ljg4LTEyOC45NiA2My4zNi0xNzcuNzI4IDIzLjc0NC00MC44MzIgNjEuMTItODguNjQgMTEyLjI1Ni0xNDMuODcySDMyMGEzMiAzMiAwIDAgMSAwLTY0aDM4NGEzMiAzMiAwIDEgMSAwIDY0SDU1NC43NTJjMTQuOTEyIDM5LjE2OCA0MS4zNDQgODYuNTkyIDc5LjU1MiAxNDEuNzYgNDcuMzYgNjguNDggODQuOCAxMDYuNzUyIDEwNi4zMDQgMTE0LjMwNGEyMjQgMjI0IDAgMSAxLTg0Ljk5MiAxNC43ODRjLTIyLjY1Ni0yMi45MTItNDcuMDQtNTMuNzYtNzMuOTItOTIuNjA4LTM4Ljg0OC01Ni4xMjgtNjcuMDA4LTEwNS43OTItODQuMzUyLTE0OS4zMTItNTUuMjk2IDU4LjI0LTk0LjUyOCAxMDcuNTItMTE3Ljc2IDE0Ny4yLTIzLjE2OCAzOS43NDQtNDEuMDg4IDg4Ljc2OC01My41NjggMTQ3LjA3MmEyMjQuMDY0IDIyNC4wNjQgMCAxIDEtNjQuOTYtMS42ek0yODggODMyYTE2MCAxNjAgMCAxIDAgMC0zMjAgMTYwIDE2MCAwIDAgMCAwIDMyMG00NDgtNjRhMTYwIDE2MCAwIDEgMCAwLTMyMCAxNjAgMTYwIDAgMCAwIDAgMzIwXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2hlcnJ5LnZ1ZVxudmFyIGNoZXJyeV9kZWZhdWx0ID0gY2hlcnJ5X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jaGlja2VuLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDQ2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU0Niwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s0NiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s0NiB9IGZyb20gXCJ2dWVcIjtcbnZhciBjaGlja2VuX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDQ2KHtcbiAgbmFtZTogXCJDaGlja2VuXCIsXG4gIF9fbmFtZTogXCJjaGlja2VuXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s0NigpLCBfY3JlYXRlRWxlbWVudEJsb2NrNDYoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTQ2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM0OS45NTIgNzE2Ljk5MiA0NzguNzIgNTg4LjE2YTEwNi42ODggMTA2LjY4OCAwIDAgMS0yNi4xNzYtMTkuMDcyIDEwNi42ODggMTA2LjY4OCAwIDAgMS0xOS4wNzItMjYuMTc2TDMwNC43MDQgNjcxLjc0NGMuNzY4IDMuMDcyIDEuNDcyIDYuMTQ0IDIuMDQ4IDkuMjE2bDIuMDQ4IDMxLjkzNiAzMS44NzIgMS45ODRjMy4xMzYuNjQgNi4yMDggMS4yOCA5LjI4IDIuMTEyem01Ny4zNDQgMzMuMTUyYTEyOCAxMjggMCAxIDEtMjE2LjMyIDExNC40MzJsLTEuOTItMzItMzItMS45MmExMjggMTI4IDAgMSAxIDExNC40MzItMjE2LjMyTDQxNi42NCA0NjkuMjQ4Yy0yLjQzMi0xMDEuNDQgNTguMTEyLTIzOS4xMDQgMTQ5LjA1Ni0zMzAuMDQ4IDEwNy4zMjgtMTA3LjMyOCAyMzEuMjk2LTg1LjUwNCAzMTYuOCAwIDg1LjQ0IDg1LjQ0IDEwNy4zMjggMjA5LjQwOCAwIDMxNi44LTkxLjAwOCA5MC44OC0yMjguNjcyIDE1MS40MjQtMzMwLjExMiAxNDkuMDU2TDQwNy4yOTYgNzUwLjA4em05MC40OTYtMjI2LjMwNGM0OS41MzYgNDkuNTM2IDIzMy4zNDQtNy4wNCAzMzkuMzkyLTExMy4wODggNzguMjA4LTc4LjIwOCA2My4yMzItMTYzLjA3MiAwLTIyNi4zMDQtNjMuMTY4LTYzLjIzMi0xNDguMDMyLTc4LjIwOC0yMjYuMjQgMEM1MDQuODk2IDI5MC40OTYgNDQ4LjMyIDQ3NC4zNjggNDk3Ljc5MiA1MjMuODRNMjQ0Ljg2NCA3MDguOTI4YTY0IDY0IDAgMSAwLTU5Ljg0IDU5Ljg0bDU2LjMyLTMuNTJ6bTguMDY0IDEyNy42OGE2NCA2NCAwIDEgMCA1OS44NC01OS44NGwtNTYuMzIgMy41Mi0zLjUyIDU2LjMyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NoaWNrZW4udnVlXG52YXIgY2hpY2tlbl9kZWZhdWx0ID0gY2hpY2tlbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2hyb21lLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ0NyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNDcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNDcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNDcgfSBmcm9tIFwidnVlXCI7XG52YXIgY2hyb21lX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ0Nyh7XG4gIG5hbWU6IFwiQ2hyb21lRmlsbGVkXCIsXG4gIF9fbmFtZTogXCJjaHJvbWUtZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s0NygpLCBfY3JlYXRlRWxlbWVudEJsb2NrNDcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwieG1sOnNwYWNlXCI6IFwicHJlc2VydmVcIixcbiAgICAgIHN0eWxlOiB7IFwiZW5hYmxlLWJhY2tncm91bmRcIjogXCJuZXcgMCAwIDEwMjQgMTAyNFwiIH0sXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU0NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk05MzguNjcgNTEyLjAxYzAtNDQuNTktNi44Mi04Ny42LTE5LjU0LTEyOEg2ODIuNjdhMjEyLjM3MiAyMTIuMzcyIDAgMCAxIDQyLjY3IDEyOGMuMDYgMzguNzEtMTAuNDUgNzYuNy0zMC40MiAxMDkuODdsLTE4Mi45MSAzMTYuOGMyMzUuNjUtLjAxIDQyNi42Ni0xOTEuMDIgNDI2LjY2LTQyNi42N3pcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNDcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTc2Ljc5IDQwMS42M2ExMjcuOTIgMTI3LjkyIDAgMCAwLTYzLjU2LTE3LjZjLTIyLjM2LS4yMi00NC4zOSA1LjQzLTYzLjg5IDE2LjM4cy0zNS43OSAyNi44Mi00Ny4yNSA0Ni4wMmExMjguMDA1IDEyOC4wMDUgMCAwIDAtMi4xNiAxMjcuNDRsMS4yNCAyLjEzYTEyNy45MDYgMTI3LjkwNiAwIDAgMCA0Ni4zNiA0Ni42MSAxMjcuOTA3IDEyNy45MDcgMCAwIDAgNjMuMzggMTcuNDRjMjIuMjkuMiA0NC4yNC01LjQzIDYzLjY4LTE2LjMzYTEyNy45NCAxMjcuOTQgMCAwIDAgNDcuMTYtNDUuNzl2LS4wMWwxLjExLTEuOTJhMTI3Ljk4NCAxMjcuOTg0IDAgMCAwIC4yOS0xMjcuNDYgMTI3Ljk1NyAxMjcuOTU3IDAgMCAwLTQ2LjM2LTQ2LjkxXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTQ3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM5NC40NSAzMzMuOTZBMjEzLjMzNiAyMTMuMzM2IDAgMCAxIDUxMiAyOTguNjdoMzY5LjU4QTQyNi41MDMgNDI2LjUwMyAwIDAgMCA1MTIgODUuMzRhNDI1LjU5OCA0MjUuNTk4IDAgMCAwLTE3MS43NCAzNS45OCA0MjUuNjQ0IDQyNS42NDQgMCAwIDAtMTQyLjYyIDEwMi4yMmwxMTguMTQgMjA0LjYzYTIxMy4zOTcgMjEzLjM5NyAwIDAgMSA3OC42Ny05NC4yMW0xMTcuNTYgNjA0LjcySDUxMnptLTk3LjI1LTIzNi43M2EyMTMuMjg0IDIxMy4yODQgMCAwIDEtODkuNTQtODYuODFMMTQyLjQ4IDI5OC42Yy0zNi4zNSA2Mi44MS01Ny4xMyAxMzUuNjgtNTcuMTMgMjEzLjQyIDAgMjAzLjgxIDE0Mi45MyAzNzQuMjIgMzMzLjk1IDQxNi41NWguMDRsMTE4LjE5LTIwNC43MWEyMTMuMzE1IDIxMy4zMTUgMCAwIDEtMTIyLjc3LTIxLjkxelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Nocm9tZS1maWxsZWQudnVlXG52YXIgY2hyb21lX2ZpbGxlZF9kZWZhdWx0ID0gY2hyb21lX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2lyY2xlLWNoZWNrLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ0OCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNDgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNDgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNDggfSBmcm9tIFwidnVlXCI7XG52YXIgY2lyY2xlX2NoZWNrX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ0OCh7XG4gIG5hbWU6IFwiQ2lyY2xlQ2hlY2tGaWxsZWRcIixcbiAgX19uYW1lOiBcImNpcmNsZS1jaGVjay1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazQ4KCksIF9jcmVhdGVFbGVtZW50QmxvY2s0OChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNDgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0YTQ0OCA0NDggMCAxIDEgMCA4OTYgNDQ4IDQ0OCAwIDAgMSAwLTg5Nm0tNTUuODA4IDUzNi4zODQtOTkuNTItOTkuNTg0YTM4LjQgMzguNCAwIDEgMC01NC4zMzYgNTQuMzM2bDEyNi43MiAxMjYuNzJhMzguMjcyIDM4LjI3MiAwIDAgMCA1NC4zMzYgMGwyNjIuNC0yNjIuNDY0YTM4LjQgMzguNCAwIDEgMC01NC4yNzItNTQuMzM2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NpcmNsZS1jaGVjay1maWxsZWQudnVlXG52YXIgY2lyY2xlX2NoZWNrX2ZpbGxlZF9kZWZhdWx0ID0gY2lyY2xlX2NoZWNrX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2lyY2xlLWNoZWNrLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDQ5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU0OSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s0OSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s0OSB9IGZyb20gXCJ2dWVcIjtcbnZhciBjaXJjbGVfY2hlY2tfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NDkoe1xuICBuYW1lOiBcIkNpcmNsZUNoZWNrXCIsXG4gIF9fbmFtZTogXCJjaXJjbGUtY2hlY2tcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazQ5KCksIF9jcmVhdGVFbGVtZW50QmxvY2s0OShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNDkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDg5NmEzODQgMzg0IDAgMSAwIDAtNzY4IDM4NCAzODQgMCAwIDAgMCA3NjhtMCA2NGE0NDggNDQ4IDAgMSAxIDAtODk2IDQ0OCA0NDggMCAwIDEgMCA4OTZcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNDkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzQ1LjM0NCAzNjEuMzQ0YTMyIDMyIDAgMCAxIDQ1LjMxMiA0NS4zMTJsLTI4OCAyODhhMzIgMzIgMCAwIDEtNDUuMzEyIDBsLTE2MC0xNjBhMzIgMzIgMCAxIDEgNDUuMzEyLTQ1LjMxMkw0ODAgNjI2Ljc1MmwyNjUuMzQ0LTI2NS40MDh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2lyY2xlLWNoZWNrLnZ1ZVxudmFyIGNpcmNsZV9jaGVja19kZWZhdWx0ID0gY2lyY2xlX2NoZWNrX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jaXJjbGUtY2xvc2UtZmlsbGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDUwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU1MCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s1MCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s1MCB9IGZyb20gXCJ2dWVcIjtcbnZhciBjaXJjbGVfY2xvc2VfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDUwKHtcbiAgbmFtZTogXCJDaXJjbGVDbG9zZUZpbGxlZFwiLFxuICBfX25hbWU6IFwiY2lyY2xlLWNsb3NlLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNTAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazUwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU1MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNjRhNDQ4IDQ0OCAwIDEgMSAwIDg5NiA0NDggNDQ4IDAgMCAxIDAtODk2bTAgMzkzLjY2NEw0MDcuOTM2IDM1My42YTM4LjQgMzguNCAwIDEgMC01NC4zMzYgNTQuMzM2TDQ1Ny42NjQgNTEyIDM1My42IDYxNi4wNjRhMzguNCAzOC40IDAgMSAwIDU0LjMzNiA1NC4zMzZMNTEyIDU2Ni4zMzYgNjE2LjA2NCA2NzAuNGEzOC40IDM4LjQgMCAxIDAgNTQuMzM2LTU0LjMzNkw1NjYuMzM2IDUxMiA2NzAuNCA0MDcuOTM2YTM4LjQgMzguNCAwIDEgMC01NC4zMzYtNTQuMzM2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NpcmNsZS1jbG9zZS1maWxsZWQudnVlXG52YXIgY2lyY2xlX2Nsb3NlX2ZpbGxlZF9kZWZhdWx0ID0gY2lyY2xlX2Nsb3NlX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2lyY2xlLWNsb3NlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDUxIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU1MSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s1MSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s1MSB9IGZyb20gXCJ2dWVcIjtcbnZhciBjaXJjbGVfY2xvc2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NTEoe1xuICBuYW1lOiBcIkNpcmNsZUNsb3NlXCIsXG4gIF9fbmFtZTogXCJjaXJjbGUtY2xvc2VcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazUxKCksIF9jcmVhdGVFbGVtZW50QmxvY2s1MShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNTEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtNDY2Ljc1MiA1MTItOTAuNDk2LTkwLjQ5NmEzMiAzMiAwIDAgMSA0NS4yNDgtNDUuMjQ4TDUxMiA0NjYuNzUybDkwLjQ5Ni05MC40OTZhMzIgMzIgMCAxIDEgNDUuMjQ4IDQ1LjI0OEw1NTcuMjQ4IDUxMmw5MC40OTYgOTAuNDk2YTMyIDMyIDAgMSAxLTQ1LjI0OCA0NS4yNDhMNTEyIDU1Ny4yNDhsLTkwLjQ5NiA5MC40OTZhMzIgMzIgMCAwIDEtNDUuMjQ4LTQ1LjI0OHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNTEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDg5NmEzODQgMzg0IDAgMSAwIDAtNzY4IDM4NCAzODQgMCAwIDAgMCA3NjhtMCA2NGE0NDggNDQ4IDAgMSAxIDAtODk2IDQ0OCA0NDggMCAwIDEgMCA4OTZcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaXJjbGUtY2xvc2UudnVlXG52YXIgY2lyY2xlX2Nsb3NlX2RlZmF1bHQgPSBjaXJjbGVfY2xvc2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NpcmNsZS1wbHVzLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ1MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNTIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNTIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNTIgfSBmcm9tIFwidnVlXCI7XG52YXIgY2lyY2xlX3BsdXNfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDUyKHtcbiAgbmFtZTogXCJDaXJjbGVQbHVzRmlsbGVkXCIsXG4gIF9fbmFtZTogXCJjaXJjbGUtcGx1cy1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazUyKCksIF9jcmVhdGVFbGVtZW50QmxvY2s1MihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNTIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0YTQ0OCA0NDggMCAxIDEgMCA4OTYgNDQ4IDQ0OCAwIDAgMSAwLTg5Nm0tMzguNCA0MDkuNkgzMjYuNGEzOC40IDM4LjQgMCAxIDAgMCA3Ni44aDE0Ny4ydjE0Ny4yYTM4LjQgMzguNCAwIDAgMCA3Ni44IDBWNTUwLjRoMTQ3LjJhMzguNCAzOC40IDAgMCAwIDAtNzYuOEg1NTAuNFYzMjYuNGEzOC40IDM4LjQgMCAxIDAtNzYuOCAwdjE0Ny4yelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NpcmNsZS1wbHVzLWZpbGxlZC52dWVcbnZhciBjaXJjbGVfcGx1c19maWxsZWRfZGVmYXVsdCA9IGNpcmNsZV9wbHVzX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2lyY2xlLXBsdXMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NTMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTUzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazUzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazUzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNpcmNsZV9wbHVzX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDUzKHtcbiAgbmFtZTogXCJDaXJjbGVQbHVzXCIsXG4gIF9fbmFtZTogXCJjaXJjbGUtcGx1c1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNTMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazUzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU1MyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zNTIgNDgwaDMyMGEzMiAzMiAwIDEgMSAwIDY0SDM1MmEzMiAzMiAwIDAgMSAwLTY0XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTUzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCA2NzJWMzUyYTMyIDMyIDAgMSAxIDY0IDB2MzIwYTMyIDMyIDAgMCAxLTY0IDBcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNTMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDg5NmEzODQgMzg0IDAgMSAwIDAtNzY4IDM4NCAzODQgMCAwIDAgMCA3NjhtMCA2NGE0NDggNDQ4IDAgMSAxIDAtODk2IDQ0OCA0NDggMCAwIDEgMCA4OTZcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaXJjbGUtcGx1cy52dWVcbnZhciBjaXJjbGVfcGx1c19kZWZhdWx0ID0gY2lyY2xlX3BsdXNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Nsb2NrLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDU0IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU1NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s1NCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s1NCB9IGZyb20gXCJ2dWVcIjtcbnZhciBjbG9ja192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ1NCh7XG4gIG5hbWU6IFwiQ2xvY2tcIixcbiAgX19uYW1lOiBcImNsb2NrXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s1NCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNTQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTU0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA4OTZhMzg0IDM4NCAwIDEgMCAwLTc2OCAzODQgMzg0IDAgMCAwIDAgNzY4bTAgNjRhNDQ4IDQ0OCAwIDEgMSAwLTg5NiA0NDggNDQ4IDAgMCAxIDAgODk2XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTU0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCAyNTZhMzIgMzIgMCAwIDEgMzIgMzJ2MjU2YTMyIDMyIDAgMCAxLTY0IDBWMjg4YTMyIDMyIDAgMCAxIDMyLTMyXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTU0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCA1MTJoMjU2cTMyIDAgMzIgMzJ0LTMyIDMySDQ4MHEtMzIgMC0zMi0zMnQzMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Nsb2NrLnZ1ZVxudmFyIGNsb2NrX2RlZmF1bHQgPSBjbG9ja192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2xvc2UtYm9sZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ1NSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNTUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNTUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNTUgfSBmcm9tIFwidnVlXCI7XG52YXIgY2xvc2VfYm9sZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ1NSh7XG4gIG5hbWU6IFwiQ2xvc2VCb2xkXCIsXG4gIF9fbmFtZTogXCJjbG9zZS1ib2xkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s1NSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNTUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTU1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE5NS4yIDE5NS4yYTY0IDY0IDAgMCAxIDkwLjQ5NiAwTDUxMiA0MjEuNTA0IDczOC4zMDQgMTk1LjJhNjQgNjQgMCAwIDEgOTAuNDk2IDkwLjQ5Nkw2MDIuNDk2IDUxMiA4MjguOCA3MzguMzA0YTY0IDY0IDAgMCAxLTkwLjQ5NiA5MC40OTZMNTEyIDYwMi40OTYgMjg1LjY5NiA4MjguOGE2NCA2NCAwIDAgMS05MC40OTYtOTAuNDk2TDQyMS41MDQgNTEyIDE5NS4yIDI4NS42OTZhNjQgNjQgMCAwIDEgMC05MC40OTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2xvc2UtYm9sZC52dWVcbnZhciBjbG9zZV9ib2xkX2RlZmF1bHQgPSBjbG9zZV9ib2xkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jbG9zZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ1NiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNTYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNTYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNTYgfSBmcm9tIFwidnVlXCI7XG52YXIgY2xvc2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NTYoe1xuICBuYW1lOiBcIkNsb3NlXCIsXG4gIF9fbmFtZTogXCJjbG9zZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNTYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazU2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU1NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03NjQuMjg4IDIxNC41OTIgNTEyIDQ2Ni44OCAyNTkuNzEyIDIxNC41OTJhMzEuOTM2IDMxLjkzNiAwIDAgMC00NS4xMiA0NS4xMkw0NjYuNzUyIDUxMiAyMTQuNTI4IDc2NC4yMjRhMzEuOTM2IDMxLjkzNiAwIDEgMCA0NS4xMiA0NS4xODRMNTEyIDU1Ny4xODRsMjUyLjI4OCAyNTIuMjg4YTMxLjkzNiAzMS45MzYgMCAwIDAgNDUuMTItNDUuMTJMNTU3LjEyIDUxMi4wNjRsMjUyLjI4OC0yNTIuMzUyYTMxLjkzNiAzMS45MzYgMCAxIDAtNDUuMTItNDUuMTg0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Nsb3NlLnZ1ZVxudmFyIGNsb3NlX2RlZmF1bHQgPSBjbG9zZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2xvdWR5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDU3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU1Nywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s1NywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s1NyB9IGZyb20gXCJ2dWVcIjtcbnZhciBjbG91ZHlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NTcoe1xuICBuYW1lOiBcIkNsb3VkeVwiLFxuICBfX25hbWU6IFwiY2xvdWR5XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s1NygpLCBfY3JlYXRlRWxlbWVudEJsb2NrNTcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTU3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTU5OC40IDgzMS44NzJIMzI4LjE5MmEyNTYgMjU2IDAgMCAxLTM0LjQ5Ni01MTAuNTI4QTM1MiAzNTIgMCAxIDEgNTk4LjQgODMxLjg3Mm0tMjcxLjM2LTY0aDI3Mi4yNTZhMjg4IDI4OCAwIDEgMC0yNDguNTEyLTQxNy42NjRMMzM1LjA0IDM4MS40NGwtMzQuODE2IDMuNTg0YTE5MiAxOTIgMCAwIDAgMjYuODggMzgyLjg0OHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jbG91ZHkudnVlXG52YXIgY2xvdWR5X2RlZmF1bHQgPSBjbG91ZHlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NvZmZlZS1jdXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NTggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTU4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazU4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazU4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNvZmZlZV9jdXBfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NTgoe1xuICBuYW1lOiBcIkNvZmZlZUN1cFwiLFxuICBfX25hbWU6IFwiY29mZmVlLWN1cFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNTgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazU4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU1OChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03NjggMTkyYTE5MiAxOTIgMCAxIDEtOCAzODMuODA4QTI1Ni4xMjggMjU2LjEyOCAwIDAgMSA1MTIgNzY4SDMyMEEyNTYgMjU2IDAgMCAxIDY0IDUxMlYxNjBhMzIgMzIgMCAwIDEgMzItMzJoNjQwYTMyIDMyIDAgMCAxIDMyIDMyem0wIDY0djI1NmExMjggMTI4IDAgMSAwIDAtMjU2TTk2IDgzMmg2NDBhMzIgMzIgMCAxIDEgMCA2NEg5NmEzMiAzMiAwIDEgMSAwLTY0bTMyLTY0MHYzMjBhMTkyIDE5MiAwIDAgMCAxOTIgMTkyaDE5MmExOTIgMTkyIDAgMCAwIDE5Mi0xOTJWMTkyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NvZmZlZS1jdXAudnVlXG52YXIgY29mZmVlX2N1cF9kZWZhdWx0ID0gY29mZmVlX2N1cF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY29mZmVlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDU5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU1OSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s1OSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s1OSB9IGZyb20gXCJ2dWVcIjtcbnZhciBjb2ZmZWVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NTkoe1xuICBuYW1lOiBcIkNvZmZlZVwiLFxuICBfX25hbWU6IFwiY29mZmVlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s1OSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNTkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTU5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgyMi41OTIgMTkyaDE0LjI3MmEzMiAzMiAwIDAgMSAzMS42MTYgMjYuNzUybDIxLjMxMiAxMjhBMzIgMzIgMCAwIDEgODU4LjI0IDM4NGgtNDkuMzQ0bC0zOS4wNCA1NDYuMzA0QTMyIDMyIDAgMCAxIDczNy45MiA5NjBIMjg1LjgyNGEzMiAzMiAwIDAgMS0zMi0yOS42OTZMMjE0LjkxMiAzODRIMTY1Ljc2YTMyIDMyIDAgMCAxLTMxLjU1Mi0zNy4yNDhsMjEuMzEyLTEyOEEzMiAzMiAwIDAgMSAxODcuMTM2IDE5MmgxNC4wMTZsLTYuNzItOTMuNjk2QTMyIDMyIDAgMCAxIDIyNi4zNjggNjRoNTcxLjAwOGEzMiAzMiAwIDAgMSAzMS45MzYgMzQuMzA0em0tNjQuMTI4IDAgNC41NDQtNjRIMjYwLjczNmw0LjU0NCA2NGg0OTMuMTg0bS01NDguMTYgMTI4SDgyMC40OGwtMTAuNjg4LTY0SDIxNC4yMDhsLTEwLjY4OCA2NGg2Ljc4NG02OC43MzYgNjQgMzYuNTQ0IDUxMkg3MDguMTZsMzYuNTQ0LTUxMnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jb2ZmZWUudnVlXG52YXIgY29mZmVlX2RlZmF1bHQgPSBjb2ZmZWVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NvaW4udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NjAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTYwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazYwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazYwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNvaW5fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NjAoe1xuICBuYW1lOiBcIkNvaW5cIixcbiAgX19uYW1lOiBcImNvaW5cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazYwKCksIF9jcmVhdGVFbGVtZW50QmxvY2s2MChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNjAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtMTYxLjkyIDU4MC43MzYgMjkuODg4IDU4Ljg4QzE3MS4zMjggNjU5Ljc3NiAxNjAgNjgxLjcyOCAxNjAgNzA0YzAgODIuMzA0IDE1NS4zMjggMTYwIDM1MiAxNjBzMzUyLTc3LjY5NiAzNTItMTYwYzAtMjIuMjcyLTExLjM5Mi00NC4xNi0zMS44MDgtNjQuMzJsMzAuNDY0LTU4LjQzMkM5MDMuOTM2IDYxNS44MDggOTI4IDY1Ny42NjQgOTI4IDcwNGMwIDEyOS43MjgtMTg4LjU0NCAyMjQtNDE2IDIyNFM5NiA4MzMuNzI4IDk2IDcwNGMwLTQ2LjU5MiAyNC4zMi04OC41NzYgNjUuOTItMTIzLjI2NHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNjAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtMTYxLjkyIDM4OC43MzYgMjkuODg4IDU4Ljg4QzE3MS4zMjggNDY3Ljg0IDE2MCA0ODkuNzkyIDE2MCA1MTJjMCA4Mi4zMDQgMTU1LjMyOCAxNjAgMzUyIDE2MHMzNTItNzcuNjk2IDM1Mi0xNjBjMC0yMi4yNzItMTEuMzkyLTQ0LjE2LTMxLjgwOC02NC4zMmwzMC40NjQtNTguNDMyQzkwMy45MzYgNDIzLjgwOCA5MjggNDY1LjY2NCA5MjggNTEyYzAgMTI5LjcyOC0xODguNTQ0IDIyNC00MTYgMjI0Uzk2IDY0MS43MjggOTYgNTEyYzAtNDYuNTkyIDI0LjMyLTg4LjU3NiA2NS45Mi0xMjMuMjY0elwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU2MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNTQ0Yy0yMjcuNDU2IDAtNDE2LTk0LjI3Mi00MTYtMjI0UzI4NC41NDQgOTYgNTEyIDk2czQxNiA5NC4yNzIgNDE2IDIyNC0xODguNTQ0IDIyNC00MTYgMjI0bTAtNjRjMTk2LjY3MiAwIDM1Mi03Ny42OTYgMzUyLTE2MFM3MDguNjcyIDE2MCA1MTIgMTYwcy0zNTIgNzcuNjk2LTM1MiAxNjAgMTU1LjMyOCAxNjAgMzUyIDE2MFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NvaW4udnVlXG52YXIgY29pbl9kZWZhdWx0ID0gY29pbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY29sZC1kcmluay52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ2MSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNjEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNjEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNjEgfSBmcm9tIFwidnVlXCI7XG52YXIgY29sZF9kcmlua192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ2MSh7XG4gIG5hbWU6IFwiQ29sZERyaW5rXCIsXG4gIF9fbmFtZTogXCJjb2xkLWRyaW5rXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s2MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNjEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTYxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTc2OCA2NGExOTIgMTkyIDAgMSAxLTY5Ljk1MiAzNzAuODhMNDgwIDcyNS4zNzZWODk2aDk2YTMyIDMyIDAgMSAxIDAgNjRIMzIwYTMyIDMyIDAgMSAxIDAtNjRoOTZWNzI1LjM3Nkw3Ni44IDI3My41MzZhNjQgNjQgMCAwIDEtMTIuOC0zOC40di0xMC42ODhhMzIgMzIgMCAwIDEgMzItMzJoNzEuODA4bC02NS41MzYtODMuODRhMzIgMzIgMCAwIDEgNTAuNDMyLTM5LjQyNGw5Ni4yNTYgMTIzLjI2NGgzMzcuNzI4QTE5Mi4wNjQgMTkyLjA2NCAwIDAgMSA3NjggNjRNNjU2Ljg5NiAxOTIuNDQ4SDgwMGEzMiAzMiAwIDAgMSAzMiAzMnYxMC42MjRhNjQgNjQgMCAwIDEtMTIuOCAzOC40bC04MC40NDggMTA3LjJhMTI4IDEyOCAwIDEgMC04MS45Mi0xODguMTZ2LS4wNjR6bS0zNTcuODg4IDY0IDEyOS40NzIgMTY1Ljc2YTMyIDMyIDAgMCAxLTUwLjQzMiAzOS4zNmwtMTYwLjI1Ni0yMDUuMTJIMTQ0bDMwNCA0MDQuOTI4IDMwNC00MDQuOTI4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NvbGQtZHJpbmsudnVlXG52YXIgY29sZF9kcmlua19kZWZhdWx0ID0gY29sZF9kcmlua192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY29sbGVjdGlvbi10YWcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NjIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTYyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazYyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazYyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNvbGxlY3Rpb25fdGFnX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDYyKHtcbiAgbmFtZTogXCJDb2xsZWN0aW9uVGFnXCIsXG4gIF9fbmFtZTogXCJjb2xsZWN0aW9uLXRhZ1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNjIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazYyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU2MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yNTYgMTI4djY5OC44OGwxOTYuMDMyLTE1Ni44NjRhOTYgOTYgMCAwIDEgMTE5LjkzNiAwTDc2OCA4MjYuODE2VjEyOHptLTMyLTY0aDU3NmEzMiAzMiAwIDAgMSAzMiAzMnY3OTcuNDRhMzIgMzIgMCAwIDEtNTEuOTY4IDI0Ljk2TDUzMS45NjggNzIwYTMyIDMyIDAgMCAwLTM5LjkzNiAwTDI0My45NjggOTE4LjRBMzIgMzIgMCAwIDEgMTkyIDg5My40NFY5NmEzMiAzMiAwIDAgMSAzMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NvbGxlY3Rpb24tdGFnLnZ1ZVxudmFyIGNvbGxlY3Rpb25fdGFnX2RlZmF1bHQgPSBjb2xsZWN0aW9uX3RhZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY29sbGVjdGlvbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ2MyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNjMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNjMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNjMgfSBmcm9tIFwidnVlXCI7XG52YXIgY29sbGVjdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ2Myh7XG4gIG5hbWU6IFwiQ29sbGVjdGlvblwiLFxuICBfX25hbWU6IFwiY29sbGVjdGlvblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNjMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazYzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU2MyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xOTIgNzM2aDY0MFYxMjhIMjU2YTY0IDY0IDAgMCAwLTY0IDY0em02NC02NzJoNjA4YTMyIDMyIDAgMCAxIDMyIDMydjY3MmEzMiAzMiAwIDAgMS0zMiAzMkgxNjBsLTMyIDU3LjUzNlYxOTJBMTI4IDEyOCAwIDAgMSAyNTYgNjRcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNjMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjQwIDgwMGE0OCA0OCAwIDEgMCAwIDk2aDU5MnYtOTZ6bTAtNjRoNjU2djE2MGE2NCA2NCAwIDAgMS02NCA2NEgyNDBhMTEyIDExMiAwIDAgMSAwLTIyNG0xNDQtNjA4djI1MC44OGw5Ni03Ni44IDk2IDc2LjhWMTI4em0tNjQtNjRoMzIwdjM4MS40NGEzMiAzMiAwIDAgMS01MS45NjggMjQuOTZMNDgwIDM4NGwtMTA4LjAzMiA4Ni40QTMyIDMyIDAgMCAxIDMyMCA0NDUuNDR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY29sbGVjdGlvbi52dWVcbnZhciBjb2xsZWN0aW9uX2RlZmF1bHQgPSBjb2xsZWN0aW9uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jb21tZW50LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDY0IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU2NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s2NCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s2NCB9IGZyb20gXCJ2dWVcIjtcbnZhciBjb21tZW50X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDY0KHtcbiAgbmFtZTogXCJDb21tZW50XCIsXG4gIF9fbmFtZTogXCJjb21tZW50XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s2NCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNjQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTY0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTczNiA1MDRhNTYgNTYgMCAxIDEgMC0xMTIgNTYgNTYgMCAwIDEgMCAxMTJtLTIyNCAwYTU2IDU2IDAgMSAxIDAtMTEyIDU2IDU2IDAgMCAxIDAgMTEybS0yMjQgMGE1NiA1NiAwIDEgMSAwLTExMiA1NiA1NiAwIDAgMSAwIDExMk0xMjggMTI4djY0MGgxOTJ2MTYwbDIyNC0xNjBoMzUyVjEyOHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jb21tZW50LnZ1ZVxudmFyIGNvbW1lbnRfZGVmYXVsdCA9IGNvbW1lbnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NvbXBhc3MudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NjUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTY1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazY1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazY1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNvbXBhc3NfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NjUoe1xuICBuYW1lOiBcIkNvbXBhc3NcIixcbiAgX19uYW1lOiBcImNvbXBhc3NcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazY1KCksIF9jcmVhdGVFbGVtZW50QmxvY2s2NShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNjUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDg5NmEzODQgMzg0IDAgMSAwIDAtNzY4IDM4NCAzODQgMCAwIDAgMCA3NjhtMCA2NGE0NDggNDQ4IDAgMSAxIDAtODk2IDQ0OCA0NDggMCAwIDEgMCA4OTZcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNjUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzI1Ljg4OCAzMTUuMDA4QzY3Ni40OCA0MjguNjcyIDYyNCA1MTMuMjggNTY4LjU3NiA1NjguNjRjLTU1LjQyNCA1NS40MjQtMTM5Ljk2OCAxMDcuOTA0LTI1My41NjggMTU3LjMxMmExMi44IDEyLjggMCAwIDEtMTYuODk2LTE2LjgzMmM0OS41MzYtMTEzLjcyOCAxMDIuMDE2LTE5OC4yNzIgMTU3LjMxMi0yNTMuNjMyIDU1LjM2LTU1LjI5NiAxMzkuOTA0LTEwNy43NzYgMjUzLjYzMi0xNTcuMzEyYTEyLjggMTIuOCAwIDAgMSAxNi44MzIgMTYuODMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY29tcGFzcy52dWVcbnZhciBjb21wYXNzX2RlZmF1bHQgPSBjb21wYXNzX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jb25uZWN0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDY2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU2Niwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s2NiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s2NiB9IGZyb20gXCJ2dWVcIjtcbnZhciBjb25uZWN0aW9uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDY2KHtcbiAgbmFtZTogXCJDb25uZWN0aW9uXCIsXG4gIF9fbmFtZTogXCJjb25uZWN0aW9uXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s2NigpLCBfY3JlYXRlRWxlbWVudEJsb2NrNjYoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTY2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTY0MCAzODR2NjRINDQ4YTEyOCAxMjggMCAwIDAtMTI4IDEyOHYxMjhhMTI4IDEyOCAwIDAgMCAxMjggMTI4aDMyMGExMjggMTI4IDAgMCAwIDEyOC0xMjhWNTc2YTEyOCAxMjggMCAwIDAtNjQtMTEwLjg0OFYzOTQuODhjNzQuNTYgMjYuMzY4IDEyOCA5Ny40NzIgMTI4IDE4MS4wNTZ2MTI4YTE5MiAxOTIgMCAwIDEtMTkyIDE5Mkg0NDhhMTkyIDE5MiAwIDAgMS0xOTItMTkyVjU3NmExOTIgMTkyIDAgMCAxIDE5Mi0xOTJ6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTY2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM4NCA2NDB2LTY0aDE5MmExMjggMTI4IDAgMCAwIDEyOC0xMjhWMzIwYTEyOCAxMjggMCAwIDAtMTI4LTEyOEgyNTZhMTI4IDEyOCAwIDAgMC0xMjggMTI4djEyOGExMjggMTI4IDAgMCAwIDY0IDExMC44NDh2NzAuMjcyQTE5Mi4wNjQgMTkyLjA2NCAwIDAgMSA2NCA0NDhWMzIwYTE5MiAxOTIgMCAwIDEgMTkyLTE5MmgzMjBhMTkyIDE5MiAwIDAgMSAxOTIgMTkydjEyOGExOTIgMTkyIDAgMCAxLTE5MiAxOTJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY29ubmVjdGlvbi52dWVcbnZhciBjb25uZWN0aW9uX2RlZmF1bHQgPSBjb25uZWN0aW9uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jb29yZGluYXRlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDY3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU2Nywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s2NywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s2NyB9IGZyb20gXCJ2dWVcIjtcbnZhciBjb29yZGluYXRlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDY3KHtcbiAgbmFtZTogXCJDb29yZGluYXRlXCIsXG4gIF9fbmFtZTogXCJjb29yZGluYXRlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s2NygpLCBfY3JlYXRlRWxlbWVudEJsb2NrNjcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTY3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCA1MTJoNjR2MzIwaC02NHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNjcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTkyIDg5Nmg2NDBhNjQgNjQgMCAwIDAtNjQtNjRIMjU2YTY0IDY0IDAgMCAwLTY0IDY0bTY0LTEyOGg1MTJhMTI4IDEyOCAwIDAgMSAxMjggMTI4djY0SDEyOHYtNjRhMTI4IDEyOCAwIDAgMSAxMjgtMTI4bTI1Ni0yNTZhMTkyIDE5MiAwIDEgMCAwLTM4NCAxOTIgMTkyIDAgMCAwIDAgMzg0bTAgNjRhMjU2IDI1NiAwIDEgMSAwLTUxMiAyNTYgMjU2IDAgMCAxIDAgNTEyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY29vcmRpbmF0ZS52dWVcbnZhciBjb29yZGluYXRlX2RlZmF1bHQgPSBjb29yZGluYXRlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jb3B5LWRvY3VtZW50LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDY4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU2OCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s2OCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s2OCB9IGZyb20gXCJ2dWVcIjtcbnZhciBjb3B5X2RvY3VtZW50X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDY4KHtcbiAgbmFtZTogXCJDb3B5RG9jdW1lbnRcIixcbiAgX19uYW1lOiBcImNvcHktZG9jdW1lbnRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazY4KCksIF9jcmVhdGVFbGVtZW50QmxvY2s2OChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNjgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzY4IDgzMmExMjggMTI4IDAgMCAxLTEyOCAxMjhIMTkyQTEyOCAxMjggMCAwIDEgNjQgODMyVjM4NGExMjggMTI4IDAgMCAxIDEyOC0xMjh2NjRhNjQgNjQgMCAwIDAtNjQgNjR2NDQ4YTY0IDY0IDAgMCAwIDY0IDY0aDQ0OGE2NCA2NCAwIDAgMCA2NC02NHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNjgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzg0IDEyOGE2NCA2NCAwIDAgMC02NCA2NHY0NDhhNjQgNjQgMCAwIDAgNjQgNjRoNDQ4YTY0IDY0IDAgMCAwIDY0LTY0VjE5MmE2NCA2NCAwIDAgMC02NC02NHptMC02NGg0NDhhMTI4IDEyOCAwIDAgMSAxMjggMTI4djQ0OGExMjggMTI4IDAgMCAxLTEyOCAxMjhIMzg0YTEyOCAxMjggMCAwIDEtMTI4LTEyOFYxOTJBMTI4IDEyOCAwIDAgMSAzODQgNjRcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jb3B5LWRvY3VtZW50LnZ1ZVxudmFyIGNvcHlfZG9jdW1lbnRfZGVmYXVsdCA9IGNvcHlfZG9jdW1lbnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NwdS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ2OSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNjksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNjksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNjkgfSBmcm9tIFwidnVlXCI7XG52YXIgY3B1X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDY5KHtcbiAgbmFtZTogXCJDcHVcIixcbiAgX19uYW1lOiBcImNwdVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNjkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazY5KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU2OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zMjAgMjU2YTY0IDY0IDAgMCAwLTY0IDY0djM4NGE2NCA2NCAwIDAgMCA2NCA2NGgzODRhNjQgNjQgMCAwIDAgNjQtNjRWMzIwYTY0IDY0IDAgMCAwLTY0LTY0em0wLTY0aDM4NGExMjggMTI4IDAgMCAxIDEyOCAxMjh2Mzg0YTEyOCAxMjggMCAwIDEtMTI4IDEyOEgzMjBhMTI4IDEyOCAwIDAgMS0xMjgtMTI4VjMyMGExMjggMTI4IDAgMCAxIDEyOC0xMjhcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNjkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0YTMyIDMyIDAgMCAxIDMyIDMydjEyOGgtNjRWOTZhMzIgMzIgMCAwIDEgMzItMzJtMTYwIDBhMzIgMzIgMCAwIDEgMzIgMzJ2MTI4aC02NFY5NmEzMiAzMiAwIDAgMSAzMi0zMm0tMzIwIDBhMzIgMzIgMCAwIDEgMzIgMzJ2MTI4aC02NFY5NmEzMiAzMiAwIDAgMSAzMi0zMm0xNjAgODk2YTMyIDMyIDAgMCAxLTMyLTMyVjgwMGg2NHYxMjhhMzIgMzIgMCAwIDEtMzIgMzJtMTYwIDBhMzIgMzIgMCAwIDEtMzItMzJWODAwaDY0djEyOGEzMiAzMiAwIDAgMS0zMiAzMm0tMzIwIDBhMzIgMzIgMCAwIDEtMzItMzJWODAwaDY0djEyOGEzMiAzMiAwIDAgMS0zMiAzMk02NCA1MTJhMzIgMzIgMCAwIDEgMzItMzJoMTI4djY0SDk2YTMyIDMyIDAgMCAxLTMyLTMybTAtMTYwYTMyIDMyIDAgMCAxIDMyLTMyaDEyOHY2NEg5NmEzMiAzMiAwIDAgMS0zMi0zMm0wIDMyMGEzMiAzMiAwIDAgMSAzMi0zMmgxMjh2NjRIOTZhMzIgMzIgMCAwIDEtMzItMzJtODk2LTE2MGEzMiAzMiAwIDAgMS0zMiAzMkg4MDB2LTY0aDEyOGEzMiAzMiAwIDAgMSAzMiAzMm0wLTE2MGEzMiAzMiAwIDAgMS0zMiAzMkg4MDB2LTY0aDEyOGEzMiAzMiAwIDAgMSAzMiAzMm0wIDMyMGEzMiAzMiAwIDAgMS0zMiAzMkg4MDB2LTY0aDEyOGEzMiAzMiAwIDAgMSAzMiAzMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NwdS52dWVcbnZhciBjcHVfZGVmYXVsdCA9IGNwdV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY3JlZGl0LWNhcmQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NzAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTcwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazcwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazcwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNyZWRpdF9jYXJkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDcwKHtcbiAgbmFtZTogXCJDcmVkaXRDYXJkXCIsXG4gIF9fbmFtZTogXCJjcmVkaXQtY2FyZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNzAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazcwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU3MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04OTYgMzI0LjA5NmMwLTQyLjM2OC0yLjQ5Ni01NS4yOTYtOS41MzYtNjguNDhhNTIuMzUyIDUyLjM1MiAwIDAgMC0yMi4xNDQtMjIuMDhjLTEzLjEyLTcuMDQtMjYuMDQ4LTkuNTM2LTY4LjQxNi05LjUzNkgyMjguMDk2Yy00Mi4zNjggMC01NS4yOTYgMi40OTYtNjguNDggOS41MzZhNTIuMzUyIDUyLjM1MiAwIDAgMC0yMi4wOCAyMi4xNDRjLTcuMDQgMTMuMTItOS41MzYgMjYuMDQ4LTkuNTM2IDY4LjQxNnYzNzUuODA4YzAgNDIuMzY4IDIuNDk2IDU1LjI5NiA5LjUzNiA2OC40OGE1Mi4zNTIgNTIuMzUyIDAgMCAwIDIyLjE0NCAyMi4wOGMxMy4xMiA3LjA0IDI2LjA0OCA5LjUzNiA2OC40MTYgOS41MzZoNTY3LjgwOGM0Mi4zNjggMCA1NS4yOTYtMi40OTYgNjguNDgtOS41MzZhNTIuMzUyIDUyLjM1MiAwIDAgMCAyMi4wOC0yMi4xNDRjNy4wNC0xMy4xMiA5LjUzNi0yNi4wNDggOS41MzYtNjguNDE2em02NCAwdjM3NS44MDhjMCA1Ny4wODgtNS45NTIgNzcuNzYtMTcuMDg4IDk4LjU2LTExLjEzNiAyMC45MjgtMjcuNTIgMzcuMzEyLTQ4LjM4NCA0OC40NDgtMjAuODY0IDExLjEzNi00MS42IDE3LjA4OC05OC41NiAxNy4wODhIMjI4LjAzMmMtNTcuMDg4IDAtNzcuNzYtNS45NTItOTguNTYtMTcuMDg4YTExNi4yODggMTE2LjI4OCAwIDAgMS00OC40NDgtNDguMzg0Yy0xMS4xMzYtMjAuODY0LTE3LjA4OC00MS42LTE3LjA4OC05OC41NlYzMjQuMDMyYzAtNTcuMDg4IDUuOTUyLTc3Ljc2IDE3LjA4OC05OC41NiAxMS4xMzYtMjAuOTI4IDI3LjUyLTM3LjMxMiA0OC4zODQtNDguNDQ4IDIwLjg2NC0xMS4xMzYgNDEuNi0xNy4wODggOTguNTYtMTcuMDg4SDc5NS44NGM1Ny4wODggMCA3Ny43NiA1Ljk1MiA5OC41NiAxNy4wODggMjAuOTI4IDExLjEzNiAzNy4zMTIgMjcuNTIgNDguNDQ4IDQ4LjM4NCAxMS4xMzYgMjAuODY0IDE3LjA4OCA0MS42IDE3LjA4OCA5OC41NnpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNzAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjQgMzIwaDg5NnY2NEg2NHptMCAxMjhoODk2djY0SDY0em0xMjggMTkyaDI1NnY2NEgxOTJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY3JlZGl0LWNhcmQudnVlXG52YXIgY3JlZGl0X2NhcmRfZGVmYXVsdCA9IGNyZWRpdF9jYXJkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jcm9wLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDcxIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU3MSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s3MSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s3MSB9IGZyb20gXCJ2dWVcIjtcbnZhciBjcm9wX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDcxKHtcbiAgbmFtZTogXCJDcm9wXCIsXG4gIF9fbmFtZTogXCJjcm9wXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s3MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNzEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTcxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI1NiA3NjhoNjcyYTMyIDMyIDAgMSAxIDAgNjRIMjI0YTMyIDMyIDAgMCAxLTMyLTMyVjk2YTMyIDMyIDAgMCAxIDY0IDB6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTcxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgzMiAyMjR2NzA0YTMyIDMyIDAgMSAxLTY0IDBWMjU2SDk2YTMyIDMyIDAgMCAxIDAtNjRoNzA0YTMyIDMyIDAgMCAxIDMyIDMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY3JvcC52dWVcbnZhciBjcm9wX2RlZmF1bHQgPSBjcm9wX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9kLWFycm93LWxlZnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NzIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTcyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazcyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazcyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRfYXJyb3dfbGVmdF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ3Mih7XG4gIG5hbWU6IFwiREFycm93TGVmdFwiLFxuICBfX25hbWU6IFwiZC1hcnJvdy1sZWZ0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s3MigpLCBfY3JlYXRlRWxlbWVudEJsb2NrNzIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTcyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUyOS40MDggMTQ5LjM3NmEyOS4xMiAyOS4xMiAwIDAgMSA0MS43MjggMCAzMC41OTIgMzAuNTkyIDAgMCAxIDAgNDIuNjg4TDI1OS4yNjQgNTExLjkzNmwzMTEuODcyIDMxOS45MzZhMzAuNTkyIDMwLjU5MiAwIDAgMS0uNTEyIDQzLjI2NCAyOS4xMiAyOS4xMiAwIDAgMS00MS4yMTYtLjUxMkwxOTcuNzYgNTM0LjI3MmEzMiAzMiAwIDAgMSAwLTQ0LjY3MmwzMzEuNjQ4LTM0MC4yMjR6bTI1NiAwYTI5LjEyIDI5LjEyIDAgMCAxIDQxLjcyOCAwIDMwLjU5MiAzMC41OTIgMCAwIDEgMCA0Mi42ODhMNTE1LjI2NCA1MTEuOTM2bDMxMS44NzIgMzE5LjkzNmEzMC41OTIgMzAuNTkyIDAgMCAxLS41MTIgNDMuMjY0IDI5LjEyIDI5LjEyIDAgMCAxLTQxLjIxNi0uNTEyTDQ1My43NiA1MzQuMjcyYTMyIDMyIDAgMCAxIDAtNDQuNjcybDMzMS42NDgtMzQwLjIyNHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kLWFycm93LWxlZnQudnVlXG52YXIgZF9hcnJvd19sZWZ0X2RlZmF1bHQgPSBkX2Fycm93X2xlZnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2QtYXJyb3ctcmlnaHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NzMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTczLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazczLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazczIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRfYXJyb3dfcmlnaHRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NzMoe1xuICBuYW1lOiBcIkRBcnJvd1JpZ2h0XCIsXG4gIF9fbmFtZTogXCJkLWFycm93LXJpZ2h0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s3MygpLCBfY3JlYXRlRWxlbWVudEJsb2NrNzMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTczKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ1Mi44NjQgMTQ5LjMxMmEyOS4xMiAyOS4xMiAwIDAgMSA0MS43MjguMDY0TDgyNi4yNCA0ODkuNjY0YTMyIDMyIDAgMCAxIDAgNDQuNjcyTDQ5NC41OTIgODc0LjYyNGEyOS4xMiAyOS4xMiAwIDAgMS00MS43MjggMCAzMC41OTIgMzAuNTkyIDAgMCAxIDAtNDIuNzUyTDc2NC43MzYgNTEyIDQ1Mi44NjQgMTkyYTMwLjU5MiAzMC41OTIgMCAwIDEgMC00Mi42ODhtLTI1NiAwYTI5LjEyIDI5LjEyIDAgMCAxIDQxLjcyOC4wNjRMNTcwLjI0IDQ4OS42NjRhMzIgMzIgMCAwIDEgMCA0NC42NzJMMjM4LjU5MiA4NzQuNjI0YTI5LjEyIDI5LjEyIDAgMCAxLTQxLjcyOCAwIDMwLjU5MiAzMC41OTIgMCAwIDEgMC00Mi43NTJMNTA4LjczNiA1MTIgMTk2Ljg2NCAxOTJhMzAuNTkyIDMwLjU5MiAwIDAgMSAwLTQyLjY4OHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kLWFycm93LXJpZ2h0LnZ1ZVxudmFyIGRfYXJyb3dfcmlnaHRfZGVmYXVsdCA9IGRfYXJyb3dfcmlnaHRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2QtY2FyZXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NzQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTc0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazc0LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazc0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRfY2FyZXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NzQoe1xuICBuYW1lOiBcIkRDYXJldFwiLFxuICBfX25hbWU6IFwiZC1jYXJldFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNzQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazc0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU3NChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm01MTIgMTI4IDI4OCAzMjBIMjI0ek0yMjQgNTc2aDU3Nkw1MTIgODk2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2QtY2FyZXQudnVlXG52YXIgZF9jYXJldF9kZWZhdWx0ID0gZF9jYXJldF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZGF0YS1hbmFseXNpcy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ3NSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNzUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNzUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNzUgfSBmcm9tIFwidnVlXCI7XG52YXIgZGF0YV9hbmFseXNpc192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ3NSh7XG4gIG5hbWU6IFwiRGF0YUFuYWx5c2lzXCIsXG4gIF9fbmFtZTogXCJkYXRhLWFuYWx5c2lzXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s3NSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNzUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTc1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTY2NS4yMTYgNzY4IDExMC44NDggMTkyaC03My44NTZMNTkxLjM2IDc2OEg0MzMuMDI0TDMyMi4xNzYgOTYwSDI0OC4zMmwxMTAuODQ4LTE5MkgxNjBhMzIgMzIgMCAwIDEtMzItMzJWMTkySDY0YTMyIDMyIDAgMCAxIDAtNjRoODk2YTMyIDMyIDAgMSAxIDAgNjRoLTY0djU0NGEzMiAzMiAwIDAgMS0zMiAzMnpNODMyIDE5MkgxOTJ2NTEyaDY0MHpNMzUyIDQ0OGEzMiAzMiAwIDAgMSAzMiAzMnY2NGEzMiAzMiAwIDAgMS02NCAwdi02NGEzMiAzMiAwIDAgMSAzMi0zMm0xNjAtNjRhMzIgMzIgMCAwIDEgMzIgMzJ2MTI4YTMyIDMyIDAgMCAxLTY0IDBWNDE2YTMyIDMyIDAgMCAxIDMyLTMybTE2MC02NGEzMiAzMiAwIDAgMSAzMiAzMnYxOTJhMzIgMzIgMCAxIDEtNjQgMFYzNTJhMzIgMzIgMCAwIDEgMzItMzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kYXRhLWFuYWx5c2lzLnZ1ZVxudmFyIGRhdGFfYW5hbHlzaXNfZGVmYXVsdCA9IGRhdGFfYW5hbHlzaXNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2RhdGEtYm9hcmQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NzYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTc2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazc2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazc2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRhdGFfYm9hcmRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NzYoe1xuICBuYW1lOiBcIkRhdGFCb2FyZFwiLFxuICBfX25hbWU6IFwiZGF0YS1ib2FyZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNzYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazc2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU3NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zMiAxMjhoOTYwdjY0SDMyelwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU3NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xOTIgMTkydjUxMmg2NDBWMTkyem0tNjQtNjRoNzY4djYwOGEzMiAzMiAwIDAgMS0zMiAzMkgxNjBhMzIgMzIgMCAwIDEtMzItMzJ6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTc2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTMyMi4xNzYgOTYwSDI0OC4zMmwxNDQuNjQtMjUwLjU2IDU1LjQyNCAzMnptNDUzLjg4OCAwaC03My44NTZMNTc2IDc0MS40NGw1NS40MjQtMzJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZGF0YS1ib2FyZC52dWVcbnZhciBkYXRhX2JvYXJkX2RlZmF1bHQgPSBkYXRhX2JvYXJkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9kYXRhLWxpbmUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NzcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTc3LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazc3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazc3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRhdGFfbGluZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ3Nyh7XG4gIG5hbWU6IFwiRGF0YUxpbmVcIixcbiAgX19uYW1lOiBcImRhdGEtbGluZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNzcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazc3KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU3NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zNTkuMTY4IDc2OEgxNjBhMzIgMzIgMCAwIDEtMzItMzJWMTkySDY0YTMyIDMyIDAgMCAxIDAtNjRoODk2YTMyIDMyIDAgMSAxIDAgNjRoLTY0djU0NGEzMiAzMiAwIDAgMS0zMiAzMkg2NjUuMjE2bDExMC44NDggMTkyaC03My44NTZMNTkxLjM2IDc2OEg0MzMuMDI0TDMyMi4xNzYgOTYwSDI0OC4zMnpNODMyIDE5MkgxOTJ2NTEyaDY0MHpNMzQyLjY1NiA1MzQuNjU2YTMyIDMyIDAgMSAxLTQ1LjMxMi00NS4zMTJMNDQ0Ljk5MiAzNDEuNzZsMTI1LjQ0IDk0LjA4TDY3OS4wNCAzMDAuMDMyYTMyIDMyIDAgMSAxIDQ5LjkyIDM5LjkzNkw1ODEuNjMyIDUyNC4yMjQgNDUxLjAwOCA0MjYuMjQgMzQyLjY1NiA1MzQuNTkyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2RhdGEtbGluZS52dWVcbnZhciBkYXRhX2xpbmVfZGVmYXVsdCA9IGRhdGFfbGluZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZGVsZXRlLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ3OCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNzgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNzgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNzggfSBmcm9tIFwidnVlXCI7XG52YXIgZGVsZXRlX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ3OCh7XG4gIG5hbWU6IFwiRGVsZXRlRmlsbGVkXCIsXG4gIF9fbmFtZTogXCJkZWxldGUtZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s3OCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNzgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTc4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM1MiAxOTJWOTUuOTM2YTMyIDMyIDAgMCAxIDMyLTMyaDI1NmEzMiAzMiAwIDAgMSAzMiAzMlYxOTJoMjU2YTMyIDMyIDAgMSAxIDAgNjRIOTZhMzIgMzIgMCAwIDEgMC02NHptNjQgMGgxOTJ2LTY0SDQxNnpNMTkyIDk2MGEzMiAzMiAwIDAgMS0zMi0zMlYyNTZoNzA0djY3MmEzMiAzMiAwIDAgMS0zMiAzMnptMjI0LTE5MmEzMiAzMiAwIDAgMCAzMi0zMlY0MTZhMzIgMzIgMCAwIDAtNjQgMHYzMjBhMzIgMzIgMCAwIDAgMzIgMzJtMTkyIDBhMzIgMzIgMCAwIDAgMzItMzJWNDE2YTMyIDMyIDAgMCAwLTY0IDB2MzIwYTMyIDMyIDAgMCAwIDMyIDMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZGVsZXRlLWZpbGxlZC52dWVcbnZhciBkZWxldGVfZmlsbGVkX2RlZmF1bHQgPSBkZWxldGVfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9kZWxldGUtbG9jYXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NzkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTc5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazc5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazc5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRlbGV0ZV9sb2NhdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ3OSh7XG4gIG5hbWU6IFwiRGVsZXRlTG9jYXRpb25cIixcbiAgX19uYW1lOiBcImRlbGV0ZS1sb2NhdGlvblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNzkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazc5KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU3OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yODggODk2aDQ0OHEzMiAwIDMyIDMydC0zMiAzMkgyODhxLTMyIDAtMzItMzJ0MzItMzJcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNzkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODAwIDQxNmEyODggMjg4IDAgMSAwLTU3NiAwYzAgMTE4LjE0NCA5NC41MjggMjcyLjEyOCAyODggNDU2LjU3NkM3MDUuNDcyIDY4OC4xMjggODAwIDUzNC4xNDQgODAwIDQxNk01MTIgOTYwQzI3Ny4zMTIgNzQ2LjY4OCAxNjAgNTY1LjMxMiAxNjAgNDE2YTM1MiAzNTIgMCAwIDEgNzA0IDBjMCAxNDkuMzEyLTExNy4zMTIgMzMwLjY4OC0zNTIgNTQ0XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTc5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM4NCAzODRoMjU2cTMyIDAgMzIgMzJ0LTMyIDMySDM4NHEtMzIgMC0zMi0zMnQzMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2RlbGV0ZS1sb2NhdGlvbi52dWVcbnZhciBkZWxldGVfbG9jYXRpb25fZGVmYXVsdCA9IGRlbGV0ZV9sb2NhdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZGVsZXRlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDgwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU4MCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s4MCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s4MCB9IGZyb20gXCJ2dWVcIjtcbnZhciBkZWxldGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50ODAoe1xuICBuYW1lOiBcIkRlbGV0ZVwiLFxuICBfX25hbWU6IFwiZGVsZXRlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s4MCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrODAoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTgwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE2MCAyNTZIOTZhMzIgMzIgMCAwIDEgMC02NGgyNTZWOTUuOTM2YTMyIDMyIDAgMCAxIDMyLTMyaDI1NmEzMiAzMiAwIDAgMSAzMiAzMlYxOTJoMjU2YTMyIDMyIDAgMSAxIDAgNjRoLTY0djY3MmEzMiAzMiAwIDAgMS0zMiAzMkgxOTJhMzIgMzIgMCAwIDEtMzItMzJ6bTQ0OC02NHYtNjRINDE2djY0ek0yMjQgODk2aDU3NlYyNTZIMjI0em0xOTItMTI4YTMyIDMyIDAgMCAxLTMyLTMyVjQxNmEzMiAzMiAwIDAgMSA2NCAwdjMyMGEzMiAzMiAwIDAgMS0zMiAzMm0xOTIgMGEzMiAzMiAwIDAgMS0zMi0zMlY0MTZhMzIgMzIgMCAwIDEgNjQgMHYzMjBhMzIgMzIgMCAwIDEtMzIgMzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kZWxldGUudnVlXG52YXIgZGVsZXRlX2RlZmF1bHQgPSBkZWxldGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Rlc3NlcnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50ODEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTgxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazgxLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazgxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRlc3NlcnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50ODEoe1xuICBuYW1lOiBcIkRlc3NlcnRcIixcbiAgX19uYW1lOiBcImRlc3NlcnRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazgxKCksIF9jcmVhdGVFbGVtZW50QmxvY2s4MShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlODEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTI4IDQxNnYtNDhhMTQ0IDE0NCAwIDAgMSAxNjguNjQtMTQxLjg4OCAyMjQuMTI4IDIyNC4xMjggMCAwIDEgNDMwLjcyIDBBMTQ0IDE0NCAwIDAgMSA4OTYgMzY4djQ4YTM4NCAzODQgMCAwIDEtMzUyIDM4Mi43MlY4OTZoLTY0di05Ny4yOEEzODQgMzg0IDAgMCAxIDEyOCA0MTZtMjg3LjEwNC0zMi4wNjRoMTkzLjc5MmExNDMuODA4IDE0My44MDggMCAwIDEgNTguODgtMTMyLjczNiAxNjAuMDY0IDE2MC4wNjQgMCAwIDAtMzExLjU1MiAwIDE0My44MDggMTQzLjgwOCAwIDAgMSA1OC44OCAxMzIuOHptLTcyLjg5NiAwYTcyIDcyIDAgMSAwLTE0MC40OCAwaDE0MC40OG0zMzkuNTg0IDBoMTQwLjQxNmE3MiA3MiAwIDEgMC0xNDAuNDggMHpNNTEyIDczNmEzMjAgMzIwIDAgMCAwIDMxOC40LTI4OC4wNjRIMTkzLjZBMzIwIDMyMCAwIDAgMCA1MTIgNzM2TTM4NCA4OTYuMDY0aDI1NmEzMiAzMiAwIDEgMSAwIDY0SDM4NGEzMiAzMiAwIDEgMSAwLTY0XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZGVzc2VydC52dWVcbnZhciBkZXNzZXJ0X2RlZmF1bHQgPSBkZXNzZXJ0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9kaXNjb3VudC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ4MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlODIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrODIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrODIgfSBmcm9tIFwidnVlXCI7XG52YXIgZGlzY291bnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50ODIoe1xuICBuYW1lOiBcIkRpc2NvdW50XCIsXG4gIF9fbmFtZTogXCJkaXNjb3VudFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrODIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazgyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU4MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yMjQgNzA0aDU3NlYzMTguMzM2TDU1Mi41MTIgMTE1Ljg0YTY0IDY0IDAgMCAwLTgxLjAyNCAwTDIyNCAzMTguMzM2em0wIDY0djEyOGg1NzZWNzY4ek01OTMuMDI0IDY2LjMwNGwyNTkuMiAyMTIuMDk2QTMyIDMyIDAgMCAxIDg2NCAzMDMuMTY4VjkyOGEzMiAzMiAwIDAgMS0zMiAzMkgxOTJhMzIgMzIgMCAwIDEtMzItMzJWMzAzLjE2OGEzMiAzMiAwIDAgMSAxMS43MTItMjQuNzY4bDI1OS4yLTIxMi4wOTZhMTI4IDEyOCAwIDAgMSAxNjIuMTEyIDBcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlODIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDQ0OGE2NCA2NCAwIDEgMCAwLTEyOCA2NCA2NCAwIDAgMCAwIDEyOG0wIDY0YTEyOCAxMjggMCAxIDEgMC0yNTYgMTI4IDEyOCAwIDAgMSAwIDI1NlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Rpc2NvdW50LnZ1ZVxudmFyIGRpc2NvdW50X2RlZmF1bHQgPSBkaXNjb3VudF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZGlzaC1kb3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50ODMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTgzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazgzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazgzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRpc2hfZG90X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDgzKHtcbiAgbmFtZTogXCJEaXNoRG90XCIsXG4gIF9fbmFtZTogXCJkaXNoLWRvdFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrODMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazgzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU4MyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm0zODQuMDY0IDI3NC41Ni4wNjQtNTAuNjg4QTEyOCAxMjggMCAwIDEgNTEyLjEyOCA5NmM3MC41MjggMCAxMjcuNjggNTcuMTUyIDEyNy42OCAxMjcuNjh2NTAuNzUyQTQ0OC4xOTIgNDQ4LjE5MiAwIDAgMSA5NTUuMzkyIDc2OEg2OC41NDRBNDQ4LjE5MiA0NDguMTkyIDAgMCAxIDM4NCAyNzQuNTZ6TTk2IDgzMmg4MzJhMzIgMzIgMCAxIDEgMCA2NEg5NmEzMiAzMiAwIDEgMSAwLTY0bTMyLTEyOGg3NjhhMzg0IDM4NCAwIDEgMC03NjggMG00NDcuODA4LTQ0OHYtMzIuMzJhNjMuNjggNjMuNjggMCAwIDAtNjMuNjgtNjMuNjggNjQgNjQgMCAwIDAtNjQgNjMuOTM2VjI1NnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kaXNoLWRvdC52dWVcbnZhciBkaXNoX2RvdF9kZWZhdWx0ID0gZGlzaF9kb3RfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Rpc2gudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50ODQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTg0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazg0LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazg0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRpc2hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50ODQoe1xuICBuYW1lOiBcIkRpc2hcIixcbiAgX19uYW1lOiBcImRpc2hcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazg0KCksIF9jcmVhdGVFbGVtZW50QmxvY2s4NChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlODQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDgwIDI1Ny4xNTJWMTkyaC05NmEzMiAzMiAwIDAgMSAwLTY0aDI1NmEzMiAzMiAwIDEgMSAwIDY0aC05NnY2NS4xNTJBNDQ4IDQ0OCAwIDAgMSA5NTUuNTIgNzY4SDY4LjQ4QTQ0OCA0NDggMCAwIDEgNDgwIDI1Ny4xNTJNMTI4IDcwNGg3NjhhMzg0IDM4NCAwIDEgMC03NjggME05NiA4MzJoODMyYTMyIDMyIDAgMSAxIDAgNjRIOTZhMzIgMzIgMCAxIDEgMC02NFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Rpc2gudnVlXG52YXIgZGlzaF9kZWZhdWx0ID0gZGlzaF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZG9jdW1lbnQtYWRkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDg1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU4NSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s4NSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s4NSB9IGZyb20gXCJ2dWVcIjtcbnZhciBkb2N1bWVudF9hZGRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50ODUoe1xuICBuYW1lOiBcIkRvY3VtZW50QWRkXCIsXG4gIF9fbmFtZTogXCJkb2N1bWVudC1hZGRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazg1KCksIF9jcmVhdGVFbGVtZW50QmxvY2s4NShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlODUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODMyIDM4NEg1NzZWMTI4SDE5MnY3NjhoNjQwem0tMjYuNDk2LTY0TDY0MCAxNTQuNDk2VjMyMHpNMTYwIDY0aDQ4MGwyNTYgMjU2djYwOGEzMiAzMiAwIDAgMS0zMiAzMkgxNjBhMzIgMzIgMCAwIDEtMzItMzJWOTZhMzIgMzIgMCAwIDEgMzItMzJtMzIwIDUxMlY0NDhoNjR2MTI4aDEyOHY2NEg1NDR2MTI4aC02NFY2NDBIMzUydi02NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kb2N1bWVudC1hZGQudnVlXG52YXIgZG9jdW1lbnRfYWRkX2RlZmF1bHQgPSBkb2N1bWVudF9hZGRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2RvY3VtZW50LWNoZWNrZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50ODYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTg2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazg2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazg2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRvY3VtZW50X2NoZWNrZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50ODYoe1xuICBuYW1lOiBcIkRvY3VtZW50Q2hlY2tlZFwiLFxuICBfX25hbWU6IFwiZG9jdW1lbnQtY2hlY2tlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrODYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazg2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU4NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04MDUuNTA0IDMyMCA2NDAgMTU0LjQ5NlYzMjB6TTgzMiAzODRINTc2VjEyOEgxOTJ2NzY4aDY0MHpNMTYwIDY0aDQ4MGwyNTYgMjU2djYwOGEzMiAzMiAwIDAgMS0zMiAzMkgxNjBhMzIgMzIgMCAwIDEtMzItMzJWOTZhMzIgMzIgMCAwIDEgMzItMzJtMzE4LjQgNTgyLjE0NCAxODAuOTkyLTE4MC45OTJMNzA0LjY0IDUxMC40IDQ3OC40IDczNi42NCAzMjAgNTc4LjMwNGw0NS4yNDgtNDUuMzEyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2RvY3VtZW50LWNoZWNrZWQudnVlXG52YXIgZG9jdW1lbnRfY2hlY2tlZF9kZWZhdWx0ID0gZG9jdW1lbnRfY2hlY2tlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZG9jdW1lbnQtY29weS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ4NyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlODcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrODcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrODcgfSBmcm9tIFwidnVlXCI7XG52YXIgZG9jdW1lbnRfY29weV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ4Nyh7XG4gIG5hbWU6IFwiRG9jdW1lbnRDb3B5XCIsXG4gIF9fbmFtZTogXCJkb2N1bWVudC1jb3B5XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s4NygpLCBfY3JlYXRlRWxlbWVudEJsb2NrODcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTg3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTEyOCAzMjB2NTc2aDU3NlYzMjB6bS0zMi02NGg2NDBhMzIgMzIgMCAwIDEgMzIgMzJ2NjQwYTMyIDMyIDAgMCAxLTMyIDMySDk2YTMyIDMyIDAgMCAxLTMyLTMyVjI4OGEzMiAzMiAwIDAgMSAzMi0zMk05NjAgOTZ2NzA0YTMyIDMyIDAgMCAxLTMyIDMyaC05NnYtNjRoNjRWMTI4SDM4NHY2NGgtNjRWOTZhMzIgMzIgMCAwIDEgMzItMzJoNTc2YTMyIDMyIDAgMCAxIDMyIDMyTTI1NiA2NzJoMzIwdjY0SDI1NnptMC0xOTJoMzIwdjY0SDI1NnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kb2N1bWVudC1jb3B5LnZ1ZVxudmFyIGRvY3VtZW50X2NvcHlfZGVmYXVsdCA9IGRvY3VtZW50X2NvcHlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2RvY3VtZW50LWRlbGV0ZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ4OCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlODgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrODgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrODggfSBmcm9tIFwidnVlXCI7XG52YXIgZG9jdW1lbnRfZGVsZXRlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDg4KHtcbiAgbmFtZTogXCJEb2N1bWVudERlbGV0ZVwiLFxuICBfX25hbWU6IFwiZG9jdW1lbnQtZGVsZXRlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s4OCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrODgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTg4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgwNS41MDQgMzIwIDY0MCAxNTQuNDk2VjMyMHpNODMyIDM4NEg1NzZWMTI4SDE5MnY3NjhoNjQwek0xNjAgNjRoNDgwbDI1NiAyNTZ2NjA4YTMyIDMyIDAgMCAxLTMyIDMySDE2MGEzMiAzMiAwIDAgMS0zMi0zMlY5NmEzMiAzMiAwIDAgMSAzMi0zMm0zMDguOTkyIDU0Ni4zMDQtOTAuNDk2LTkwLjYyNCA0NS4yNDgtNDUuMjQ4IDkwLjU2IDkwLjQ5NiA5MC40OTYtOTAuNDMyIDQ1LjI0OCA0NS4yNDgtOTAuNDk2IDkwLjU2IDkwLjQ5NiA5MC40OTYtNDUuMjQ4IDQ1LjI0OC05MC40OTYtOTAuNDk2LTkwLjU2IDkwLjQ5Ni00NS4yNDgtNDUuMjQ4IDkwLjQ5Ni05MC40OTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZG9jdW1lbnQtZGVsZXRlLnZ1ZVxudmFyIGRvY3VtZW50X2RlbGV0ZV9kZWZhdWx0ID0gZG9jdW1lbnRfZGVsZXRlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9kb2N1bWVudC1yZW1vdmUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50ODkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTg5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazg5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazg5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRvY3VtZW50X3JlbW92ZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ4OSh7XG4gIG5hbWU6IFwiRG9jdW1lbnRSZW1vdmVcIixcbiAgX19uYW1lOiBcImRvY3VtZW50LXJlbW92ZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrODkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazg5KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU4OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04MDUuNTA0IDMyMCA2NDAgMTU0LjQ5NlYzMjB6TTgzMiAzODRINTc2VjEyOEgxOTJ2NzY4aDY0MHpNMTYwIDY0aDQ4MGwyNTYgMjU2djYwOGEzMiAzMiAwIDAgMS0zMiAzMkgxNjBhMzIgMzIgMCAwIDEtMzItMzJWOTZhMzIgMzIgMCAwIDEgMzItMzJtMTkyIDUxMmgzMjB2NjRIMzUyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2RvY3VtZW50LXJlbW92ZS52dWVcbnZhciBkb2N1bWVudF9yZW1vdmVfZGVmYXVsdCA9IGRvY3VtZW50X3JlbW92ZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZG9jdW1lbnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50OTAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTkwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazkwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazkwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRvY3VtZW50X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDkwKHtcbiAgbmFtZTogXCJEb2N1bWVudFwiLFxuICBfX25hbWU6IFwiZG9jdW1lbnRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazkwKCksIF9jcmVhdGVFbGVtZW50QmxvY2s5MChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlOTAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODMyIDM4NEg1NzZWMTI4SDE5MnY3NjhoNjQwem0tMjYuNDk2LTY0TDY0MCAxNTQuNDk2VjMyMHpNMTYwIDY0aDQ4MGwyNTYgMjU2djYwOGEzMiAzMiAwIDAgMS0zMiAzMkgxNjBhMzIgMzIgMCAwIDEtMzItMzJWOTZhMzIgMzIgMCAwIDEgMzItMzJtMTYwIDQ0OGgzODR2NjRIMzIwem0wLTE5MmgxNjB2NjRIMzIwem0wIDM4NGgzODR2NjRIMzIwelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2RvY3VtZW50LnZ1ZVxudmFyIGRvY3VtZW50X2RlZmF1bHQgPSBkb2N1bWVudF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZG93bmxvYWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50OTEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTkxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazkxLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazkxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRvd25sb2FkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDkxKHtcbiAgbmFtZTogXCJEb3dubG9hZFwiLFxuICBfX25hbWU6IFwiZG93bmxvYWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazkxKCksIF9jcmVhdGVFbGVtZW50QmxvY2s5MShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlOTEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTYwIDgzMmg3MDRhMzIgMzIgMCAxIDEgMCA2NEgxNjBhMzIgMzIgMCAxIDEgMC02NG0zODQtMjUzLjY5NiAyMzYuMjg4LTIzNi4zNTIgNDUuMjQ4IDQ1LjI0OEw1MDguOCA3MDQgMTkyIDM4Ny4ybDQ1LjI0OC00NS4yNDhMNDgwIDU4NC43MDRWMTI4aDY0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Rvd25sb2FkLnZ1ZVxudmFyIGRvd25sb2FkX2RlZmF1bHQgPSBkb3dubG9hZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZHJpenpsaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDkyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU5Miwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s5MiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s5MiB9IGZyb20gXCJ2dWVcIjtcbnZhciBkcml6emxpbmdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50OTIoe1xuICBuYW1lOiBcIkRyaXp6bGluZ1wiLFxuICBfX25hbWU6IFwiZHJpenpsaW5nXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s5MigpLCBfY3JlYXRlRWxlbWVudEJsb2NrOTIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTkyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTczOS4zMjggMjkxLjMyOC0zNS4yLTYuNTkyLTEyLjgtMzMuNDA4YTE5Mi4wNjQgMTkyLjA2NCAwIDAgMC0zNjUuOTUyIDIzLjIzMmwtOS45MiA0MC44OTYtNDEuNDcyIDcuMDRhMTc2LjMyIDE3Ni4zMiAwIDAgMC0xNDYuMjQgMTczLjU2OGMwIDk3LjI4IDc4LjcyIDE3NS45MzYgMTc1LjgwOCAxNzUuOTM2aDQwMGExOTIgMTkyIDAgMCAwIDM1Ljc3Ni0zODAuNjcyek05NTkuNTUyIDQ4MGEyNTYgMjU2IDAgMCAxLTI1NiAyNTZoLTQwMEEyMzkuODA4IDIzOS44MDggMCAwIDEgNjMuNzQ0IDQ5Ni4xOTJhMjQwLjMyIDI0MC4zMiAwIDAgMSAxOTkuNDg4LTIzNi44IDI1Ni4xMjggMjU2LjEyOCAwIDAgMSA0ODcuODcyLTMwLjk3NkEyNTYuMDY0IDI1Ni4wNjQgMCAwIDEgOTU5LjU1MiA0ODBNMjg4IDgwMGg2NHY2NGgtNjR6bTE5MiAwaDY0djY0aC02NHptLTk2IDk2aDY0djY0aC02NHptMTkyIDBoNjR2NjRoLTY0em05Ni05Nmg2NHY2NGgtNjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZHJpenpsaW5nLnZ1ZVxudmFyIGRyaXp6bGluZ19kZWZhdWx0ID0gZHJpenpsaW5nX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9lZGl0LXBlbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ5MyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlOTMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrOTMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrOTMgfSBmcm9tIFwidnVlXCI7XG52YXIgZWRpdF9wZW5fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50OTMoe1xuICBuYW1lOiBcIkVkaXRQZW5cIixcbiAgX19uYW1lOiBcImVkaXQtcGVuXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s5MygpLCBfY3JlYXRlRWxlbWVudEJsb2NrOTMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTkzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTE5OS4wNCA2NzIuNjQgMTkzLjk4NCAxMTIgMjI0LTM4Ny45NjgtMTkzLjkyLTExMi0yMjQgMzg4LjAzMnptLTIzLjg3MiA2MC4xNiAzMi44OTYgMTQ4LjI4OCAxNDQuODk2LTQ1LjY5NnpNNDU1LjA0IDIyOS4yNDhsMTkzLjkyIDExMiA1Ni43MDQtOTguMTEyLTE5My45ODQtMTEyLTU2LjY0IDk4LjExMnpNMTA0LjMyIDcwOC44bDM4NC02NjUuMDI0IDMwNC43NjggMTc1LjkzNkw0MDkuMTUyIDg4NC44aC4wNjRsLTI0OC40NDggNzguMzM2em0zODQgMjU0LjI3MnYtNjRoNDQ4djY0aC00NDh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZWRpdC1wZW4udnVlXG52YXIgZWRpdF9wZW5fZGVmYXVsdCA9IGVkaXRfcGVuX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9lZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDk0IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU5NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s5NCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s5NCB9IGZyb20gXCJ2dWVcIjtcbnZhciBlZGl0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDk0KHtcbiAgbmFtZTogXCJFZGl0XCIsXG4gIF9fbmFtZTogXCJlZGl0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s5NCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrOTQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTk0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgzMiA1MTJhMzIgMzIgMCAxIDEgNjQgMHYzNTJhMzIgMzIgMCAwIDEtMzIgMzJIMTYwYTMyIDMyIDAgMCAxLTMyLTMyVjE2MGEzMiAzMiAwIDAgMSAzMi0zMmgzNTJhMzIgMzIgMCAwIDEgMCA2NEgxOTJ2NjQwaDY0MHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlOTQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtNDY5Ljk1MiA1NTQuMjQgNTIuOC03LjU1Mkw4NDcuMTA0IDIyMi40YTMyIDMyIDAgMSAwLTQ1LjI0OC00NS4yNDhMNDc3LjQ0IDUwMS40NGwtNy41NTIgNTIuOHptNDIyLjQtNDIyLjRhOTYgOTYgMCAwIDEgMCAxMzUuODA4bC0zMzEuODQgMzMxLjg0YTMyIDMyIDAgMCAxLTE4LjExMiA5LjA4OEw0MzYuOCA2MjMuNjhhMzIgMzIgMCAwIDEtMzYuMjI0LTM2LjIyNGwxNS4xMDQtMTA1LjZhMzIgMzIgMCAwIDEgOS4wMjQtMTguMTEybDMzMS45MDQtMzMxLjg0YTk2IDk2IDAgMCAxIDEzNS43NDQgMHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9lZGl0LnZ1ZVxudmFyIGVkaXRfZGVmYXVsdCA9IGVkaXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2VsZW1lLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ5NSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlOTUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrOTUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrOTUgfSBmcm9tIFwidnVlXCI7XG52YXIgZWxlbWVfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDk1KHtcbiAgbmFtZTogXCJFbGVtZUZpbGxlZFwiLFxuICBfX25hbWU6IFwiZWxlbWUtZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s5NSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrOTUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTk1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE3NiA2NGg2NzJjNjEuODI0IDAgMTEyIDUwLjE3NiAxMTIgMTEydjY3MmExMTIgMTEyIDAgMCAxLTExMiAxMTJIMTc2QTExMiAxMTIgMCAwIDEgNjQgODQ4VjE3NmMwLTYxLjgyNCA1MC4xNzYtMTEyIDExMi0xMTJtMTUwLjUyOCAxNzMuNTY4Yy0xNTIuODk2IDk5Ljk2OC0xOTYuNTQ0IDMwNC4wNjQtOTcuNDA4IDQ1Ni45NmEzMzAuNjg4IDMzMC42ODggMCAwIDAgNDU2Ljk2IDk2LjY0YzkuMjE2LTUuODg4IDE3LjYtMTEuNzc2IDI1LjE1Mi0xOC41NmExOC4yNCAxOC4yNCAwIDAgMCA0LjIyNC0yNC4zMkw3MDAuMzUyIDcyNC44YTQ3LjU1MiA0Ny41NTIgMCAwIDAtNjUuNTM2LTE0LjI3MkEyMzQuNTYgMjM0LjU2IDAgMCAxIDMxMC41OTIgNjQxLjZDMjQwIDUzMy4yNDggMjcxLjEwNCAzODcuOTY4IDM3OS40NTYgMzE2LjQ4YTIzNC4zMDQgMjM0LjMwNCAwIDAgMSAyNzYuMzUyIDE1LjE2OGMxLjY2NC44MzIgMi41NiAyLjU2IDMuMzkyIDQuMjI0IDUuODg4IDguMzg0IDMuMzI4IDE5LjMyOC01LjEyIDI1LjIxNkw0NTYuODMyIDQ4OS42YTQ3LjU1MiA0Ny41NTIgMCAwIDAtMTQuMzM2IDY1LjQ3MmwxNiAyNC4zODRjNS44ODggOC4zODQgMTYuNzY4IDEwLjg4IDI1LjIxNiA1LjA1NmwzMDguMjI0LTE5OS45MzZhMTkuNTg0IDE5LjU4NCAwIDAgMCA2LjcyLTIzLjQ4OHYtLjg5NmMtNC45OTItOS4yMTYtMTAuMDQ4LTE3LjYtMTUuMTA0LTI2Ljg4LTk5Ljk2OC0xNTEuMTY4LTMwNC4wNjQtMTk0Ljg4LTQ1Ni45Ni05NS43NDR6TTc4Ni44OCA1MDQuNzA0bC02Mi4yMDggNDAuMzJjLTguMzIgNS44ODgtMTAuODggMTYuNzY4LTQuOTkyIDI1LjIxNkw3NjAgNjMyLjMyYzUuODg4IDguNDQ4IDE2Ljc2OCAxMS4wMDggMjUuMTUyIDUuMTJsMzEuMTA0LTIwLjE2YTU1LjM2IDU1LjM2IDAgMCAwIDE2LTc2LjQ4bC0yMC4yMjQtMzEuMDRhMTkuNTIgMTkuNTIgMCAwIDAtMjUuMTUyLTUuMTJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZWxlbWUtZmlsbGVkLnZ1ZVxudmFyIGVsZW1lX2ZpbGxlZF9kZWZhdWx0ID0gZWxlbWVfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9lbGVtZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ5NiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlOTYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrOTYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrOTYgfSBmcm9tIFwidnVlXCI7XG52YXIgZWxlbWVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50OTYoe1xuICBuYW1lOiBcIkVsZW1lXCIsXG4gIF9fbmFtZTogXCJlbGVtZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrOTYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazk2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU5NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zMDAuMDMyIDE4OC44YzE3NC43Mi0xMTMuMjggNDA4LTYzLjM2IDUyMi4yNCAxMDkuNDQgNS43NiAxMC41NiAxMS41MiAyMC4xNiAxNy4yOCAzMC43MnYuOTZhMjIuNCAyMi40IDAgMCAxLTcuNjggMjYuODhsLTM1Mi4zMiAyMjguNDhjLTkuNiA2LjcyLTIyLjA4IDMuODQtMjguOC01Ljc2bC0xOC4yNC0yNy44NGE1NC4zMzYgNTQuMzM2IDAgMCAxIDE2LjMyLTc0Ljg4bDIyNS42LTE0Ni44OGM5LjYtNi43MiAxMi40OC0xOS4yIDUuNzYtMjguOC0uOTYtMS45Mi0xLjkyLTMuODQtMy44NC00LjhhMjY3Ljg0IDI2Ny44NCAwIDAgMC0zMTUuODQtMTcuMjhjLTEyMy44NCA4MS42LTE1OS4zNiAyNDcuNjgtNzguNzIgMzcxLjUyYTI2OC4wOTYgMjY4LjA5NiAwIDAgMCAzNzAuNTYgNzguNzIgNTQuMzM2IDU0LjMzNiAwIDAgMSA3NC44OCAxNi4zMmwxNy4yOCAyNi44OGM1Ljc2IDkuNiAzLjg0IDIxLjEyLTQuOCAyNy44NC04LjY0IDcuNjgtMTguMjQgMTQuNC0yOC44IDIxLjEyYTM3Ny45MiAzNzcuOTIgMCAwIDEtNTIyLjI0LTExMC40Yy0xMTMuMjgtMTc0LjcyLTYzLjM2LTQwOCAxMTEuMzYtNTIyLjI0em01MjYuMDggMzA1LjI4YTIyLjMzNiAyMi4zMzYgMCAwIDEgMjguOCA1Ljc2bDIzLjA0IDM1LjUyYTYzLjIzMiA2My4yMzIgMCAwIDEtMTguMjQgODcuMzZsLTM1LjUyIDIzLjA0Yy05LjYgNi43Mi0yMi4wOCAzLjg0LTI4LjgtNS43NmwtNDYuMDgtNzEuMDRjLTYuNzItOS42LTMuODQtMjIuMDggNS43Ni0yOC44bDcxLjA0LTQ2LjA4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2VsZW1lLnZ1ZVxudmFyIGVsZW1lX2RlZmF1bHQgPSBlbGVtZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZWxlbWVudC1wbHVzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDk3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU5Nywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s5NywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s5NyB9IGZyb20gXCJ2dWVcIjtcbnZhciBlbGVtZW50X3BsdXNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50OTcoe1xuICBuYW1lOiBcIkVsZW1lbnRQbHVzXCIsXG4gIF9fbmFtZTogXCJlbGVtZW50LXBsdXNcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazk3KCksIF9jcmVhdGVFbGVtZW50QmxvY2s5NyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlOTcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODM5LjcgNzM0LjdjMCAzMy4zLTE3LjkgNDEtMTcuOSA0MVM1MTkuNyA5NDkuOCA0OTkuMiA5NjBjLTEwLjIgNS4xLTIwLjUgNS4xLTMwLjcgMCAwIDAtMzE0LjktMTg0LjMtMzI1LjEtMTkyLTUuMS01LjEtMTAuMi0xMi44LTEyLjgtMjAuNVYzNjguNmMwLTE3LjkgMjAuNS0yOC4yIDIwLjUtMjguMkw0NjYgMTU4LjZjMTIuOC01LjEgMjUuNi01LjEgMzguNCAwIDAgMCAyNzkgMTYxLjMgMzA5LjggMTc5LjIgMTcuOSA3LjcgMjguMiAyNS42IDI1LjYgNDYuMS0uMS01LS4xIDMxNy41LS4xIDM1MC44TTcxNC4yIDM3MS4yYy02NC0zNS44LTIxNy42LTEyNS40LTIxNy42LTEyNS40LTcuNy01LjEtMjAuNS01LjEtMzAuNyAwTDIxNy42IDM4OS4xcy0xNy45IDEwLjItMTcuOSAyM3YyOTdjMCA1LjEgNS4xIDEyLjggNy43IDE3LjkgNy43IDUuMSAyNTYgMTQ4LjUgMjU2IDE0OC41IDcuNyA1LjEgMTcuOSA1LjEgMjUuNiAwIDE1LjQtNy43IDI1MC45LTE0NS45IDI1MC45LTE0NS45czEyLjgtNS4xIDEyLjgtMzAuN3YtNzQuMmwtMjc2LjUgMTY5di02NGMwLTE3LjkgNy43LTMwLjcgMjAuNS00Ni4xTDc0NSA1MzVjNS4xLTcuNyAxMC4yLTIwLjUgMTAuMi0zMC43di02Ni42bC0yNzkgMTY5di02OS4xYzAtMTUuNCA1LjEtMzAuNyAxNy45LTM4LjRsMjIwLjEtMTI4ek05MTkgMTM1LjdjMC01LjEtNS4xLTcuNy03LjctNy43aC01OC45VjY2LjZjMC01LjEtNS4xLTUuMS0xMC4yLTUuMWwtMzAuNyA1LjFjLTUuMSAwLTUuMSAyLjYtNS4xIDUuMVYxMjhoLTU2LjNjLTUuMSAwLTUuMSA1LjEtNy43IDUuMXYzOC40aDY5LjF2NjRjMCA1LjEgNS4xIDUuMSAxMC4yIDUuMWwzMC43LTUuMWM1LjEgMCA1LjEtMi42IDUuMS01LjF2LTU2LjNoNjRsLTIuNS0zOC40elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2VsZW1lbnQtcGx1cy52dWVcbnZhciBlbGVtZW50X3BsdXNfZGVmYXVsdCA9IGVsZW1lbnRfcGx1c192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZXhwYW5kLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDk4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU5OCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s5OCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s5OCB9IGZyb20gXCJ2dWVcIjtcbnZhciBleHBhbmRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50OTgoe1xuICBuYW1lOiBcIkV4cGFuZFwiLFxuICBfX25hbWU6IFwiZXhwYW5kXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s5OCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrOTgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTk4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTEyOCAxOTJoNzY4djEyOEgxMjh6bTAgMjU2aDUxMnYxMjhIMTI4em0wIDI1Nmg3Njh2MTI4SDEyOHptNTc2LTM1MiAxOTIgMTYwLTE5MiAxMjh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZXhwYW5kLnZ1ZVxudmFyIGV4cGFuZF9kZWZhdWx0ID0gZXhwYW5kX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9mYWlsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50OTkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTk5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazk5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazk5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGZhaWxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ5OSh7XG4gIG5hbWU6IFwiRmFpbGVkXCIsXG4gIF9fbmFtZTogXCJmYWlsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazk5KCksIF9jcmVhdGVFbGVtZW50QmxvY2s5OShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlOTkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtNTU3LjI0OCA2MDggMTM1Ljc0NC0xMzUuNzQ0LTQ1LjI0OC00NS4yNDgtMTM1LjY4IDEzNS43NDQtMTM1LjgwOC0xMzUuNjgtNDUuMjQ4IDQ1LjE4NEw0NjYuNzUyIDYwOGwtMTM1LjY4IDEzNS42OCA0NS4xODQgNDUuMzEyTDUxMiA2NTMuMjQ4bDEzNS43NDQgMTM1Ljc0NCA0NS4yNDgtNDUuMjQ4TDU1Ny4zMTIgNjA4ek03MDQgMTkyaDE2MHY3MzZIMTYwVjE5MmgxNjB2NjRoMzg0em0tMzIwIDBWOTZoMjU2djk2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ZhaWxlZC52dWVcbnZhciBmYWlsZWRfZGVmYXVsdCA9IGZhaWxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZmVtYWxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEwMCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTAwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEwMCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMDAgfSBmcm9tIFwidnVlXCI7XG52YXIgZmVtYWxlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEwMCh7XG4gIG5hbWU6IFwiRmVtYWxlXCIsXG4gIF9fbmFtZTogXCJmZW1hbGVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEwMCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTAwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMDAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0MGEyNTYgMjU2IDAgMSAwIDAtNTEyIDI1NiAyNTYgMCAwIDAgMCA1MTJtMCA2NGEzMjAgMzIwIDAgMSAxIDAtNjQwIDMyMCAzMjAgMCAwIDEgMCA2NDBcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTAwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA2NDBxMzIgMCAzMiAzMnYyNTZxMCAzMi0zMiAzMnQtMzItMzJWNjcycTAtMzIgMzItMzJcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTAwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM1MiA4MDBoMzIwcTMyIDAgMzIgMzJ0LTMyIDMySDM1MnEtMzIgMC0zMi0zMnQzMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ZlbWFsZS52dWVcbnZhciBmZW1hbGVfZGVmYXVsdCA9IGZlbWFsZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZmlsZXMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTAxIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMDEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTAxLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEwMSB9IGZyb20gXCJ2dWVcIjtcbnZhciBmaWxlc192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMDEoe1xuICBuYW1lOiBcIkZpbGVzXCIsXG4gIF9fbmFtZTogXCJmaWxlc1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTAxKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMDEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwMShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMjggMzg0djQ0OGg3NjhWMzg0em0tMzItNjRoODMyYTMyIDMyIDAgMCAxIDMyIDMydjUxMmEzMiAzMiAwIDAgMS0zMiAzMkg5NmEzMiAzMiAwIDAgMS0zMi0zMlYzNTJhMzIgMzIgMCAwIDEgMzItMzJtNjQtMTI4aDcwNHY2NEgxNjB6bTk2LTEyOGg1MTJ2NjRIMjU2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ZpbGVzLnZ1ZVxudmFyIGZpbGVzX2RlZmF1bHQgPSBmaWxlc192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZmlsbS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMDIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwMiwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMDIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTAyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGZpbG1fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTAyKHtcbiAgbmFtZTogXCJGaWxtXCIsXG4gIF9fbmFtZTogXCJmaWxtXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMDIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEwMihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTAyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE2MCAxNjB2NzA0aDcwNFYxNjB6bS0zMi02NGg3NjhhMzIgMzIgMCAwIDEgMzIgMzJ2NzY4YTMyIDMyIDAgMCAxLTMyIDMySDEyOGEzMiAzMiAwIDAgMS0zMi0zMlYxMjhhMzIgMzIgMCAwIDEgMzItMzJcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTAyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTMyMCAyODhWMTI4aDY0djM1MmgyNTZWMTI4aDY0djE2MGgxNjB2NjRINzA0djEyOGgxNjB2NjRINzA0djEyOGgxNjB2NjRINzA0djE2MGgtNjRWNTQ0SDM4NHYzNTJoLTY0VjczNkgxMjh2LTY0aDE5MlY1NDRIMTI4di02NGgxOTJWMzUySDEyOHYtNjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZmlsbS52dWVcbnZhciBmaWxtX2RlZmF1bHQgPSBmaWxtX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9maWx0ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTAzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMDMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTAzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEwMyB9IGZyb20gXCJ2dWVcIjtcbnZhciBmaWx0ZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTAzKHtcbiAgbmFtZTogXCJGaWx0ZXJcIixcbiAgX19uYW1lOiBcImZpbHRlclwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTAzKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMDMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwMyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zODQgNTIzLjM5MlY5MjhhMzIgMzIgMCAwIDAgNDYuMzM2IDI4LjYwOGwxOTItOTZBMzIgMzIgMCAwIDAgNjQwIDgzMlY1MjMuMzkybDI4MC43NjgtMzQzLjEwNGEzMiAzMiAwIDEgMC00OS41MzYtNDAuNTc2bC0yODggMzUyQTMyIDMyIDAgMCAwIDU3NiA1MTJ2MzAwLjIyNGwtMTI4IDY0VjUxMmEzMiAzMiAwIDAgMC03LjIzMi0yMC4yODhMMTk1LjUyIDE5Mkg3MDRhMzIgMzIgMCAxIDAgMC02NEgxMjhhMzIgMzIgMCAwIDAtMjQuNzY4IDUyLjI4OHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9maWx0ZXIudnVlXG52YXIgZmlsdGVyX2RlZmF1bHQgPSBmaWx0ZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2ZpbmlzaGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEwNCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTA0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEwNCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMDQgfSBmcm9tIFwidnVlXCI7XG52YXIgZmluaXNoZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTA0KHtcbiAgbmFtZTogXCJGaW5pc2hlZFwiLFxuICBfX25hbWU6IFwiZmluaXNoZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEwNCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTA0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMDQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjgwLjc2OCA3NTMuNzI4IDY5MS40NTYgMTY3LjA0YTMyIDMyIDAgMSAxIDUyLjQxNiAzNi42NzJMMzE0LjI0IDgxNy40NzJhMzIgMzIgMCAwIDEtNDUuNDQgNy4yOTZsLTIzMC40LTE3Mi44YTMyIDMyIDAgMCAxIDM4LjQtNTEuMmwyMDMuOTY4IDE1Mi45NnpNNzM2IDQ0OGEzMiAzMiAwIDEgMSAwLTY0aDE5MmEzMiAzMiAwIDEgMSAwIDY0ek02MDggNjQwYTMyIDMyIDAgMCAxIDAtNjRoMzE5LjkzNmEzMiAzMiAwIDEgMSAwIDY0ek00ODAgODMyYTMyIDMyIDAgMSAxIDAtNjRoNDQ3LjkzNmEzMiAzMiAwIDEgMSAwIDY0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ZpbmlzaGVkLnZ1ZVxudmFyIGZpbmlzaGVkX2RlZmF1bHQgPSBmaW5pc2hlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZmlyc3QtYWlkLWtpdC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMDUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwNSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMDUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTA1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGZpcnN0X2FpZF9raXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTA1KHtcbiAgbmFtZTogXCJGaXJzdEFpZEtpdFwiLFxuICBfX25hbWU6IFwiZmlyc3QtYWlkLWtpdFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTA1KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMDUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwNShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xOTIgMjU2YTY0IDY0IDAgMCAwLTY0IDY0djQ0OGE2NCA2NCAwIDAgMCA2NCA2NGg2NDBhNjQgNjQgMCAwIDAgNjQtNjRWMzIwYTY0IDY0IDAgMCAwLTY0LTY0em0wLTY0aDY0MGExMjggMTI4IDAgMCAxIDEyOCAxMjh2NDQ4YTEyOCAxMjggMCAwIDEtMTI4IDEyOEgxOTJBMTI4IDEyOCAwIDAgMSA2NCA3NjhWMzIwYTEyOCAxMjggMCAwIDEgMTI4LTEyOFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMDUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTQ0IDUxMmg5NmEzMiAzMiAwIDAgMSAwIDY0aC05NnY5NmEzMiAzMiAwIDAgMS02NCAwdi05NmgtOTZhMzIgMzIgMCAwIDEgMC02NGg5NnYtOTZhMzIgMzIgMCAwIDEgNjQgMHpNMzUyIDEyOHY2NGgzMjB2LTY0em0tMzItNjRoMzg0YTMyIDMyIDAgMCAxIDMyIDMydjEyOGEzMiAzMiAwIDAgMS0zMiAzMkgzMjBhMzIgMzIgMCAwIDEtMzItMzJWOTZhMzIgMzIgMCAwIDEgMzItMzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9maXJzdC1haWQta2l0LnZ1ZVxudmFyIGZpcnN0X2FpZF9raXRfZGVmYXVsdCA9IGZpcnN0X2FpZF9raXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2ZsYWcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTA2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMDYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTA2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEwNiB9IGZyb20gXCJ2dWVcIjtcbnZhciBmbGFnX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEwNih7XG4gIG5hbWU6IFwiRmxhZ1wiLFxuICBfX25hbWU6IFwiZmxhZ1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTA2KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMDYoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwNihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yODggMTI4aDYwOEw3MzYgMzg0bDE2MCAyNTZIMjg4djMyMGgtOTZWNjRoOTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZmxhZy52dWVcbnZhciBmbGFnX2RlZmF1bHQgPSBmbGFnX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9mb2xkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEwNyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTA3LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEwNywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMDcgfSBmcm9tIFwidnVlXCI7XG52YXIgZm9sZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMDcoe1xuICBuYW1lOiBcIkZvbGRcIixcbiAgX19uYW1lOiBcImZvbGRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEwNygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTA3KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMDcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODk2IDE5MkgxMjh2MTI4aDc2OHptMCAyNTZIMzg0djEyOGg1MTJ6bTAgMjU2SDEyOHYxMjhoNzY4ek0zMjAgMzg0IDEyOCA1MTJsMTkyIDEyOHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9mb2xkLnZ1ZVxudmFyIGZvbGRfZGVmYXVsdCA9IGZvbGRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2ZvbGRlci1hZGQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTA4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMDgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTA4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEwOCB9IGZyb20gXCJ2dWVcIjtcbnZhciBmb2xkZXJfYWRkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEwOCh7XG4gIG5hbWU6IFwiRm9sZGVyQWRkXCIsXG4gIF9fbmFtZTogXCJmb2xkZXItYWRkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMDgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEwOChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTA4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTEyOCAxOTJ2NjQwaDc2OFYzMjBINDg1Ljc2TDM1Ny41MDQgMTkyem0tMzItNjRoMjg3Ljg3MmwxMjguMzg0IDEyOEg5MjhhMzIgMzIgMCAwIDEgMzIgMzJ2NTc2YTMyIDMyIDAgMCAxLTMyIDMySDk2YTMyIDMyIDAgMCAxLTMyLTMyVjE2MGEzMiAzMiAwIDAgMSAzMi0zMm0zODQgNDE2VjQxNmg2NHYxMjhoMTI4djY0SDU0NHYxMjhoLTY0VjYwOEgzNTJ2LTY0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ZvbGRlci1hZGQudnVlXG52YXIgZm9sZGVyX2FkZF9kZWZhdWx0ID0gZm9sZGVyX2FkZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZm9sZGVyLWNoZWNrZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTA5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMDksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTA5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEwOSB9IGZyb20gXCJ2dWVcIjtcbnZhciBmb2xkZXJfY2hlY2tlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMDkoe1xuICBuYW1lOiBcIkZvbGRlckNoZWNrZWRcIixcbiAgX19uYW1lOiBcImZvbGRlci1jaGVja2VkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMDkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEwOShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTA5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTEyOCAxOTJ2NjQwaDc2OFYzMjBINDg1Ljc2TDM1Ny41MDQgMTkyem0tMzItNjRoMjg3Ljg3MmwxMjguMzg0IDEyOEg5MjhhMzIgMzIgMCAwIDEgMzIgMzJ2NTc2YTMyIDMyIDAgMCAxLTMyIDMySDk2YTMyIDMyIDAgMCAxLTMyLTMyVjE2MGEzMiAzMiAwIDAgMSAzMi0zMm00MTQuMDggNTAyLjE0NCAxODAuOTkyLTE4MC45OTJMNzM2LjMyIDQ5NC40IDUxMC4wOCA3MjAuNjRsLTE1OC40LTE1OC4zMzYgNDUuMjQ4LTQ1LjMxMnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9mb2xkZXItY2hlY2tlZC52dWVcbnZhciBmb2xkZXJfY2hlY2tlZF9kZWZhdWx0ID0gZm9sZGVyX2NoZWNrZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2ZvbGRlci1kZWxldGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTEwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMTAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTEwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazExMCB9IGZyb20gXCJ2dWVcIjtcbnZhciBmb2xkZXJfZGVsZXRlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDExMCh7XG4gIG5hbWU6IFwiRm9sZGVyRGVsZXRlXCIsXG4gIF9fbmFtZTogXCJmb2xkZXItZGVsZXRlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMTAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazExMChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTEwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTEyOCAxOTJ2NjQwaDc2OFYzMjBINDg1Ljc2TDM1Ny41MDQgMTkyem0tMzItNjRoMjg3Ljg3MmwxMjguMzg0IDEyOEg5MjhhMzIgMzIgMCAwIDEgMzIgMzJ2NTc2YTMyIDMyIDAgMCAxLTMyIDMySDk2YTMyIDMyIDAgMCAxLTMyLTMyVjE2MGEzMiAzMiAwIDAgMSAzMi0zMm0zNzAuNzUyIDQ0OC05MC40OTYtOTAuNDk2IDQ1LjI0OC00NS4yNDhMNTEyIDUzMC43NTJsOTAuNDk2LTkwLjQ5NiA0NS4yNDggNDUuMjQ4TDU1Ny4yNDggNTc2bDkwLjQ5NiA5MC40OTYtNDUuMjQ4IDQ1LjI0OEw1MTIgNjIxLjI0OGwtOTAuNDk2IDkwLjQ5Ni00NS4yNDgtNDUuMjQ4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ZvbGRlci1kZWxldGUudnVlXG52YXIgZm9sZGVyX2RlbGV0ZV9kZWZhdWx0ID0gZm9sZGVyX2RlbGV0ZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZm9sZGVyLW9wZW5lZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMTEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTExMSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMTEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTExIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGZvbGRlcl9vcGVuZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTExKHtcbiAgbmFtZTogXCJGb2xkZXJPcGVuZWRcIixcbiAgX19uYW1lOiBcImZvbGRlci1vcGVuZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazExMSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTExKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMTEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODc4LjA4IDQ0OEgyNDEuOTJsLTk2IDM4NGg2MzYuMTZsOTYtMzg0ek04MzIgMzg0di02NEg0ODUuNzZMMzU3LjUwNCAxOTJIMTI4djQ0OGw1Ny45Mi0yMzEuNzQ0QTMyIDMyIDAgMCAxIDIxNi45NiAzODR6bS0yNC45NiA1MTJIOTZhMzIgMzIgMCAwIDEtMzItMzJWMTYwYTMyIDMyIDAgMCAxIDMyLTMyaDI4Ny44NzJsMTI4LjM4NCAxMjhIODY0YTMyIDMyIDAgMCAxIDMyIDMydjk2aDIzLjA0YTMyIDMyIDAgMCAxIDMxLjA0IDM5Ljc0NGwtMTEyIDQ0OEEzMiAzMiAwIDAgMSA4MDcuMDQgODk2XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZm9sZGVyLW9wZW5lZC52dWVcbnZhciBmb2xkZXJfb3BlbmVkX2RlZmF1bHQgPSBmb2xkZXJfb3BlbmVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9mb2xkZXItcmVtb3ZlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDExMiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTEyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazExMiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMTIgfSBmcm9tIFwidnVlXCI7XG52YXIgZm9sZGVyX3JlbW92ZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMTIoe1xuICBuYW1lOiBcIkZvbGRlclJlbW92ZVwiLFxuICBfX25hbWU6IFwiZm9sZGVyLXJlbW92ZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTEyKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMTIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTExMihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMjggMTkydjY0MGg3NjhWMzIwSDQ4NS43NkwzNTcuNTA0IDE5MnptLTMyLTY0aDI4Ny44NzJsMTI4LjM4NCAxMjhIOTI4YTMyIDMyIDAgMCAxIDMyIDMydjU3NmEzMiAzMiAwIDAgMS0zMiAzMkg5NmEzMiAzMiAwIDAgMS0zMi0zMlYxNjBhMzIgMzIgMCAwIDEgMzItMzJtMjU2IDQxNmgzMjB2NjRIMzUyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ZvbGRlci1yZW1vdmUudnVlXG52YXIgZm9sZGVyX3JlbW92ZV9kZWZhdWx0ID0gZm9sZGVyX3JlbW92ZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZm9sZGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDExMyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTEzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazExMywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMTMgfSBmcm9tIFwidnVlXCI7XG52YXIgZm9sZGVyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDExMyh7XG4gIG5hbWU6IFwiRm9sZGVyXCIsXG4gIF9fbmFtZTogXCJmb2xkZXJcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazExMygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTEzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMTMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTI4IDE5MnY2NDBoNzY4VjMyMEg0ODUuNzZMMzU3LjUwNCAxOTJ6bS0zMi02NGgyODcuODcybDEyOC4zODQgMTI4SDkyOGEzMiAzMiAwIDAgMSAzMiAzMnY1NzZhMzIgMzIgMCAwIDEtMzIgMzJIOTZhMzIgMzIgMCAwIDEtMzItMzJWMTYwYTMyIDMyIDAgMCAxIDMyLTMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZm9sZGVyLnZ1ZVxudmFyIGZvbGRlcl9kZWZhdWx0ID0gZm9sZGVyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9mb29kLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDExNCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTE0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazExNCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMTQgfSBmcm9tIFwidnVlXCI7XG52YXIgZm9vZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMTQoe1xuICBuYW1lOiBcIkZvb2RcIixcbiAgX19uYW1lOiBcImZvb2RcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazExNCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTE0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMTQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTI4IDM1Mi41NzZWMzUyYTI4OCAyODggMCAwIDEgNDkxLjA3Mi0yMDQuMjI0IDE5MiAxOTIgMCAwIDEgMjc0LjI0IDIwNC40OCA2NCA2NCAwIDAgMSA1Ny4yMTYgNzQuMjRDOTIxLjYgNjAwLjUxMiA4NTAuMDQ4IDcxMC42NTYgNzM2IDc1Ni45OTJWODAwYTk2IDk2IDAgMCAxLTk2IDk2SDM4NGE5NiA5NiAwIDAgMS05Ni05NnYtNDMuMDA4Yy0xMTQuMDQ4LTQ2LjMzNi0xODUuNi0xNTYuNDgtMjE0LjUyOC0zMzAuNDk2QTY0IDY0IDAgMCAxIDEyOCAzNTIuNjR6bTY0LS41NzZoNjRhMTYwIDE2MCAwIDAgMSAzMjAgMGg2NGEyMjQgMjI0IDAgMCAwLTQ0OCAwbTEyOCAwaDE5MmE5NiA5NiAwIDAgMC0xOTIgMG00MzkuNDI0IDBoNjguNTQ0QTEyOC4yNTYgMTI4LjI1NiAwIDAgMCA3MDQgMTkyYy0xNS4zNiAwLTI5Ljk1MiAyLjY4OC00My41MiA3LjYxNiAxMS4zMjggMTguMTc2IDIwLjY3MiAzNy43NiAyNy44NCA1OC4zMDRBNjQuMTI4IDY0LjEyOCAwIDAgMSA3NTkuNDI0IDM1Mk02NzIgNzY4SDM1MnYzMmEzMiAzMiAwIDAgMCAzMiAzMmgyNTZhMzIgMzIgMCAwIDAgMzItMzJ6bS0zNDIuNTI4LTY0aDM2NS4wNTZjMTAxLjUwNC0zMi42NCAxNjUuNzYtMTI0LjkyOCAxOTIuODk2LTI4OEgxMzYuNTc2YzI3LjEzNiAxNjMuMDcyIDkxLjM5MiAyNTUuMzYgMTkyLjg5NiAyODhcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9mb29kLnZ1ZVxudmFyIGZvb2RfZGVmYXVsdCA9IGZvb2RfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Zvb3RiYWxsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDExNSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTE1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazExNSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMTUgfSBmcm9tIFwidnVlXCI7XG52YXIgZm9vdGJhbGxfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTE1KHtcbiAgbmFtZTogXCJGb290YmFsbFwiLFxuICBfX25hbWU6IFwiZm9vdGJhbGxcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazExNSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTE1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMTUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDk2MGE0NDggNDQ4IDAgMSAxIDAtODk2IDQ0OCA0NDggMCAwIDEgMCA4OTZtMC02NGEzODQgMzg0IDAgMSAwIDAtNzY4IDM4NCAzODQgMCAwIDAgMCA3NjhcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTE1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE4Ni44MTYgMjY4LjI4OGMxNi0xNi4zODQgMzEuNjE2LTMxLjc0NCA0Ni45NzYtNDYuMDggMTcuNDcyIDMwLjY1NiAzOS44MDggNTguMTEyIDY1Ljk4NCA4MS4yOGwtMzIuNTEyIDU2LjQ0OGEzODUuOTg0IDM4NS45ODQgMCAwIDEtODAuNDQ4LTkxLjY0OHptNjUzLjY5Ni01LjMxMmEzODUuOTIgMzg1LjkyIDAgMCAxLTgzLjc3NiA5Ni45NmwtMzIuNTEyLTU2LjM4NGEzMjIuOTIzIDMyMi45MjMgMCAwIDAgNjguNDgtODUuNzZjMTUuNTUyIDE0LjA4IDMxLjQ4OCAyOS4xMiA0Ny44MDggNDUuMTg0ek00NjUuOTg0IDQ0NS4yNDhsMTEuMTM2LTYzLjEwNGEzMjMuNTg0IDMyMy41ODQgMCAwIDAgNjkuNzYgMGwxMS4xMzYgNjMuMTA0YTM4Ny45NjggMzg3Ljk2OCAwIDAgMS05Mi4wMzIgMG0tNjIuNzItMTIuOEEzODEuODI0IDM4MS44MjQgMCAwIDEgMzIwIDM5Ni41NDRsMzItNTUuNDI0YTMxOS44ODUgMzE5Ljg4NSAwIDAgMCA2Mi40NjQgMjcuNzEybC0xMS4yIDYzLjQ4OHptMzAwLjgtMzUuODRhMzgxLjgyNCAzODEuODI0IDAgMCAxLTgzLjMyOCAzNS44NGwtMTEuMi02My41NTJBMzE5Ljg4NSAzMTkuODg1IDAgMCAwIDY3MiAzNDEuMTg0bDMyIDU1LjQyNHptLTUyMC43NjggMzY0LjhhMzg1LjkyIDM4NS45MiAwIDAgMSA4My45NjgtOTcuMjhsMzIuNTEyIDU2LjMyYy0yNi44OCAyMy45MzYtNDkuODU2IDUyLjM1Mi02Ny41MiA4NC4wMzItMTYtMTMuNDQtMzIuMzItMjcuNzEyLTQ4Ljk2LTQzLjA3MnptNjU3LjUzNi4xMjhhMTQ0Mi43NTkgMTQ0Mi43NTkgMCAwIDEtNDkuMDI0IDQzLjA3MiAzMjEuNDA4IDMyMS40MDggMCAwIDAtNjcuNTg0LTg0LjE2bDMyLjUxMi01Ni4zMmMzMy4yMTYgMjcuNDU2IDYxLjY5NiA2MC4zNTIgODQuMDk2IDk3LjQwOHpNNDY1LjkyIDU3OC43NTJhMzg3Ljk2OCAzODcuOTY4IDAgMCAxIDkyLjAzMiAwbC0xMS4xMzYgNjMuMTA0YTMyMy41ODQgMzIzLjU4NCAwIDAgMC02OS43NiAwem0tNjIuNzIgMTIuOCAxMS4yIDYzLjU1MmEzMTkuODg1IDMxOS44ODUgMCAwIDAtNjIuNDY0IDI3LjcxMkwzMjAgNjI3LjM5MmEzODEuODI0IDM4MS44MjQgMCAwIDEgODMuMjY0LTM1Ljg0em0zMDAuOCAzNS44NC0zMiA1NS40MjRhMzE4LjI3MiAzMTguMjcyIDAgMCAwLTYyLjUyOC0yNy43MTJsMTEuMi02My40ODhjMjkuNDQgOC42NCA1Ny4yOCAyMC43MzYgODMuMjY0IDM1Ljc3NnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9mb290YmFsbC52dWVcbnZhciBmb290YmFsbF9kZWZhdWx0ID0gZm9vdGJhbGxfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Zvcmstc3Bvb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTE2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMTYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTE2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazExNiB9IGZyb20gXCJ2dWVcIjtcbnZhciBmb3JrX3Nwb29uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDExNih7XG4gIG5hbWU6IFwiRm9ya1Nwb29uXCIsXG4gIF9fbmFtZTogXCJmb3JrLXNwb29uXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMTYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazExNihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTE2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI1NiA0MTAuMzA0Vjk2YTMyIDMyIDAgMCAxIDY0IDB2MzE0LjMwNGE5NiA5NiAwIDAgMCA2NC05MC41NlY5NmEzMiAzMiAwIDAgMSA2NCAwdjIyMy43NDRhMTYwIDE2MCAwIDAgMS0xMjggMTU2LjhWOTI4YTMyIDMyIDAgMSAxLTY0IDBWNDc2LjU0NGExNjAgMTYwIDAgMCAxLTEyOC0xNTYuOFY5NmEzMiAzMiAwIDAgMSA2NCAwdjIyMy43NDRhOTYgOTYgMCAwIDAgNjQgOTAuNTZ6TTY3MiA1NzIuNDhDNTgxLjE4NCA1NTIuMTI4IDUxMiA0NDYuODQ4IDUxMiAzMjBjMC0xNDEuNDQgODUuOTUyLTI1NiAxOTItMjU2czE5MiAxMTQuNTYgMTkyIDI1NmMwIDEyNi44NDgtNjkuMTg0IDIzMi4xMjgtMTYwIDI1Mi40OFY5MjhhMzIgMzIgMCAxIDEtNjQgMHpNNzA0IDUxMmM2Ni4wNDggMCAxMjgtODIuNTYgMTI4LTE5MnMtNjEuOTUyLTE5Mi0xMjgtMTkyLTEyOCA4Mi41Ni0xMjggMTkyIDYxLjk1MiAxOTIgMTI4IDE5MlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Zvcmstc3Bvb24udnVlXG52YXIgZm9ya19zcG9vbl9kZWZhdWx0ID0gZm9ya19zcG9vbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZnJpZXMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTE3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMTcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTE3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazExNyB9IGZyb20gXCJ2dWVcIjtcbnZhciBmcmllc192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMTcoe1xuICBuYW1lOiBcIkZyaWVzXCIsXG4gIF9fbmFtZTogXCJmcmllc1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTE3KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMTcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTExNyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02MDggMjI0di02NGEzMiAzMiAwIDAgMC02NCAwdjMzNmgyNi44OEE2NCA2NCAwIDAgMCA2MDggNDg0LjA5NnptMTAxLjEyIDE2MEE2NCA2NCAwIDAgMCA2NzIgMzk1LjkwNFYzODRoNjRWMjI0YTMyIDMyIDAgMSAwLTY0IDB2MTYwem03NC44OCAwYTkyLjkyOCA5Mi45MjggMCAwIDEgOTEuMzI4IDExMC4wOGwtNjAuNjcyIDMyMy41ODRBOTYgOTYgMCAwIDEgNzIwLjMyIDg5NkgzMDMuNjhhOTYgOTYgMCAwIDEtOTQuMzM2LTc4LjMzNkwxNDguNjcyIDQ5NC4wOEE5Mi45MjggOTIuOTI4IDAgMCAxIDI0MCAzODRoLTE2VjIyNGE5NiA5NiAwIDAgMSAxODguNjA4LTI1LjI4QTk1Ljc0NCA5NS43NDQgMCAwIDEgNDgwIDE5Ny40NFYxNjBhOTYgOTYgMCAwIDEgMTg4LjYwOC0yNS4yOEE5NiA5NiAwIDAgMSA4MDAgMjI0djE2MHpNNjcwLjc4NCA1MTJhMTI4IDEyOCAwIDAgMS05OS45MDQgNDhINDUzLjEyYTEyOCAxMjggMCAwIDEtOTkuODQtNDhIMzUydi0xLjUzNmExMjguMTI4IDEyOC4xMjggMCAwIDEtOS45ODQtMTQuOTc2TDMxNC44OCA0NDhIMjQwYTI4LjkyOCAyOC45MjggMCAwIDAtMjguNDggMzQuMzA0TDI0MS4wODggNjQwaDU0MS44MjRsMjkuNTY4LTE1Ny42OTZBMjguOTI4IDI4LjkyOCAwIDAgMCA3ODQgNDQ4aC03NC44OGwtMjcuMTM2IDQ3LjQ4OEExMzIuNDA1IDEzMi40MDUgMCAwIDEgNjcyIDUxMC40NjRWNTEyek00ODAgMjg4YTMyIDMyIDAgMCAwLTY0IDB2MTk2LjA5NkE2NCA2NCAwIDAgMCA0NTMuMTIgNDk2SDQ4MHptLTEyOCA5NlYyMjRhMzIgMzIgMCAwIDAtNjQgMHYxNjB6aC0zNy4xMkE2NCA2NCAwIDAgMSAzNTIgMzk1LjkwNHptLTk4Ljg4IDMyMCAxOS4wNzIgMTAxLjg4OEEzMiAzMiAwIDAgMCAzMDMuNjggODMyaDQxNi42NGEzMiAzMiAwIDAgMCAzMS40ODgtMjYuMTEyTDc3MC44OCA3MDR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZnJpZXMudnVlXG52YXIgZnJpZXNfZGVmYXVsdCA9IGZyaWVzX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9mdWxsLXNjcmVlbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMTggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTExOCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMTgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTE4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGZ1bGxfc2NyZWVuX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDExOCh7XG4gIG5hbWU6IFwiRnVsbFNjcmVlblwiLFxuICBfX25hbWU6IFwiZnVsbC1zY3JlZW5cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazExOCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTE4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMTgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtMTYwIDk2LjA2NCAxOTIgLjE5MmEzMiAzMiAwIDAgMSAwIDY0bC0xOTItLjE5MlYzNTJhMzIgMzIgMCAwIDEtNjQgMFY5Nmg2NHptMCA4MzEuODcyVjkyOEg5NlY2NzJhMzIgMzIgMCAxIDEgNjQgMHYxOTEuOTM2bDE5Mi0uMTkyYTMyIDMyIDAgMSAxIDAgNjR6TTg2NCA5Ni4wNjRWOTZoNjR2MjU2YTMyIDMyIDAgMSAxLTY0IDBWMTYwLjA2NGwtMTkyIC4xOTJhMzIgMzIgMCAxIDEgMC02NGwxOTItLjE5MnptMCA4MzEuODcyLTE5Mi0uMTkyYTMyIDMyIDAgMCAxIDAtNjRsMTkyIC4xOTJWNjcyYTMyIDMyIDAgMSAxIDY0IDB2MjU2aC02NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9mdWxsLXNjcmVlbi52dWVcbnZhciBmdWxsX3NjcmVlbl9kZWZhdWx0ID0gZnVsbF9zY3JlZW5fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2dvYmxldC1mdWxsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDExOSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTE5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazExOSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMTkgfSBmcm9tIFwidnVlXCI7XG52YXIgZ29ibGV0X2Z1bGxfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTE5KHtcbiAgbmFtZTogXCJHb2JsZXRGdWxsXCIsXG4gIF9fbmFtZTogXCJnb2JsZXQtZnVsbFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTE5KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMTkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTExOShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yNTYgMzIwaDUxMmMwLTc4LjU5Mi0xMi42MDgtMTQyLjQtMzYuOTI4LTE5MmgtNDM0LjI0QzI2OS41MDQgMTkyLjM4NCAyNTYgMjU2LjI1NiAyNTYgMzIwbTUwMy45MzYgNjRIMjY0LjA2NGEyNTYuMTI4IDI1Ni4xMjggMCAwIDAgNDk1Ljg3MiAwek01NDQgNjM4LjRWODk2aDk2YTMyIDMyIDAgMSAxIDAgNjRIMzg0YTMyIDMyIDAgMSAxIDAtNjRoOTZWNjM4LjRBMzIwIDMyMCAwIDAgMSAxOTIgMzIwYzAtODUuNjMyIDIxLjMxMi0xNzAuOTQ0IDY0LTI1Nmg1MTJjNDIuNjg4IDY0LjMyIDY0IDE0OS42MzIgNjQgMjU2YTMyMCAzMjAgMCAwIDEtMjg4IDMxOC40XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZ29ibGV0LWZ1bGwudnVlXG52YXIgZ29ibGV0X2Z1bGxfZGVmYXVsdCA9IGdvYmxldF9mdWxsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9nb2JsZXQtc3F1YXJlLWZ1bGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTIwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMjAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTIwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEyMCB9IGZyb20gXCJ2dWVcIjtcbnZhciBnb2JsZXRfc3F1YXJlX2Z1bGxfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTIwKHtcbiAgbmFtZTogXCJHb2JsZXRTcXVhcmVGdWxsXCIsXG4gIF9fbmFtZTogXCJnb2JsZXQtc3F1YXJlLWZ1bGxcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEyMCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTIwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMjAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjU2IDI3MC45MTJjMTAuMDQ4IDYuNzIgMjIuNDY0IDE0LjkxMiAyOC45OTIgMTguNjI0YTIyMC4xNiAyMjAuMTYgMCAwIDAgMTE0Ljc1MiAzMC43MmMzMC41OTIgMCA0OS40MDgtOS40NzIgOTEuMDcyLTQxLjE1MmwuNjQtLjQ0OGM1Mi45MjgtNDAuMzIgODIuMzY4LTU1LjA0IDEzMi4yODgtNTQuNjU2IDU1LjU1Mi40NDggOTkuNTg0IDIwLjggMTQyLjcyIDU3LjQwOGwxLjUzNiAxLjI4VjEyOEgyNTZ2MTQyLjkxMnptLjk2IDc2LjI4OEMyNjYuMzY4IDQ4Mi4xNzYgMzQ2Ljg4IDU3NS44NzIgNTEyIDU3NmMxNTcuNDQuMDY0IDIzNy45NTItODUuMDU2IDI1My4yNDgtMjA5Ljk4NGE5NTIuMzIgOTUyLjMyIDAgMCAxLTQwLjE5Mi0zNS43MTJjLTMyLjcwNC0yNy43NzYtNjMuMzYtNDEuOTItMTAxLjg4OC00Mi4yNC0zMS41NTItLjI1Ni01MC42MjQgOS4yOC05My4xMiA0MS42bC0uNTc2LjQ0OGMtNTIuMDk2IDM5LjYxNi04MS4wMjQgNTQuMjA4LTEyOS43OTIgNTQuMjA4LTU0Ljc4NCAwLTEwMC40OC0xMy4zNzYtMTQyLjc4NC0zNy4wNTZ6TTQ4MCA2MzguODQ4QzI1MC42MjQgNjIzLjQyNCAxOTIgNDQyLjQ5NiAxOTIgMzE5LjY4Vjk2YTMyIDMyIDAgMCAxIDMyLTMyaDU3NmEzMiAzMiAwIDAgMSAzMiAzMnYyMjRjMCAxMjIuODE2LTU4LjYyNCAzMDMuNjgtMjg4IDMxOC45MTJWODk2aDk2YTMyIDMyIDAgMSAxIDAgNjRIMzg0YTMyIDMyIDAgMSAxIDAtNjRoOTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZ29ibGV0LXNxdWFyZS1mdWxsLnZ1ZVxudmFyIGdvYmxldF9zcXVhcmVfZnVsbF9kZWZhdWx0ID0gZ29ibGV0X3NxdWFyZV9mdWxsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9nb2JsZXQtc3F1YXJlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEyMSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTIxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEyMSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMjEgfSBmcm9tIFwidnVlXCI7XG52YXIgZ29ibGV0X3NxdWFyZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMjEoe1xuICBuYW1lOiBcIkdvYmxldFNxdWFyZVwiLFxuICBfX25hbWU6IFwiZ29ibGV0LXNxdWFyZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTIxKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMjEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEyMShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01NDQgNjM4LjkxMlY4OTZoOTZhMzIgMzIgMCAxIDEgMCA2NEgzODRhMzIgMzIgMCAxIDEgMC02NGg5NlY2MzguODQ4QzI1MC42MjQgNjIzLjQyNCAxOTIgNDQyLjQ5NiAxOTIgMzE5LjY4Vjk2YTMyIDMyIDAgMCAxIDMyLTMyaDU3NmEzMiAzMiAwIDAgMSAzMiAzMnYyMjRjMCAxMjIuODE2LTU4LjYyNCAzMDMuNjgtMjg4IDMxOC45MTJNMjU2IDMxOS42OGMwIDE0OS41NjggODAgMjU2LjE5MiAyNTYgMjU2LjI1NkM2ODguMTI4IDU3NiA3NjggNDY5LjU2OCA3NjggMzIwVjEyOEgyNTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZ29ibGV0LXNxdWFyZS52dWVcbnZhciBnb2JsZXRfc3F1YXJlX2RlZmF1bHQgPSBnb2JsZXRfc3F1YXJlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9nb2JsZXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTIyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMjIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTIyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEyMiB9IGZyb20gXCJ2dWVcIjtcbnZhciBnb2JsZXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTIyKHtcbiAgbmFtZTogXCJHb2JsZXRcIixcbiAgX19uYW1lOiBcImdvYmxldFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTIyKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMjIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEyMihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01NDQgNjM4LjRWODk2aDk2YTMyIDMyIDAgMSAxIDAgNjRIMzg0YTMyIDMyIDAgMSAxIDAtNjRoOTZWNjM4LjRBMzIwIDMyMCAwIDAgMSAxOTIgMzIwYzAtODUuNjMyIDIxLjMxMi0xNzAuOTQ0IDY0LTI1Nmg1MTJjNDIuNjg4IDY0LjMyIDY0IDE0OS42MzIgNjQgMjU2YTMyMCAzMjAgMCAwIDEtMjg4IDMxOC40TTI1NiAzMjBhMjU2IDI1NiAwIDEgMCA1MTIgMGMwLTc4LjU5Mi0xMi42MDgtMTQyLjQtMzYuOTI4LTE5MmgtNDM0LjI0QzI2OS41MDQgMTkyLjM4NCAyNTYgMjU2LjI1NiAyNTYgMzIwXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZ29ibGV0LnZ1ZVxudmFyIGdvYmxldF9kZWZhdWx0ID0gZ29ibGV0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9nb2xkLW1lZGFsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEyMyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTIzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEyMywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMjMgfSBmcm9tIFwidnVlXCI7XG52YXIgZ29sZF9tZWRhbF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMjMoe1xuICBuYW1lOiBcIkdvbGRNZWRhbFwiLFxuICBfX25hbWU6IFwiZ29sZC1tZWRhbFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTIzKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMjMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwieG1sOnNwYWNlXCI6IFwicHJlc2VydmVcIixcbiAgICAgIHN0eWxlOiB7IFwiZW5hYmxlLWJhY2tncm91bmRcIjogXCJuZXcgMCAwIDEwMjQgMTAyNFwiIH0sXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMjMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtNzcyLjEzIDQ1Mi44NCA1My44Ni0zNTEuODFjMS4zMi0xMC4wMS0xLjE3LTE4LjY4LTcuNDktMjYuMDJTODA0LjM1IDY0IDc5NS4wMSA2NEgyMjguOTl2LS4wMWgtLjA2Yy05LjMzIDAtMTcuMTUgMy42Ny0yMy40OSAxMS4wMXMtOC44MyAxNi4wMS03LjQ5IDI2LjAybDUzLjg3IDM1MS44OUMyMTMuNTQgNTA1LjczIDE5My41OSA1NjguMDkgMTkyIDY0MGMyIDkwLjY3IDMzLjE3IDE2Ni4xNyA5My41IDIyNi41UzQyMS4zMyA5NTcuOTkgNTEyIDk2MGM5MC42Ny0yIDE2Ni4xNy0zMy4xNyAyMjYuNS05My41IDYwLjMzLTYwLjM0IDkxLjQ5LTEzNS44MyA5My41LTIyNi41LTEuNTktNzEuOTQtMjEuNTYtMTM0LjMyLTU5Ljg3LTE4Ny4xNnpNNjQwLjAxIDEyOGgxMTcuMDJsLTM5LjAxIDI1NC4wMmMtMjAuNzUtMTAuNjQtNDAuNzQtMTkuNzMtNTkuOTQtMjcuMjgtNS45Mi0zLTExLjk1LTUuOC0xOC4wOC04LjQxVjEyOGguMDF6TTU3NiAxMjh2MTk4Ljc2Yy0xMy4xOC0yLjU4LTI2Ljc0LTQuNDMtNDAuNjctNS41NS04LjA3LS44LTE1Ljg1LTEuMi0yMy4zMy0xLjItMTAuNTQgMC0yMS4wOS42Ni0zMS42NCAxLjk2YTM1OS44NDQgMzU5Ljg0NCAwIDAgMC0zMi4zNiA0Ljc5VjEyOHptLTE5MiAwaC4wNHYyMTguM2MtNi4yMiAyLjY2LTEyLjM0IDUuNS0xOC4zNiA4LjU2LTE5LjEzIDcuNTQtMzkuMDIgMTYuNi01OS42NiAyNy4xNkwyNjcuMDEgMTI4em0zMDguOTkgNjkyLjk5Yy00OCA0OC0xMDguMzMgNzMtMTgwLjk5IDc1LjAxLTcyLjY2LTIuMDEtMTMyLjk5LTI3LjAxLTE4MC45OS03NS4wMVMyNTguMDEgNzEyLjY2IDI1NiA2NDBjMi4wMS03Mi42NiAyNy4wMS0xMzIuOTkgNzUuMDEtMTgwLjk5IDE5LjY3LTE5LjY3IDQxLjQxLTM1LjQ3IDY1LjIyLTQ3LjQxIDM4LjMzLTE1LjA0IDcxLjE1LTIzLjkyIDk4LjQ0LTI2LjY1IDUuMDctLjQxIDEwLjItLjcgMTUuMzktLjg4LjYzLS4wMSAxLjI4LS4wMyAxLjkxLS4wMy42NiAwIDEuMzUuMDMgMi4wMi4wNCA1LjExLjE3IDEwLjE1LjQ2IDE1LjEzLjg2IDI3LjQgMi43MSA2MC4zNyAxMS42NSA5OC45MSAyNi43OSAyMy43MSAxMS45MyA0NS4zNiAyNy42OSA2NC45NiA0Ny4yOSA0OCA0OCA3MyAxMDguMzMgNzUuMDEgMTgwLjk5LTIuMDEgNzIuNjUtMjcuMDEgMTMyLjk4LTc1LjAxIDE4MC45OHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTIzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTU0NCA0ODBINDE2djY0aDY0djE5MmgtNjR2NjRoMTkydi02NGgtNjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZ29sZC1tZWRhbC52dWVcbnZhciBnb2xkX21lZGFsX2RlZmF1bHQgPSBnb2xkX21lZGFsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9nb29kcy1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTI0IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMjQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTI0LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEyNCB9IGZyb20gXCJ2dWVcIjtcbnZhciBnb29kc19maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTI0KHtcbiAgbmFtZTogXCJHb29kc0ZpbGxlZFwiLFxuICBfX25hbWU6IFwiZ29vZHMtZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMjQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEyNChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTI0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE5MiAzNTJoNjQwbDY0IDU0NEgxMjh6bTEyOCAyMjRoNjRWNDQ4aC02NHptMzIwIDBoNjRWNDQ4aC02NHpNMzg0IDI4OGgtNjRhMTkyIDE5MiAwIDEgMSAzODQgMGgtNjRhMTI4IDEyOCAwIDEgMC0yNTYgMFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2dvb2RzLWZpbGxlZC52dWVcbnZhciBnb29kc19maWxsZWRfZGVmYXVsdCA9IGdvb2RzX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZ29vZHMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTI1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMjUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTI1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEyNSB9IGZyb20gXCJ2dWVcIjtcbnZhciBnb29kc192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMjUoe1xuICBuYW1lOiBcIkdvb2RzXCIsXG4gIF9fbmFtZTogXCJnb29kc1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTI1KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMjUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEyNShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zMjAgMjg4di0yMi4zMzZDMzIwIDE1NC42ODggNDA1LjUwNCA2NCA1MTIgNjRzMTkyIDkwLjY4OCAxOTIgMjAxLjY2NHYyMi40aDEzMS4wNzJhMzIgMzIgMCAwIDEgMzEuODA4IDI4LjhsNTcuNiA1NzZhMzIgMzIgMCAwIDEtMzEuODA4IDM1LjJIMTMxLjMyOGEzMiAzMiAwIDAgMS0zMS44MDgtMzUuMmw1Ny42LTU3NmEzMiAzMiAwIDAgMSAzMS44MDgtMjguOEgzMjB6bTY0IDBoMjU2di0yMi4zMzZDNjQwIDE4OS4yNDggNTgyLjI3MiAxMjggNTEyIDEyOGMtNzAuMjcyIDAtMTI4IDYxLjI0OC0xMjggMTM3LjY2NHYyMi40em0tNjQgNjRIMjE3LjkybC01MS4yIDUxMmg2OTAuNTZsLTUxLjI2NC01MTJINzA0djk2YTMyIDMyIDAgMSAxLTY0IDB2LTk2SDM4NHY5NmEzMiAzMiAwIDAgMS02NCAwelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2dvb2RzLnZ1ZVxudmFyIGdvb2RzX2RlZmF1bHQgPSBnb29kc192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZ3JhcGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTI2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMjYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTI2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEyNiB9IGZyb20gXCJ2dWVcIjtcbnZhciBncmFwZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMjYoe1xuICBuYW1lOiBcIkdyYXBlXCIsXG4gIF9fbmFtZTogXCJncmFwZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTI2KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMjYoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEyNihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01NDQgMTk1LjJhMTYwIDE2MCAwIDAgMSA5NiA2MC44IDE2MCAxNjAgMCAxIDEgMTQ2LjI0IDI1NC45NzYgMTYwIDE2MCAwIDAgMS0xMjggMjI0IDE2MCAxNjAgMCAxIDEtMjkyLjQ4IDAgMTYwIDE2MCAwIDAgMS0xMjgtMjI0QTE2MCAxNjAgMCAxIDEgMzg0IDI1NmExNjAgMTYwIDAgMCAxIDk2LTYwLjhWMTI4aC02NGEzMiAzMiAwIDAgMSAwLTY0aDE5MmEzMiAzMiAwIDAgMSAwIDY0aC02NHpNNTEyIDQ0OGE5NiA5NiAwIDEgMCAwLTE5MiA5NiA5NiAwIDAgMCAwIDE5Mm0tMjU2IDBhOTYgOTYgMCAxIDAgMC0xOTIgOTYgOTYgMCAwIDAgMCAxOTJtMTI4IDIyNGE5NiA5NiAwIDEgMCAwLTE5MiA5NiA5NiAwIDAgMCAwIDE5Mm0xMjggMjI0YTk2IDk2IDAgMSAwIDAtMTkyIDk2IDk2IDAgMCAwIDAgMTkybTEyOC0yMjRhOTYgOTYgMCAxIDAgMC0xOTIgOTYgOTYgMCAwIDAgMCAxOTJtMTI4LTIyNGE5NiA5NiAwIDEgMCAwLTE5MiA5NiA5NiAwIDAgMCAwIDE5MlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2dyYXBlLnZ1ZVxudmFyIGdyYXBlX2RlZmF1bHQgPSBncmFwZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZ3JpZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMjcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEyNywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMjcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTI3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGdyaWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTI3KHtcbiAgbmFtZTogXCJHcmlkXCIsXG4gIF9fbmFtZTogXCJncmlkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMjcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEyNyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTI3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTY0MCAzODR2MjU2SDM4NFYzODR6bTY0IDBoMTkydjI1Nkg3MDR6bS02NCA1MTJIMzg0VjcwNGgyNTZ6bTY0IDBWNzA0aDE5MnYxOTJ6bS02NC03Njh2MTkySDM4NFYxMjh6bTY0IDBoMTkydjE5Mkg3MDR6TTMyMCAzODR2MjU2SDEyOFYzODR6bTAgNTEySDEyOFY3MDRoMTkyem0wLTc2OHYxOTJIMTI4VjEyOHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9ncmlkLnZ1ZVxudmFyIGdyaWRfZGVmYXVsdCA9IGdyaWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2d1aWRlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEyOCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTI4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEyOCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMjggfSBmcm9tIFwidnVlXCI7XG52YXIgZ3VpZGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTI4KHtcbiAgbmFtZTogXCJHdWlkZVwiLFxuICBfX25hbWU6IFwiZ3VpZGVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEyOCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTI4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMjgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjQwIDYwOGgtNjRWNDE2aDY0em0wIDE2MHYxNjBhMzIgMzIgMCAwIDEtMzIgMzJINDE2YTMyIDMyIDAgMCAxLTMyLTMyVjc2OGg2NHYxMjhoMTI4Vjc2OHpNMzg0IDYwOFY0MTZoNjR2MTkyem0yNTYtMzUyaC02NFYxMjhINDQ4djEyOGgtNjRWOTZhMzIgMzIgMCAwIDEgMzItMzJoMTkyYTMyIDMyIDAgMCAxIDMyIDMyelwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMjgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtMjIwLjggMjU2LTcxLjIzMiA4MCA3MS4xNjggODBINzY4VjI1NkgyMjAuOHptLTE0LjQtNjRIODAwYTMyIDMyIDAgMCAxIDMyIDMydjIyNGEzMiAzMiAwIDAgMS0zMiAzMkgyMDYuNGEzMiAzMiAwIDAgMS0yMy45MzYtMTAuNzUybC05OS41ODQtMTEyYTMyIDMyIDAgMCAxIDAtNDIuNDk2bDk5LjU4NC0xMTJBMzIgMzIgMCAwIDEgMjA2LjQgMTkybTY3OC43ODQgNDk2LTcxLjEwNCA4MEgyNjYuODE2VjYwOGg1NDcuMmw3MS4xNjggODB6bS01Ni43NjgtMTQ0SDIzNC44OGEzMiAzMiAwIDAgMC0zMiAzMnYyMjRhMzIgMzIgMCAwIDAgMzIgMzJoNTkzLjZhMzIgMzIgMCAwIDAgMjMuOTM2LTEwLjc1Mmw5OS41ODQtMTEyYTMyIDMyIDAgMCAwIDAtNDIuNDk2bC05OS41ODQtMTEyQTMyIDMyIDAgMCAwIDgyOC40OCA1NDR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZ3VpZGUudnVlXG52YXIgZ3VpZGVfZGVmYXVsdCA9IGd1aWRlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9oYW5kYmFnLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEyOSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTI5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEyOSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMjkgfSBmcm9tIFwidnVlXCI7XG52YXIgaGFuZGJhZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMjkoe1xuICBuYW1lOiBcIkhhbmRiYWdcIixcbiAgX19uYW1lOiBcImhhbmRiYWdcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEyOSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTI5KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInhtbDpzcGFjZVwiOiBcInByZXNlcnZlXCIsXG4gICAgICBzdHlsZTogeyBcImVuYWJsZS1iYWNrZ3JvdW5kXCI6IFwibmV3IDAgMCAxMDI0IDEwMjRcIiB9LFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTI5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTg4Ny4wMSAyNjQuOTljLTYtNS45OS0xMy42Ny04Ljk5LTIzLjAxLTguOTlINzA0Yy0xLjM0LTU0LjY4LTIwLjAxLTEwMC4wMS01Ni0xMzZzLTgxLjMyLTU0LjY2LTEzNi01NmMtNTQuNjggMS4zNC0xMDAuMDEgMjAuMDEtMTM2IDU2cy01NC42NiA4MS4zMi01NiAxMzZIMTYwYy05LjM1IDAtMTcuMDIgMy0yMy4wMSA4Ljk5LTUuOTkgNi04Ljk5IDEzLjY3LTguOTkgMjMuMDF2NjQwYzAgOS4zNSAyLjk5IDE3LjAyIDguOTkgMjMuMDFTMTUwLjY2IDk2MCAxNjAgOTYwaDcwNGM5LjM1IDAgMTcuMDItMi45OSAyMy4wMS04Ljk5Uzg5NiA5MzcuMzQgODk2IDkyOFYyODhjMC05LjM1LTIuOTktMTcuMDItOC45OS0yMy4wMU00MjEuNSAxNjUuNWMyNC4zMi0yNC4zNCA1NC40OS0zNi44NCA5MC41LTM3LjUgMzUuOTkuNjggNjYuMTYgMTMuMTggOTAuNSAzNy41czM2Ljg0IDU0LjQ5IDM3LjUgOTAuNUgzODRjLjY4LTM1Ljk5IDEzLjE4LTY2LjE2IDM3LjUtOTAuNU04MzIgODk2SDE5MlYzMjBoMTI4djEyOGg2NFYzMjBoMjU2djEyOGg2NFYzMjBoMTI4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2hhbmRiYWcudnVlXG52YXIgaGFuZGJhZ19kZWZhdWx0ID0gaGFuZGJhZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvaGVhZHNldC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMzAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzMCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMzAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTMwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGhlYWRzZXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTMwKHtcbiAgbmFtZTogXCJIZWFkc2V0XCIsXG4gIF9fbmFtZTogXCJoZWFkc2V0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMzAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEzMChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTMwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTg5NiA1MjkuMTUyVjUxMmEzODQgMzg0IDAgMSAwLTc2OCAwdjE3LjE1MkExMjggMTI4IDAgMCAxIDMyMCA2NDB2MTI4YTEyOCAxMjggMCAxIDEtMjU2IDBWNTEyYTQ0OCA0NDggMCAxIDEgODk2IDB2MjU2YTEyOCAxMjggMCAxIDEtMjU2IDBWNjQwYTEyOCAxMjggMCAwIDEgMTkyLTExMC44NDhNODk2IDY0MGE2NCA2NCAwIDAgMC0xMjggMHYxMjhhNjQgNjQgMCAwIDAgMTI4IDB6bS03NjggMHYxMjhhNjQgNjQgMCAwIDAgMTI4IDBWNjQwYTY0IDY0IDAgMSAwLTEyOCAwXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvaGVhZHNldC52dWVcbnZhciBoZWFkc2V0X2RlZmF1bHQgPSBoZWFkc2V0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9oZWxwLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMzEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzMSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMzEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTMxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGhlbHBfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEzMSh7XG4gIG5hbWU6IFwiSGVscEZpbGxlZFwiLFxuICBfX25hbWU6IFwiaGVscC1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEzMSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTMxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMzEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNOTI2Ljc4NCA0ODBINzAxLjMxMkExOTIuNTEyIDE5Mi41MTIgMCAwIDAgNTQ0IDMyMi42ODhWOTcuMjE2QTQxNi4wNjQgNDE2LjA2NCAwIDAgMSA5MjYuNzg0IDQ4MG0wIDY0QTQxNi4wNjQgNDE2LjA2NCAwIDAgMSA1NDQgOTI2Ljc4NFY3MDEuMzEyQTE5Mi41MTIgMTkyLjUxMiAwIDAgMCA3MDEuMzEyIDU0NHpNOTcuMjggNTQ0aDIyNS40NzJBMTkyLjUxMiAxOTIuNTEyIDAgMCAwIDQ4MCA3MDEuMzEydjIyNS40NzJBNDE2LjA2NCA0MTYuMDY0IDAgMCAxIDk3LjIxNiA1NDR6bTAtNjRBNDE2LjA2NCA0MTYuMDY0IDAgMCAxIDQ4MCA5Ny4yMTZ2MjI1LjQ3MkExOTIuNTEyIDE5Mi41MTIgMCAwIDAgMzIyLjY4OCA0ODBIOTcuMjE2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2hlbHAtZmlsbGVkLnZ1ZVxudmFyIGhlbHBfZmlsbGVkX2RlZmF1bHQgPSBoZWxwX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvaGVscC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMzIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzMiwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMzIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTMyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGhlbHBfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTMyKHtcbiAgbmFtZTogXCJIZWxwXCIsXG4gIF9fbmFtZTogXCJoZWxwXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMzIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEzMihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTMyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTc1OS45MzYgODA1LjI0OC05MC45NDQtOTEuMDA4QTI1NC45MTIgMjU0LjkxMiAwIDAgMSA1MTIgNzY4YTI1NC45MTIgMjU0LjkxMiAwIDAgMS0xNTYuOTkyLTUzLjc2bC05MC45NDQgOTEuMDA4QTM4Mi40NjQgMzgyLjQ2NCAwIDAgMCA1MTIgODk2Yzk0LjUyOCAwIDE4MS4xMi0zNC4xNzYgMjQ3LjkzNi05MC43NTJtNDUuMzEyLTQ1LjMxMkEzODIuNDY0IDM4Mi40NjQgMCAwIDAgODk2IDUxMmMwLTk0LjUyOC0zNC4xNzYtMTgxLjEyLTkwLjc1Mi0yNDcuOTM2bC05MS4wMDggOTAuOTQ0Qzc0Ny45MDQgMzk4LjQgNzY4IDQ1Mi44NjQgNzY4IDUxMmMwIDU5LjEzNi0yMC4wOTYgMTEzLjYtNTMuNzYgMTU2Ljk5Mmw5MS4wMDggOTAuOTQ0em0tNDUuMzEyLTU0MS4xODRBMzgyLjQ2NCAzODIuNDY0IDAgMCAwIDUxMiAxMjhjLTk0LjUyOCAwLTE4MS4xMiAzNC4xNzYtMjQ3LjkzNiA5MC43NTJsOTAuOTQ0IDkxLjAwOEEyNTQuOTEyIDI1NC45MTIgMCAwIDEgNTEyIDI1NmM1OS4xMzYgMCAxMTMuNiAyMC4wOTYgMTU2Ljk5MiA1My43Nmw5MC45NDQtOTEuMDA4em0tNTQxLjE4NCA0NS4zMTJBMzgyLjQ2NCAzODIuNDY0IDAgMCAwIDEyOCA1MTJjMCA5NC41MjggMzQuMTc2IDE4MS4xMiA5MC43NTIgMjQ3LjkzNmw5MS4wMDgtOTAuOTQ0QTI1NC45MTIgMjU0LjkxMiAwIDAgMSAyNTYgNTEyYzAtNTkuMTM2IDIwLjA5Ni0xMTMuNiA1My43Ni0xNTYuOTkyem00MTcuMjggMzk0LjQ5NmExOTQuNTYgMTk0LjU2IDAgMCAwIDIyLjUyOC0yMi41MjhDNjg2LjkxMiA2MDIuNTYgNzA0IDU1OS4yMzIgNzA0IDUxMmExOTEuMjMyIDE5MS4yMzIgMCAwIDAtNjcuOTY4LTE0Ni41NkExOTEuMjk2IDE5MS4yOTYgMCAwIDAgNTEyIDMyMGExOTEuMjMyIDE5MS4yMzIgMCAwIDAtMTQ2LjU2IDY3Ljk2OEMzMzcuMDg4IDQyMS40NCAzMjAgNDY0Ljc2OCAzMjAgNTEyYTE5MS4yMzIgMTkxLjIzMiAwIDAgMCA2Ny45NjggMTQ2LjU2QzQyMS40NCA2ODYuOTEyIDQ2NC43NjggNzA0IDUxMiA3MDRjNDcuMjk2IDAgOTAuNTYtMTcuMDg4IDEyNC4wMzItNDUuNDR6TTUxMiA5NjBhNDQ4IDQ0OCAwIDEgMSAwLTg5NiA0NDggNDQ4IDAgMCAxIDAgODk2XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvaGVscC52dWVcbnZhciBoZWxwX2RlZmF1bHQgPSBoZWxwX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9oaWRlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEzMyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTMzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEzMywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMzMgfSBmcm9tIFwidnVlXCI7XG52YXIgaGlkZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMzMoe1xuICBuYW1lOiBcIkhpZGVcIixcbiAgX19uYW1lOiBcImhpZGVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEzMygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTMzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMzMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODc2LjggMTU2LjhjMC05LjYtMy4yLTE2LTkuNi0yMi40LTYuNC02LjQtMTIuOC05LjYtMjIuNC05LjYtOS42IDAtMTYgMy4yLTIyLjQgOS42TDczNiAyMjAuOGMtNjQtMzItMTM3LjYtNTEuMi0yMjQtNjAuOC0xNjAgMTYtMjg4IDczLjYtMzc3LjYgMTc2QzQ0LjggNDM4LjQgMCA0OTYgMCA1MTJzNDggNzMuNiAxMzQuNCAxNzZjMjIuNCAyNS42IDQ0LjggNDggNzMuNiA2Ny4ybC04Ni40IDg5LjZjLTYuNCA2LjQtOS42IDEyLjgtOS42IDIyLjQgMCA5LjYgMy4yIDE2IDkuNiAyMi40IDYuNCA2LjQgMTIuOCA5LjYgMjIuNCA5LjYgOS42IDAgMTYtMy4yIDIyLjQtOS42bDcwNC03MTAuNGMzLjItNi40IDYuNC0xMi44IDYuNC0yMi40Wm0tNjQ2LjQgNTI4Yy03Ni44LTcwLjQtMTI4LTEyOC0xNTMuNi0xNzIuOCAyOC44LTQ4IDgwLTEwNS42IDE1My42LTE3Mi44QzMwNCAyNzIgNDAwIDIzMC40IDUxMiAyMjRjNjQgMy4yIDEyNC44IDE5LjIgMTc2IDQ0LjhsLTU0LjQgNTQuNEM1OTguNCAzMDAuOCA1NjAgMjg4IDUxMiAyODhjLTY0IDAtMTE1LjIgMjIuNC0xNjAgNjRzLTY0IDk2LTY0IDE2MGMwIDQ4IDEyLjggODkuNiAzNS4yIDEyNC44TDI1NiA3MDcuMmMtOS42LTYuNC0xOS4yLTE2LTI1LjYtMjIuNFptMTQwLjgtOTZjLTEyLjgtMjIuNC0xOS4yLTQ4LTE5LjItNzYuOCAwLTQ0LjggMTYtODMuMiA0OC0xMTIgMzItMjguOCA2Ny4yLTQ4IDExMi00OCAyOC44IDAgNTQuNCA2LjQgNzMuNiAxOS4yek04ODkuNTk5IDMzNmMtMTIuOC0xNi0yOC44LTI4LjgtNDEuNi00MS42bC00OCA0OGM3My42IDY3LjIgMTI0LjggMTI0LjggMTUwLjQgMTY5LjYtMjguOCA0OC04MCAxMDUuNi0xNTMuNiAxNzIuOC03My42IDY3LjItMTcyLjggMTA4LjgtMjg0LjggMTE1LjItNTEuMi0zLjItOTkuMi0xMi44LTE0MC44LTI4LjhsLTQ4IDQ4YzU3LjYgMjIuNCAxMTguNCAzOC40IDE4OC44IDQ0LjggMTYwLTE2IDI4OC03My42IDM3Ny42LTE3NkM5NzkuMTk5IDU4NS42IDEwMjQgNTI4IDEwMjQgNTEycy00OC4wMDEtNzMuNi0xMzQuNDAxLTE3NlpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTMzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMS45OTggNjcyYy0xMi44IDAtMjUuNi0zLjItMzguNC02LjRsLTUxLjIgNTEuMmMyOC44IDEyLjggNTcuNiAxOS4yIDg5LjYgMTkuMiA2NCAwIDExNS4yLTIyLjQgMTYwLTY0IDQxLjYtNDEuNiA2NC05NiA2NC0xNjAgMC0zMi02LjQtNjQtMTkuMi04OS42bC01MS4yIDUxLjJjMy4yIDEyLjggNi40IDI1LjYgNi40IDM4LjQgMCA0NC44LTE2IDgzLjItNDggMTEyLTMyIDI4LjgtNjcuMiA0OC0xMTIgNDhaXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvaGlkZS52dWVcbnZhciBoaWRlX2RlZmF1bHQgPSBoaWRlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9oaXN0b2dyYW0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTM0IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMzQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTM0LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEzNCB9IGZyb20gXCJ2dWVcIjtcbnZhciBoaXN0b2dyYW1fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTM0KHtcbiAgbmFtZTogXCJIaXN0b2dyYW1cIixcbiAgX19uYW1lOiBcImhpc3RvZ3JhbVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTM0KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMzQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzNChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00MTYgODk2VjEyOGgxOTJ2NzY4em0tMjg4IDBWNDQ4aDE5MnY0NDh6bTU3NiAwVjMyMGgxOTJ2NTc2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2hpc3RvZ3JhbS52dWVcbnZhciBoaXN0b2dyYW1fZGVmYXVsdCA9IGhpc3RvZ3JhbV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvaG9tZS1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTM1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMzUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTM1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEzNSB9IGZyb20gXCJ2dWVcIjtcbnZhciBob21lX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMzUoe1xuICBuYW1lOiBcIkhvbWVGaWxsZWRcIixcbiAgX19uYW1lOiBcImhvbWUtZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMzUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEzNShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTM1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiAxMjggMTI4IDQ0Ny45MzZWODk2aDI1NS45MzZWNjQwSDY0MHYyNTZoMjU1LjkzNlY0NDcuOTM2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2hvbWUtZmlsbGVkLnZ1ZVxudmFyIGhvbWVfZmlsbGVkX2RlZmF1bHQgPSBob21lX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvaG90LXdhdGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEzNiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTM2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEzNiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMzYgfSBmcm9tIFwidnVlXCI7XG52YXIgaG90X3dhdGVyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEzNih7XG4gIG5hbWU6IFwiSG90V2F0ZXJcIixcbiAgX19uYW1lOiBcImhvdC13YXRlclwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTM2KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMzYoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzNihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yNzMuMDY3IDQ3Ny44NjdoNDc3Ljg2NlY0MDkuNkgyNzMuMDY3em0wIDY4LjI2NnY1MS4yQTE4Ny43MzMgMTg3LjczMyAwIDAgMCA0NjAuOCA3ODUuMDY3aDEwMi40YTE4Ny43MzMgMTg3LjczMyAwIDAgMCAxODcuNzMzLTE4Ny43MzR2LTUxLjJIMjczLjA2N3ptLTM0LjEzNC0yMDQuOGg1NDYuMTM0YTM0LjEzMyAzNC4xMzMgMCAwIDEgMzQuMTMzIDM0LjEzNHYyMjEuODY2YTI1NiAyNTYgMCAwIDEtMjU2IDI1Nkg0NjAuOGEyNTYgMjU2IDAgMCAxLTI1Ni0yNTZWMzc1LjQ2N2EzNC4xMzMgMzQuMTMzIDAgMCAxIDM0LjEzMy0zNC4xMzR6TTUxMiAzNC4xMzNhMzQuMTMzIDM0LjEzMyAwIDAgMSAzNC4xMzMgMzQuMTM0djE3MC42NjZhMzQuMTMzIDM0LjEzMyAwIDAgMS02OC4yNjYgMFY2OC4yNjdBMzQuMTMzIDM0LjEzMyAwIDAgMSA1MTIgMzQuMTMzek0zNzUuNDY3IDEwMi40YTM0LjEzMyAzNC4xMzMgMCAwIDEgMzQuMTMzIDM0LjEzM3YxMDIuNGEzNC4xMzMgMzQuMTMzIDAgMCAxLTY4LjI2NyAwdi0xMDIuNGEzNC4xMzMgMzQuMTMzIDAgMCAxIDM0LjEzNC0zNC4xMzNtMjczLjA2NiAwYTM0LjEzMyAzNC4xMzMgMCAwIDEgMzQuMTM0IDM0LjEzM3YxMDIuNGEzNC4xMzMgMzQuMTMzIDAgMSAxLTY4LjI2NyAwdi0xMDIuNGEzNC4xMzMgMzQuMTMzIDAgMCAxIDM0LjEzMy0zNC4xMzNNMTcwLjY2NyA5MjEuNjY4aDY4Mi42NjZhMzQuMTMzIDM0LjEzMyAwIDEgMSAwIDY4LjI2N0gxNzAuNjY3YTM0LjEzMyAzNC4xMzMgMCAxIDEgMC02OC4yNjd6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvaG90LXdhdGVyLnZ1ZVxudmFyIGhvdF93YXRlcl9kZWZhdWx0ID0gaG90X3dhdGVyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9ob3VzZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMzcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzNywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMzcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTM3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGhvdXNlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEzNyh7XG4gIG5hbWU6IFwiSG91c2VcIixcbiAgX19uYW1lOiBcImhvdXNlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMzcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEzNyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTM3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE5MiA0MTMuOTUyVjg5Nmg2NDBWNDEzLjk1Mkw1MTIgMTQ3LjMyOHpNMTM5LjUyIDM3NC40bDM1Mi0yOTMuMzEyYTMyIDMyIDAgMCAxIDQwLjk2IDBsMzUyIDI5My4zMTJBMzIgMzIgMCAwIDEgODk2IDM5OC45NzZWOTI4YTMyIDMyIDAgMCAxLTMyIDMySDE2MGEzMiAzMiAwIDAgMS0zMi0zMlYzOTguOTc2YTMyIDMyIDAgMCAxIDExLjUyLTI0LjU3NlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2hvdXNlLnZ1ZVxudmFyIGhvdXNlX2RlZmF1bHQgPSBob3VzZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvaWNlLWNyZWFtLXJvdW5kLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEzOCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTM4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEzOCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMzggfSBmcm9tIFwidnVlXCI7XG52YXIgaWNlX2NyZWFtX3JvdW5kX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEzOCh7XG4gIG5hbWU6IFwiSWNlQ3JlYW1Sb3VuZFwiLFxuICBfX25hbWU6IFwiaWNlLWNyZWFtLXJvdW5kXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMzgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEzOChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTM4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTMwOC4zNTIgNDg5LjM0NCAyMjYuMzA0IDIyNi4zMDRhMzIgMzIgMCAwIDAgNDUuMjQ4IDBMNzgzLjU1MiA1MTJBMTkyIDE5MiAwIDEgMCA1MTIgMjQwLjQ0OEwzMDguMzUyIDQ0NC4xNmEzMiAzMiAwIDAgMCAwIDQ1LjI0OHptMTM1Ljc0NCAyMjYuMzA0TDMwOC4zNTIgODUxLjM5MmE5NiA5NiAwIDAgMS0xMzUuNzQ0LTEzNS43NDRsMTM1Ljc0NC0xMzUuNzQ0LTQ1LjI0OC00NS4yNDhhOTYgOTYgMCAwIDEgMC0xMzUuODA4TDQ2Ni43NTIgMTk1LjJBMjU2IDI1NiAwIDAgMSA4MjguOCA1NTcuMjQ4TDYyNS4xNTIgNzYwLjk2YTk2IDk2IDAgMCAxLTEzNS44MDggMGwtNDUuMjQ4LTQ1LjI0OHpNMzk4Ljg0OCA2NzAuNCAzNTMuNiA2MjUuMTUyIDIxNy44NTYgNzYwLjg5NmEzMiAzMiAwIDAgMCA0NS4yNDggNDUuMjQ4em0yNDguOTYtMzg0LjY0YTMyIDMyIDAgMCAxIDAgNDUuMjQ4TDQ2Ni42MjQgNTEyYTMyIDMyIDAgMSAxLTQ1LjE4NC00NS4yNDhsMTgwLjk5Mi0xODEuMDU2YTMyIDMyIDAgMCAxIDQ1LjI0OCAwem05MC40OTYgOTAuNDk2YTMyIDMyIDAgMCAxIDAgNDUuMjQ4TDU1Ny4yNDggNjAyLjQ5NkEzMiAzMiAwIDEgMSA1MTIgNTU3LjI0OGwxODAuOTkyLTE4MC45OTJhMzIgMzIgMCAwIDEgNDUuMzEyIDB6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvaWNlLWNyZWFtLXJvdW5kLnZ1ZVxudmFyIGljZV9jcmVhbV9yb3VuZF9kZWZhdWx0ID0gaWNlX2NyZWFtX3JvdW5kX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9pY2UtY3JlYW0tc3F1YXJlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEzOSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTM5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEzOSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMzkgfSBmcm9tIFwidnVlXCI7XG52YXIgaWNlX2NyZWFtX3NxdWFyZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMzkoe1xuICBuYW1lOiBcIkljZUNyZWFtU3F1YXJlXCIsXG4gIF9fbmFtZTogXCJpY2UtY3JlYW0tc3F1YXJlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMzkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEzOShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTM5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQxNiA2NDBoMjU2YTMyIDMyIDAgMCAwIDMyLTMyVjE2MGEzMiAzMiAwIDAgMC0zMi0zMkgzNTJhMzIgMzIgMCAwIDAtMzIgMzJ2NDQ4YTMyIDMyIDAgMCAwIDMyIDMyem0xOTIgNjR2MTYwYTk2IDk2IDAgMCAxLTE5MiAwVjcwNGgtNjRhOTYgOTYgMCAwIDEtOTYtOTZWMTYwYTk2IDk2IDAgMCAxIDk2LTk2aDMyMGE5NiA5NiAwIDAgMSA5NiA5NnY0NDhhOTYgOTYgMCAwIDEtOTYgOTZ6bS02NCAwaC02NHYxNjBhMzIgMzIgMCAxIDAgNjQgMHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9pY2UtY3JlYW0tc3F1YXJlLnZ1ZVxudmFyIGljZV9jcmVhbV9zcXVhcmVfZGVmYXVsdCA9IGljZV9jcmVhbV9zcXVhcmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2ljZS1jcmVhbS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNDAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0MCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNDAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTQwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGljZV9jcmVhbV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNDAoe1xuICBuYW1lOiBcIkljZUNyZWFtXCIsXG4gIF9fbmFtZTogXCJpY2UtY3JlYW1cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE0MCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTQwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNDAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTI4LjY0IDQ0OGEyMDggMjA4IDAgMCAxIDE5My41MzYtMTkxLjU1MiAyMjQgMjI0IDAgMCAxIDQ0NS4yNDggMTUuNDg4QTIwOC4xMjggMjA4LjEyOCAwIDAgMSA4OTQuNzg0IDQ0OEg4OTZMNTQ4LjggOTgzLjY4YTMyIDMyIDAgMCAxLTUzLjI0OC43MDRMMTI4IDQ0OHptNjQuMjU2IDBoMjg2LjIwOGExNDQgMTQ0IDAgMCAwLTI4Ni4yMDggMHptMzUxLjM2IDBoMjg2LjI3MmExNDQgMTQ0IDAgMCAwLTI4Ni4yNzIgMHptLTI5NC44NDggNjQgMjcxLjgwOCAzOTYuNjA4TDc3OC4yNCA1MTJIMjQ5LjQwOHpNNTExLjY4IDM1Mi42NGEyMDcuODcyIDIwNy44NzIgMCAwIDEgMTg5LjE4NC05Ni4xOTIgMTYwIDE2MCAwIDAgMC0zMTQuNzUyIDUuNjMyYzUyLjYwOCAxMi45OTIgOTcuMjggNDYuMDggMTI1LjU2OCA5MC41NlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ljZS1jcmVhbS52dWVcbnZhciBpY2VfY3JlYW1fZGVmYXVsdCA9IGljZV9jcmVhbV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvaWNlLWRyaW5rLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE0MSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTQxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE0MSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNDEgfSBmcm9tIFwidnVlXCI7XG52YXIgaWNlX2RyaW5rX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE0MSh7XG4gIG5hbWU6IFwiSWNlRHJpbmtcIixcbiAgX19uYW1lOiBcImljZS1kcmlua1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTQxKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNDEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0MShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNDQ4djEyOGgyMzkuNjhsMTYuMDY0LTEyOHptLTY0IDBIMjU2LjI1NmwxNi4wNjQgMTI4SDQ0OHptNjQtMjU1LjM2VjM4NGgyNDcuNzQ0QTI1Ni4xMjggMjU2LjEyOCAwIDAgMCA1MTIgMTkyLjY0bS02NCA4LjA2NEEyNTYuNDQ4IDI1Ni40NDggMCAwIDAgMjY0LjI1NiAzODRINDQ4em02NC03Mi4wNjRBMzIwLjEyOCAzMjAuMTI4IDAgMCAxIDgyNS40NzIgMzg0SDg5NmEzMiAzMiAwIDEgMSAwIDY0aC02NHYxLjkybC01Ni45NiA0NTQuMDE2QTY0IDY0IDAgMCAxIDcxMS41NTIgOTYwSDMxMi40NDhhNjQgNjQgMCAwIDEtNjMuNDg4LTU2LjA2NEwxOTIgNDQ5LjkyVjQ0OGgtNjRhMzIgMzIgMCAwIDEgMC02NGg3MC41MjhBMzIwLjM4NCAzMjAuMzg0IDAgMCAxIDQ0OCAxMzUuMDRWOTZhOTYgOTYgMCAwIDEgOTYtOTZoMTI4YTMyIDMyIDAgMSAxIDAgNjRINTQ0YTMyIDMyIDAgMCAwLTMyIDMyek03NDMuNjggNjQwSDI4MC4zMmwzMi4xMjggMjU2aDM5OS4xMDR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvaWNlLWRyaW5rLnZ1ZVxudmFyIGljZV9kcmlua19kZWZhdWx0ID0gaWNlX2RyaW5rX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9pY2UtdGVhLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE0MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTQyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE0MiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNDIgfSBmcm9tIFwidnVlXCI7XG52YXIgaWNlX3RlYV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNDIoe1xuICBuYW1lOiBcIkljZVRlYVwiLFxuICBfX25hbWU6IFwiaWNlLXRlYVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTQyKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNDIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xOTcuNjk2IDI1OS42NDhhMzIwLjEyOCAzMjAuMTI4IDAgMCAxIDYyOC42MDggMEE5NiA5NiAwIDAgMSA4OTYgMzUydjY0YTk2IDk2IDAgMCAxLTcxLjYxNiA5Mi44NjRsLTQ5LjQwOCAzOTUuMDcyQTY0IDY0IDAgMCAxIDcxMS40ODggOTYwSDMxMi41MTJhNjQgNjQgMCAwIDEtNjMuNDg4LTU2LjA2NGwtNDkuNDA4LTM5NS4wNzJBOTYgOTYgMCAwIDEgMTI4IDQxNnYtNjRhOTYgOTYgMCAwIDEgNjkuNjk2LTkyLjM1Mk0yNjQuMDY0IDI1Nmg0OTUuODcyYTI1Ni4xMjggMjU2LjEyOCAwIDAgMC00OTUuODcyIDBtNDk1LjQyNCAyNTZIMjY0LjUxMmw0OCAzODRoMzk4Ljk3NnpNMjI0IDQ0OGg1NzZhMzIgMzIgMCAwIDAgMzItMzJ2LTY0YTMyIDMyIDAgMCAwLTMyLTMySDIyNGEzMiAzMiAwIDAgMC0zMiAzMnY2NGEzMiAzMiAwIDAgMCAzMiAzMm0xNjAgMTkyaDY0djY0aC02NHptMTkyIDY0aDY0djY0aC02NHptLTEyOCA2NGg2NHY2NGgtNjR6bTY0LTE5Mmg2NHY2NGgtNjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvaWNlLXRlYS52dWVcbnZhciBpY2VfdGVhX2RlZmF1bHQgPSBpY2VfdGVhX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9pbmZvLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNDMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0Mywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNDMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTQzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGluZm9fZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE0Myh7XG4gIG5hbWU6IFwiSW5mb0ZpbGxlZFwiLFxuICBfX25hbWU6IFwiaW5mby1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE0MygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTQzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNDMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0YTQ0OCA0NDggMCAxIDEgMCA4OTYuMDY0QTQ0OCA0NDggMCAwIDEgNTEyIDY0bTY3LjIgMjc1LjA3MmMzMy4yOCAwIDYwLjI4OC0yMy4xMDQgNjAuMjg4LTU3LjM0NHMtMjcuMDcyLTU3LjM0NC02MC4yODgtNTcuMzQ0Yy0zMy4yOCAwLTYwLjE2IDIzLjEwNC02MC4xNiA1Ny4zNDRzMjYuODggNTcuMzQ0IDYwLjE2IDU3LjM0NE01OTAuOTEyIDY5OS4yYzAtNi44NDggMi4zNjgtMjQuNjQgMS4wMjQtMzQuNzUybC01Mi42MDggNjAuNTQ0Yy0xMC44OCAxMS40NTYtMjQuNTEyIDE5LjM5Mi0zMC45MTIgMTcuMjhhMTIuOTkyIDEyLjk5MiAwIDAgMS04LjI1Ni0xNC43Mmw4Ny42OC0yNzYuOTkyYzcuMTY4LTM1LjEzNi0xMi41NDQtNjcuMi01NC4zMzYtNzEuMjk2LTQ0LjA5NiAwLTEwOC45OTIgNDQuNzM2LTE0OC40OCAxMDEuNTA0IDAgNi43ODQtMS4yOCAyMy42OC4wNjQgMzMuNzkybDUyLjU0NC02MC42MDhjMTAuODgtMTEuMzI4IDIzLjU1Mi0xOS4zMjggMjkuOTUyLTE3LjE1MmExMi44IDEyLjggMCAwIDEgNy44MDggMTYuMTI4TDM4OC40OCA3MjguNTc2Yy0xMC4wNDggMzIuMjU2IDguOTYgNjMuODcyIDU1LjA0IDcxLjA0IDY3Ljg0IDAgMTA3LjkwNC00My42NDggMTQ3LjQ1Ni0xMDAuNDE2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2luZm8tZmlsbGVkLnZ1ZVxudmFyIGluZm9fZmlsbGVkX2RlZmF1bHQgPSBpbmZvX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvaXBob25lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE0NCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTQ0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE0NCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNDQgfSBmcm9tIFwidnVlXCI7XG52YXIgaXBob25lX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE0NCh7XG4gIG5hbWU6IFwiSXBob25lXCIsXG4gIF9fbmFtZTogXCJpcGhvbmVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE0NCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTQ0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNDQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjI0IDc2OHY5Ni4wNjRhNjQgNjQgMCAwIDAgNjQgNjRoNDQ4YTY0IDY0IDAgMCAwIDY0LTY0Vjc2OHptMC02NGg1NzZWMTYwYTY0IDY0IDAgMCAwLTY0LTY0SDI4OGE2NCA2NCAwIDAgMC02NCA2NHptMzIgMjg4YTk2IDk2IDAgMCAxLTk2LTk2VjEyOGE5NiA5NiAwIDAgMSA5Ni05Nmg1MTJhOTYgOTYgMCAwIDEgOTYgOTZ2NzY4YTk2IDk2IDAgMCAxLTk2IDk2em0zMDQtMTQ0YTQ4IDQ4IDAgMSAxLTk2IDAgNDggNDggMCAwIDEgOTYgMFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2lwaG9uZS52dWVcbnZhciBpcGhvbmVfZGVmYXVsdCA9IGlwaG9uZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMva2V5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE0NSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTQ1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE0NSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNDUgfSBmcm9tIFwidnVlXCI7XG52YXIga2V5X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE0NSh7XG4gIG5hbWU6IFwiS2V5XCIsXG4gIF9fbmFtZTogXCJrZXlcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE0NSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTQ1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNDUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDQ4IDQ1Ni4wNjRWOTZhMzIgMzIgMCAwIDEgMzItMzIuMDY0TDY3MiA2NGEzMiAzMiAwIDAgMSAwIDY0SDUxMnYxMjhoMTYwYTMyIDMyIDAgMCAxIDAgNjRINTEydjEyOGEyNTYgMjU2IDAgMSAxLTY0IDguMDY0TTUxMiA4OTZhMTkyIDE5MiAwIDEgMCAwLTM4NCAxOTIgMTkyIDAgMCAwIDAgMzg0XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMva2V5LnZ1ZVxudmFyIGtleV9kZWZhdWx0ID0ga2V5X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9rbmlmZS1mb3JrLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE0NiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTQ2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE0NiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNDYgfSBmcm9tIFwidnVlXCI7XG52YXIga25pZmVfZm9ya192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNDYoe1xuICBuYW1lOiBcIktuaWZlRm9ya1wiLFxuICBfX25hbWU6IFwia25pZmUtZm9ya1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTQ2KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNDYoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yNTYgNDEwLjU2Vjk2YTMyIDMyIDAgMCAxIDY0IDB2MzE0LjU2QTk2IDk2IDAgMCAwIDM4NCAzMjBWOTZhMzIgMzIgMCAwIDEgNjQgMHYyMjRhMTYwIDE2MCAwIDAgMS0xMjggMTU2LjhWOTI4YTMyIDMyIDAgMSAxLTY0IDBWNDc2LjhBMTYwIDE2MCAwIDAgMSAxMjggMzIwVjk2YTMyIDMyIDAgMCAxIDY0IDB2MjI0YTk2IDk2IDAgMCAwIDY0IDkwLjU2bTM4NC0yNTAuMjRWNTQ0aDEyNi43MmMtMy4zMjgtNzguNzItMTIuOTI4LTE0Ny45NjgtMjguNjA4LTIwNy43NDQtMTQuMzM2LTU0LjUyOC00Ni44NDgtMTEzLjM0NC05OC4xMTItMTc1Ljg3MnpNNjQwIDYwOHYzMjBhMzIgMzIgMCAxIDEtNjQgMFY2NGg2NGM4NS4zMTIgODkuNDcyIDEzOC42ODggMTc0Ljg0OCAxNjAgMjU2IDIxLjMxMiA4MS4xNTIgMzIgMTc3LjE1MiAzMiAyODh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMva25pZmUtZm9yay52dWVcbnZhciBrbmlmZV9mb3JrX2RlZmF1bHQgPSBrbmlmZV9mb3JrX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9saWdodG5pbmcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTQ3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNDcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTQ3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE0NyB9IGZyb20gXCJ2dWVcIjtcbnZhciBsaWdodG5pbmdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTQ3KHtcbiAgbmFtZTogXCJMaWdodG5pbmdcIixcbiAgX19uYW1lOiBcImxpZ2h0bmluZ1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTQ3KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNDcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yODggNjcxLjM2djY0LjEyOEEyMzkuODA4IDIzOS44MDggMCAwIDEgNjMuNzQ0IDQ5Ni4xOTJhMjQwLjMyIDI0MC4zMiAwIDAgMSAxOTkuNDg4LTIzNi44IDI1Ni4xMjggMjU2LjEyOCAwIDAgMSA0ODcuODcyLTMwLjk3NkEyNTYuMDY0IDI1Ni4wNjQgMCAwIDEgNzM2IDczNC4wMTZ2LTY0Ljc2OGExOTIgMTkyIDAgMCAwIDMuMzI4LTM3Ny45MmwtMzUuMi02LjU5Mi0xMi44LTMzLjQwOGExOTIuMDY0IDE5Mi4wNjQgMCAwIDAtMzY1Ljk1MiAyMy4yMzJsLTkuOTIgNDAuODk2LTQxLjQ3MiA3LjA0YTE3Ni4zMiAxNzYuMzIgMCAwIDAtMTQ2LjI0IDE3My41NjhjMCA5MS45NjggNzAuNDY0IDE2Ny4zNiAxNjAuMjU2IDE3NS4yMzJ6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00MTYgNzM2YTMyIDMyIDAgMCAxLTI3Ljc3Ni00Ny44NzJsMTI4LTIyNGEzMiAzMiAwIDEgMSA1NS41NTIgMzEuNzQ0TDQ3MS4xNjggNjcySDYwOGEzMiAzMiAwIDAgMSAyNy43NzYgNDcuODcybC0xMjggMjI0YTMyIDMyIDAgMSAxLTU1LjY4LTMxLjc0NEw1NTIuOTYgNzM2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2xpZ2h0bmluZy52dWVcbnZhciBsaWdodG5pbmdfZGVmYXVsdCA9IGxpZ2h0bmluZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbGluay52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNDggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0OCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNDgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTQ4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGxpbmtfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTQ4KHtcbiAgbmFtZTogXCJMaW5rXCIsXG4gIF9fbmFtZTogXCJsaW5rXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNDgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE0OChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTQ4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTcxNS42NDggNjI1LjE1MiA2NzAuNCA1NzkuOTA0bDkwLjQ5Ni05MC41NmM3NS4wMDgtNzQuOTQ0IDg1LjEyLTE4Ni4zNjggMjIuNjU2LTI0OC44OTYtNjIuNTI4LTYyLjQ2NC0xNzMuOTUyLTUyLjM1Mi0yNDguOTYgMjIuNjU2TDQ0NC4xNiAzNTMuNmwtNDUuMjQ4LTQ1LjI0OCA5MC40OTYtOTAuNDk2YzEwMC4wMzItOTkuOTY4IDI1MS45NjgtMTEwLjA4IDMzOS40NTYtMjIuNjU2IDg3LjQ4OCA4Ny40ODggNzcuMzEyIDIzOS40MjQtMjIuNjU2IDMzOS40NTZsLTkwLjQ5NiA5MC40OTZ6bS05MC40OTYgOTAuNDk2LTkwLjQ5NiA5MC40OTZDNDM0LjYyNCA5MDYuMTEyIDI4Mi42ODggOTE2LjIyNCAxOTUuMiA4MjguOGMtODcuNDg4LTg3LjQ4OC03Ny4zMTItMjM5LjQyNCAyMi42NTYtMzM5LjQ1Nmw5MC40OTYtOTAuNDk2IDQ1LjI0OCA0NS4yNDgtOTAuNDk2IDkwLjU2Yy03NS4wMDggNzQuOTQ0LTg1LjEyIDE4Ni4zNjgtMjIuNjU2IDI0OC44OTYgNjIuNTI4IDYyLjQ2NCAxNzMuOTUyIDUyLjM1MiAyNDguOTYtMjIuNjU2bDkwLjQ5Ni05MC40OTZ6bTAtMzYyLjA0OCA0NS4yNDggNDUuMjQ4TDM5OC44NDggNjcwLjQgMzUzLjYgNjI1LjE1MnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9saW5rLnZ1ZVxudmFyIGxpbmtfZGVmYXVsdCA9IGxpbmtfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2xpc3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTQ5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNDksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTQ5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE0OSB9IGZyb20gXCJ2dWVcIjtcbnZhciBsaXN0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE0OSh7XG4gIG5hbWU6IFwiTGlzdFwiLFxuICBfX25hbWU6IFwibGlzdFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTQ5KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNDkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03MDQgMTkyaDE2MHY3MzZIMTYwVjE5MmgxNjB2NjRoMzg0ek0yODggNTEyaDQ0OHYtNjRIMjg4em0wIDI1Nmg0NDh2LTY0SDI4OHptOTYtNTc2Vjk2aDI1NnY5NnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9saXN0LnZ1ZVxudmFyIGxpc3RfZGVmYXVsdCA9IGxpc3RfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTUwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTUwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE1MCB9IGZyb20gXCJ2dWVcIjtcbnZhciBsb2FkaW5nX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE1MCh7XG4gIG5hbWU6IFwiTG9hZGluZ1wiLFxuICBfX25hbWU6IFwibG9hZGluZ1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTUwKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNTAoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNjRhMzIgMzIgMCAwIDEgMzIgMzJ2MTkyYTMyIDMyIDAgMCAxLTY0IDBWOTZhMzIgMzIgMCAwIDEgMzItMzJtMCA2NDBhMzIgMzIgMCAwIDEgMzIgMzJ2MTkyYTMyIDMyIDAgMSAxLTY0IDBWNzM2YTMyIDMyIDAgMCAxIDMyLTMybTQ0OC0xOTJhMzIgMzIgMCAwIDEtMzIgMzJINzM2YTMyIDMyIDAgMSAxIDAtNjRoMTkyYTMyIDMyIDAgMCAxIDMyIDMybS02NDAgMGEzMiAzMiAwIDAgMS0zMiAzMkg5NmEzMiAzMiAwIDAgMSAwLTY0aDE5MmEzMiAzMiAwIDAgMSAzMiAzMk0xOTUuMiAxOTUuMmEzMiAzMiAwIDAgMSA0NS4yNDggMEwzNzYuMzIgMzMxLjAwOGEzMiAzMiAwIDAgMS00NS4yNDggNDUuMjQ4TDE5NS4yIDI0MC40NDhhMzIgMzIgMCAwIDEgMC00NS4yNDh6bTQ1Mi41NDQgNDUyLjU0NGEzMiAzMiAwIDAgMSA0NS4yNDggMEw4MjguOCA3ODMuNTUyYTMyIDMyIDAgMCAxLTQ1LjI0OCA0NS4yNDhMNjQ3Ljc0NCA2OTIuOTkyYTMyIDMyIDAgMCAxIDAtNDUuMjQ4ek04MjguOCAxOTUuMjY0YTMyIDMyIDAgMCAxIDAgNDUuMTg0TDY5Mi45OTIgMzc2LjMyYTMyIDMyIDAgMCAxLTQ1LjI0OC00NS4yNDhsMTM1LjgwOC0xMzUuODA4YTMyIDMyIDAgMCAxIDQ1LjI0OCAwbS00NTIuNTQ0IDQ1Mi40OGEzMiAzMiAwIDAgMSAwIDQ1LjI0OEwyNDAuNDQ4IDgyOC44YTMyIDMyIDAgMCAxLTQ1LjI0OC00NS4yNDhsMTM1LjgwOC0xMzUuODA4YTMyIDMyIDAgMCAxIDQ1LjI0OCAwelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2xvYWRpbmcudnVlXG52YXIgbG9hZGluZ19kZWZhdWx0ID0gbG9hZGluZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbG9jYXRpb24tZmlsbGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE1MSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTUxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE1MSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNTEgfSBmcm9tIFwidnVlXCI7XG52YXIgbG9jYXRpb25fZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE1MSh7XG4gIG5hbWU6IFwiTG9jYXRpb25GaWxsZWRcIixcbiAgX19uYW1lOiBcImxvY2F0aW9uLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTUxKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNTEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1MShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgOTI4YzIzLjkzNiAwIDExNy41MDQtNjguMzUyIDE5Mi4wNjQtMTUzLjE1MkM4MDMuNDU2IDY2MS44ODggODY0IDUzNS44MDggODY0IDQxNmMwLTE4OS42MzItMTU1Ljg0LTMyMC0zNTItMzIwUzE2MCAyMjYuMzY4IDE2MCA0MTZjMCAxMjAuMzIgNjAuNTQ0IDI0Ni40IDE1OS45MzYgMzU5LjIzMkMzOTQuNDMyIDg1OS44NCA0ODggOTI4IDUxMiA5MjhtMC00MzUuMmE2NCA2NCAwIDEgMCAwLTEyOCA2NCA2NCAwIDAgMCAwIDEyOG0wIDE0MC44YTIwNC44IDIwNC44IDAgMSAxIDAtNDA5LjYgMjA0LjggMjA0LjggMCAwIDEgMCA0MDkuNlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2xvY2F0aW9uLWZpbGxlZC52dWVcbnZhciBsb2NhdGlvbl9maWxsZWRfZGVmYXVsdCA9IGxvY2F0aW9uX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbG9jYXRpb24taW5mb3JtYXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTUyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTUyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE1MiB9IGZyb20gXCJ2dWVcIjtcbnZhciBsb2NhdGlvbl9pbmZvcm1hdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNTIoe1xuICBuYW1lOiBcIkxvY2F0aW9uSW5mb3JtYXRpb25cIixcbiAgX19uYW1lOiBcImxvY2F0aW9uLWluZm9ybWF0aW9uXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNTIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE1MihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTUyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI4OCA4OTZoNDQ4cTMyIDAgMzIgMzJ0LTMyIDMySDI4OHEtMzIgMC0zMi0zMnQzMi0zMlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODAwIDQxNmEyODggMjg4IDAgMSAwLTU3NiAwYzAgMTE4LjE0NCA5NC41MjggMjcyLjEyOCAyODggNDU2LjU3NkM3MDUuNDcyIDY4OC4xMjggODAwIDUzNC4xNDQgODAwIDQxNk01MTIgOTYwQzI3Ny4zMTIgNzQ2LjY4OCAxNjAgNTY1LjMxMiAxNjAgNDE2YTM1MiAzNTIgMCAwIDEgNzA0IDBjMCAxNDkuMzEyLTExNy4zMTIgMzMwLjY4OC0zNTIgNTQ0XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNTEyYTk2IDk2IDAgMSAwIDAtMTkyIDk2IDk2IDAgMCAwIDAgMTkybTAgNjRhMTYwIDE2MCAwIDEgMSAwLTMyMCAxNjAgMTYwIDAgMCAxIDAgMzIwXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbG9jYXRpb24taW5mb3JtYXRpb24udnVlXG52YXIgbG9jYXRpb25faW5mb3JtYXRpb25fZGVmYXVsdCA9IGxvY2F0aW9uX2luZm9ybWF0aW9uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9sb2NhdGlvbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNTMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1Mywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNTMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTUzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGxvY2F0aW9uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE1Myh7XG4gIG5hbWU6IFwiTG9jYXRpb25cIixcbiAgX19uYW1lOiBcImxvY2F0aW9uXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNTMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE1MyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTUzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgwMCA0MTZhMjg4IDI4OCAwIDEgMC01NzYgMGMwIDExOC4xNDQgOTQuNTI4IDI3Mi4xMjggMjg4IDQ1Ni41NzZDNzA1LjQ3MiA2ODguMTI4IDgwMCA1MzQuMTQ0IDgwMCA0MTZNNTEyIDk2MEMyNzcuMzEyIDc0Ni42ODggMTYwIDU2NS4zMTIgMTYwIDQxNmEzNTIgMzUyIDAgMCAxIDcwNCAwYzAgMTQ5LjMxMi0xMTcuMzEyIDMzMC42ODgtMzUyIDU0NFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDUxMmE5NiA5NiAwIDEgMCAwLTE5MiA5NiA5NiAwIDAgMCAwIDE5Mm0wIDY0YTE2MCAxNjAgMCAxIDEgMC0zMjAgMTYwIDE2MCAwIDAgMSAwIDMyMFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2xvY2F0aW9uLnZ1ZVxudmFyIGxvY2F0aW9uX2RlZmF1bHQgPSBsb2NhdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbG9jay52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNTQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNTQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTU0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGxvY2tfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTU0KHtcbiAgbmFtZTogXCJMb2NrXCIsXG4gIF9fbmFtZTogXCJsb2NrXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNTQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE1NChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTU0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTIyNCA0NDhhMzIgMzIgMCAwIDAtMzIgMzJ2Mzg0YTMyIDMyIDAgMCAwIDMyIDMyaDU3NmEzMiAzMiAwIDAgMCAzMi0zMlY0ODBhMzIgMzIgMCAwIDAtMzItMzJ6bTAtNjRoNTc2YTk2IDk2IDAgMCAxIDk2IDk2djM4NGE5NiA5NiAwIDAgMS05NiA5NkgyMjRhOTYgOTYgMCAwIDEtOTYtOTZWNDgwYTk2IDk2IDAgMCAxIDk2LTk2XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1NChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNTQ0YTMyIDMyIDAgMCAxIDMyIDMydjE5MmEzMiAzMiAwIDEgMS02NCAwVjU3NmEzMiAzMiAwIDAgMSAzMi0zMm0xOTItMTYwdi02NGExOTIgMTkyIDAgMSAwLTM4NCAwdjY0ek01MTIgNjRhMjU2IDI1NiAwIDAgMSAyNTYgMjU2djEyOEgyNTZWMzIwQTI1NiAyNTYgMCAwIDEgNTEyIDY0XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbG9jay52dWVcbnZhciBsb2NrX2RlZmF1bHQgPSBsb2NrX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9sb2xsaXBvcC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNTUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1NSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNTUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTU1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGxvbGxpcG9wX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE1NSh7XG4gIG5hbWU6IFwiTG9sbGlwb3BcIixcbiAgX19uYW1lOiBcImxvbGxpcG9wXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNTUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE1NShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTU1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMy4yOCA0NDhhNjQgNjQgMCAxIDEgNzYuNTQ0IDQ5LjcyOEE5NiA5NiAwIDAgMCA3NjggNDQ4aDY0YTE2MCAxNjAgMCAwIDEtMzIwIDB6bS0xMjYuOTc2LTI5LjY5NmEyNTYgMjU2IDAgMSAwIDQzLjUyLTE4MC40OEEyNTYgMjU2IDAgMCAxIDgzMiA0NDhoLTY0YTE5MiAxOTIgMCAwIDAtMzgxLjY5Ni0yOS42OTZtMTA1LjY2NCAyNDkuNDcyTDI4NS42OTYgODc0LjA0OGE5NiA5NiAwIDAgMS0xMzUuNjgtMTM1Ljc0NGwyMDYuMjA4LTIwNi4yNzJhMzIwIDMyMCAwIDEgMSAxMzUuNzQ0IDEzNS43NDR6bS01NC40NjQtMzYuMDMyYTMyMS45MiAzMjEuOTIgMCAwIDEtNDUuMjQ4LTQ1LjI0OEwxOTUuMiA3ODMuNTUyYTMyIDMyIDAgMSAwIDQ1LjI0OCA0NS4yNDhsMTk3LjA1Ni0xOTcuMTJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbG9sbGlwb3AudnVlXG52YXIgbG9sbGlwb3BfZGVmYXVsdCA9IGxvbGxpcG9wX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tYWdpYy1zdGljay52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNTYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1Niwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNTYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTU2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1hZ2ljX3N0aWNrX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE1Nih7XG4gIG5hbWU6IFwiTWFnaWNTdGlja1wiLFxuICBfX25hbWU6IFwibWFnaWMtc3RpY2tcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE1NigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTU2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0aDY0djE5MmgtNjR6bTAgNTc2aDY0djE5MmgtNjR6TTE2MCA0ODB2LTY0aDE5MnY2NHptNTc2IDB2LTY0aDE5MnY2NHpNMjQ5Ljg1NiAxOTkuMDRsNDUuMjQ4LTQ1LjE4NEw0MzAuODQ4IDI4OS42IDM4NS42IDMzNC44NDggMjQ5Ljg1NiAxOTkuMTA0ek02NTcuMTUyIDYwNi40bDQ1LjI0OC00NS4yNDggMTM1Ljc0NCAxMzUuNzQ0LTQ1LjI0OCA0NS4yNDh6TTExNC4wNDggOTIzLjIgNjguOCA4NzcuOTUybDMxNi44LTMxNi44IDQ1LjI0OCA0NS4yNDh6TTcwMi40IDMzNC44NDggNjU3LjE1MiAyODkuNmwxMzUuNzQ0LTEzNS43NDQgNDUuMjQ4IDQ1LjI0OHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9tYWdpYy1zdGljay52dWVcbnZhciBtYWdpY19zdGlja19kZWZhdWx0ID0gbWFnaWNfc3RpY2tfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL21hZ25ldC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNTcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1Nywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNTcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTU3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1hZ25ldF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNTcoe1xuICBuYW1lOiBcIk1hZ25ldFwiLFxuICBfX25hbWU6IFwibWFnbmV0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNTcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE1NyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTU3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgzMiAzMjBWMTkySDcwNHYzMjBhMTkyIDE5MiAwIDEgMS0zODQgMFYxOTJIMTkydjEyOGgxMjh2NjRIMTkydjEyOGEzMjAgMzIwIDAgMCAwIDY0MCAwVjM4NEg3MDR2LTY0ek02NDAgNTEyVjEyOGgyNTZ2Mzg0YTM4NCAzODQgMCAxIDEtNzY4IDBWMTI4aDI1NnYzODRhMTI4IDEyOCAwIDEgMCAyNTYgMFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL21hZ25ldC52dWVcbnZhciBtYWduZXRfZGVmYXVsdCA9IG1hZ25ldF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbWFsZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNTggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1OCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNTgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTU4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1hbGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTU4KHtcbiAgbmFtZTogXCJNYWxlXCIsXG4gIF9fbmFtZTogXCJtYWxlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNTgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE1OChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTU4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM5OS41IDg0OS41YTIyNSAyMjUgMCAxIDAgMC00NTAgMjI1IDIyNSAwIDAgMCAwIDQ1MG0wIDU2LjI1YTI4MS4yNSAyODEuMjUgMCAxIDEgMC01NjIuNSAyODEuMjUgMjgxLjI1IDAgMCAxIDAgNTYyLjVtMjUzLjEyNS03ODcuNWgyMjVxMjguMTI1IDAgMjguMTI1IDI4LjEyNVQ4NzcuNjI1IDE3NC41aC0yMjVxLTI4LjEyNSAwLTI4LjEyNS0yOC4xMjV0MjguMTI1LTI4LjEyNVwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODc3LjYyNSAxMTguMjVxMjguMTI1IDAgMjguMTI1IDI4LjEyNXYyMjVxMCAyOC4xMjUtMjguMTI1IDI4LjEyNVQ4NDkuNSAzNzEuMzc1di0yMjVxMC0yOC4xMjUgMjguMTI1LTI4LjEyNVwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjA0LjgxMyA0NTguOSA1NjUuMSA0MTkuMTMxbDI5Mi42MTMtMjkyLjY2OCAzOS44MjUgMzkuODI0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL21hbGUudnVlXG52YXIgbWFsZV9kZWZhdWx0ID0gbWFsZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbWFuYWdlbWVudC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNTkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1OSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNTksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTU5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1hbmFnZW1lbnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTU5KHtcbiAgbmFtZTogXCJNYW5hZ2VtZW50XCIsXG4gIF9fbmFtZTogXCJtYW5hZ2VtZW50XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNTkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE1OShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTU5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTU3NiAxMjh2Mjg4bDk2LTk2IDk2IDk2VjEyOGgxMjh2NzY4SDMyMFYxMjh6bS00NDggMGgxMjh2NzY4SDEyOHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9tYW5hZ2VtZW50LnZ1ZVxudmFyIG1hbmFnZW1lbnRfZGVmYXVsdCA9IG1hbmFnZW1lbnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL21hcC1sb2NhdGlvbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNjAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2MCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNjAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTYwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1hcF9sb2NhdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNjAoe1xuICBuYW1lOiBcIk1hcExvY2F0aW9uXCIsXG4gIF9fbmFtZTogXCJtYXAtbG9jYXRpb25cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE2MCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTYwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNjAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODAwIDQxNmEyODggMjg4IDAgMSAwLTU3NiAwYzAgMTE4LjE0NCA5NC41MjggMjcyLjEyOCAyODggNDU2LjU3NkM3MDUuNDcyIDY4OC4xMjggODAwIDUzNC4xNDQgODAwIDQxNk01MTIgOTYwQzI3Ny4zMTIgNzQ2LjY4OCAxNjAgNTY1LjMxMiAxNjAgNDE2YTM1MiAzNTIgMCAwIDEgNzA0IDBjMCAxNDkuMzEyLTExNy4zMTIgMzMwLjY4OC0zNTIgNTQ0XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNDQ4YTY0IDY0IDAgMSAwIDAtMTI4IDY0IDY0IDAgMCAwIDAgMTI4bTAgNjRhMTI4IDEyOCAwIDEgMSAwLTI1NiAxMjggMTI4IDAgMCAxIDAgMjU2bTM0NS42IDE5Mkw5NjAgOTYwSDY3MnYtNjRIMzUydjY0SDY0bDEwMi40LTI1NnptLTY4LjkyOCAwSDIzNS4zMjhsLTc2LjggMTkyaDcwNi45NDR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbWFwLWxvY2F0aW9uLnZ1ZVxudmFyIG1hcF9sb2NhdGlvbl9kZWZhdWx0ID0gbWFwX2xvY2F0aW9uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tZWRhbC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNjEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2MSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNjEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTYxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1lZGFsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE2MSh7XG4gIG5hbWU6IFwiTWVkYWxcIixcbiAgX19uYW1lOiBcIm1lZGFsXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNjEoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE2MShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTYxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA4OTZhMjU2IDI1NiAwIDEgMCAwLTUxMiAyNTYgMjU2IDAgMCAwIDAgNTEybTAgNjRhMzIwIDMyMCAwIDEgMSAwLTY0MCAzMjAgMzIwIDAgMCAxIDAgNjQwXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2MShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01NzYgMTI4SDQ0OHYyMDBhMjg2LjcyIDI4Ni43MiAwIDAgMSA2NC04YzE5LjUyIDAgNDAuODMyIDIuNjg4IDY0IDh6bTY0IDB2MjE5LjY0OGMyNC40NDggOS4wODggNTAuNTYgMjAuNDE2IDc4LjQgMzMuOTJMNzU3LjQ0IDEyOHptLTI1NiAwSDI2Ni42MjRsMzkuMDQgMjUzLjU2OGMyNy44NC0xMy41MDQgNTMuODg4LTI0LjgzMiA3OC4zMzYtMzMuOTJWMTI4ek0yMjkuMzEyIDY0aDU2NS4zNzZhMzIgMzIgMCAwIDEgMzEuNjE2IDM2Ljg2NEw3NjggNDgwYy0xMTMuNzkyLTY0LTE5OS4xMDQtOTYtMjU2LTk2LTU2Ljg5NiAwLTE0Mi4yMDggMzItMjU2IDk2bC01OC4zMDQtMzc5LjEzNkEzMiAzMiAwIDAgMSAyMjkuMzEyIDY0XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbWVkYWwudnVlXG52YXIgbWVkYWxfZGVmYXVsdCA9IG1lZGFsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tZW1vLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE2MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTYyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE2MiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNjIgfSBmcm9tIFwidnVlXCI7XG52YXIgbWVtb192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNjIoe1xuICBuYW1lOiBcIk1lbW9cIixcbiAgX19uYW1lOiBcIm1lbW9cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE2MigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTYyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInhtbDpzcGFjZVwiOiBcInByZXNlcnZlXCIsXG4gICAgICBzdHlsZTogeyBcImVuYWJsZS1iYWNrZ3JvdW5kXCI6IFwibmV3IDAgMCAxMDI0IDEwMjRcIiB9LFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTYyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCAzMjBoMTkyYzIxLjMzIDAgMzItMTAuNjcgMzItMzJzLTEwLjY3LTMyLTMyLTMySDQ4MGMtMjEuMzMgMC0zMiAxMC42Ny0zMiAzMnMxMC42NyAzMiAzMiAzMlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNjIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODg3LjAxIDcyLjk5Qzg4MS4wMSA2NyA4NzMuMzQgNjQgODY0IDY0SDE2MGMtOS4zNSAwLTE3LjAyIDMtMjMuMDEgOC45OUMxMzEgNzguOTkgMTI4IDg2LjY2IDEyOCA5NnY4MzJjMCA5LjM1IDIuOTkgMTcuMDIgOC45OSAyMy4wMVMxNTAuNjYgOTYwIDE2MCA5NjBoNzA0YzkuMzUgMCAxNy4wMi0yLjk5IDIzLjAxLTguOTlTODk2IDkzNy4zNCA4OTYgOTI4Vjk2YzAtOS4zNS0zLTE3LjAyLTguOTktMjMuMDFNMTkyIDg5NlYxMjhoOTZ2NzY4em02NDAgMEgzNTJWMTI4aDQ4MHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTYyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCA1MTJoMTkyYzIxLjMzIDAgMzItMTAuNjcgMzItMzJzLTEwLjY3LTMyLTMyLTMySDQ4MGMtMjEuMzMgMC0zMiAxMC42Ny0zMiAzMnMxMC42NyAzMiAzMiAzMm0wIDE5MmgxOTJjMjEuMzMgMCAzMi0xMC42NyAzMi0zMnMtMTAuNjctMzItMzItMzJINDgwYy0yMS4zMyAwLTMyIDEwLjY3LTMyIDMyczEwLjY3IDMyIDMyIDMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbWVtby52dWVcbnZhciBtZW1vX2RlZmF1bHQgPSBtZW1vX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tZW51LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE2MyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTYzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE2MywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNjMgfSBmcm9tIFwidnVlXCI7XG52YXIgbWVudV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNjMoe1xuICBuYW1lOiBcIk1lbnVcIixcbiAgX19uYW1lOiBcIm1lbnVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE2MygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTYzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNjMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTYwIDQ0OGEzMiAzMiAwIDAgMS0zMi0zMlYxNjAuMDY0YTMyIDMyIDAgMCAxIDMyLTMyaDI1NmEzMiAzMiAwIDAgMSAzMiAzMlY0MTZhMzIgMzIgMCAwIDEtMzIgMzJ6bTQ0OCAwYTMyIDMyIDAgMCAxLTMyLTMyVjE2MC4wNjRhMzIgMzIgMCAwIDEgMzItMzJoMjU1LjkzNmEzMiAzMiAwIDAgMSAzMiAzMlY0MTZhMzIgMzIgMCAwIDEtMzIgMzJ6TTE2MCA4OTZhMzIgMzIgMCAwIDEtMzItMzJWNjA4YTMyIDMyIDAgMCAxIDMyLTMyaDI1NmEzMiAzMiAwIDAgMSAzMiAzMnYyNTZhMzIgMzIgMCAwIDEtMzIgMzJ6bTQ0OCAwYTMyIDMyIDAgMCAxLTMyLTMyVjYwOGEzMiAzMiAwIDAgMSAzMi0zMmgyNTUuOTM2YTMyIDMyIDAgMCAxIDMyIDMydjI1NmEzMiAzMiAwIDAgMS0zMiAzMnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9tZW51LnZ1ZVxudmFyIG1lbnVfZGVmYXVsdCA9IG1lbnVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL21lc3NhZ2UtYm94LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE2NCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTY0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE2NCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNjQgfSBmcm9tIFwidnVlXCI7XG52YXIgbWVzc2FnZV9ib3hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTY0KHtcbiAgbmFtZTogXCJNZXNzYWdlQm94XCIsXG4gIF9fbmFtZTogXCJtZXNzYWdlLWJveFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTY0KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNjQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2NChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yODggMzg0aDQ0OHY2NEgyODh6bTk2LTEyOGgyNTZ2NjRIMzg0ek0xMzEuNDU2IDUxMkgzODR2MTI4aDI1NlY1MTJoMjUyLjU0NEw3MjEuODU2IDE5MkgzMDIuMTQ0ek04OTYgNTc2SDcwNHYxMjhIMzIwVjU3NkgxMjh2MjU2aDc2OHpNMjc1Ljc3NiAxMjhoNDcyLjQ0OGEzMiAzMiAwIDAgMSAyOC42MDggMTcuNjY0bDE3OS44NCAzNTkuNTUyQTMyIDMyIDAgMCAxIDk2MCA1MTkuNTUyVjg2NGEzMiAzMiAwIDAgMS0zMiAzMkg5NmEzMiAzMiAwIDAgMS0zMi0zMlY1MTkuNTUyYTMyIDMyIDAgMCAxIDMuMzkyLTE0LjMzNmwxNzkuNzc2LTM1OS41NTJBMzIgMzIgMCAwIDEgMjc1Ljc3NiAxMjh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbWVzc2FnZS1ib3gudnVlXG52YXIgbWVzc2FnZV9ib3hfZGVmYXVsdCA9IG1lc3NhZ2VfYm94X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tZXNzYWdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE2NSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTY1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE2NSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNjUgfSBmcm9tIFwidnVlXCI7XG52YXIgbWVzc2FnZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNjUoe1xuICBuYW1lOiBcIk1lc3NhZ2VcIixcbiAgX19uYW1lOiBcIm1lc3NhZ2VcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE2NSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTY1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNjUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTI4IDIyNHY1MTJhNjQgNjQgMCAwIDAgNjQgNjRoNjQwYTY0IDY0IDAgMCAwIDY0LTY0VjIyNHptMC02NGg3NjhhNjQgNjQgMCAwIDEgNjQgNjR2NTEyYTEyOCAxMjggMCAwIDEtMTI4IDEyOEgxOTJBMTI4IDEyOCAwIDAgMSA2NCA3MzZWMjI0YTY0IDY0IDAgMCAxIDY0LTY0XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2NShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk05MDQgMjI0IDY1Ni41MTIgNTA2Ljg4YTE5MiAxOTIgMCAwIDEtMjg5LjAyNCAwTDEyMCAyMjR6bS02OTguOTQ0IDAgMjEwLjU2IDI0MC43MDRhMTI4IDEyOCAwIDAgMCAxOTIuNzA0IDBMODE4Ljk0NCAyMjRIMjA1LjA1NlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL21lc3NhZ2UudnVlXG52YXIgbWVzc2FnZV9kZWZhdWx0ID0gbWVzc2FnZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbWljLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE2NiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTY2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE2NiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNjYgfSBmcm9tIFwidnVlXCI7XG52YXIgbWljX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE2Nih7XG4gIG5hbWU6IFwiTWljXCIsXG4gIF9fbmFtZTogXCJtaWNcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE2NigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTY2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNjYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDgwIDcwNGgxNjBhNjQgNjQgMCAwIDAgNjQtNjR2LTMyaC05NmEzMiAzMiAwIDAgMSAwLTY0aDk2di05NmgtOTZhMzIgMzIgMCAwIDEgMC02NGg5NnYtOTZoLTk2YTMyIDMyIDAgMCAxIDAtNjRoOTZ2LTMyYTY0IDY0IDAgMCAwLTY0LTY0SDM4NGE2NCA2NCAwIDAgMC02NCA2NHYzMmg5NmEzMiAzMiAwIDAgMSAwIDY0aC05NnY5Nmg5NmEzMiAzMiAwIDAgMSAwIDY0aC05NnY5Nmg5NmEzMiAzMiAwIDAgMSAwIDY0aC05NnYzMmE2NCA2NCAwIDAgMCA2NCA2NHptNjQgNjR2MTI4aDE5MmEzMiAzMiAwIDEgMSAwIDY0SDI4OGEzMiAzMiAwIDEgMSAwLTY0aDE5MlY3NjhoLTk2YTEyOCAxMjggMCAwIDEtMTI4LTEyOFYxOTJBMTI4IDEyOCAwIDAgMSAzODQgNjRoMjU2YTEyOCAxMjggMCAwIDEgMTI4IDEyOHY0NDhhMTI4IDEyOCAwIDAgMS0xMjggMTI4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL21pYy52dWVcbnZhciBtaWNfZGVmYXVsdCA9IG1pY192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbWljcm9waG9uZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNjcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2Nywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNjcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTY3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1pY3JvcGhvbmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTY3KHtcbiAgbmFtZTogXCJNaWNyb3Bob25lXCIsXG4gIF9fbmFtZTogXCJtaWNyb3Bob25lXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNjcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE2NyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTY3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiAxMjhhMTI4IDEyOCAwIDAgMC0xMjggMTI4djI1NmExMjggMTI4IDAgMSAwIDI1NiAwVjI1NmExMjggMTI4IDAgMCAwLTEyOC0xMjhtMC02NGExOTIgMTkyIDAgMCAxIDE5MiAxOTJ2MjU2YTE5MiAxOTIgMCAxIDEtMzg0IDBWMjU2QTE5MiAxOTIgMCAwIDEgNTEyIDY0bS0zMiA4MzJ2LTY0YTI4OCAyODggMCAwIDEtMjg4LTI4OHYtMzJhMzIgMzIgMCAwIDEgNjQgMHYzMmEyMjQgMjI0IDAgMCAwIDIyNCAyMjRoNjRhMjI0IDIyNCAwIDAgMCAyMjQtMjI0di0zMmEzMiAzMiAwIDEgMSA2NCAwdjMyYTI4OCAyODggMCAwIDEtMjg4IDI4OHY2NGg2NGEzMiAzMiAwIDEgMSAwIDY0SDQxNmEzMiAzMiAwIDEgMSAwLTY0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL21pY3JvcGhvbmUudnVlXG52YXIgbWljcm9waG9uZV9kZWZhdWx0ID0gbWljcm9waG9uZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbWlsay10ZWEudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTY4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNjgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTY4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE2OCB9IGZyb20gXCJ2dWVcIjtcbnZhciBtaWxrX3RlYV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNjgoe1xuICBuYW1lOiBcIk1pbGtUZWFcIixcbiAgX19uYW1lOiBcIm1pbGstdGVhXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNjgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE2OChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTY4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQxNiAxMjhWOTZhOTYgOTYgMCAwIDEgOTYtOTZoMTI4YTMyIDMyIDAgMSAxIDAgNjRINTEyYTMyIDMyIDAgMCAwLTMyIDMydjMyaDMyMGE5NiA5NiAwIDAgMSAxMS43MTIgMTkxLjI5NmwtMzkuNjggNTgxLjA1NkE2NCA2NCAwIDAgMSA3MDguMjI0IDk2MEgzMTUuNzc2YTY0IDY0IDAgMCAxLTYzLjg3Mi01OS42NDhsLTM5LjYxNi01ODEuMDU2QTk2IDk2IDAgMCAxIDIyNCAxMjh6TTI3Ni40OCAzMjBsMzkuMjk2IDU3NmgzOTIuNDQ4bDQuOC03MC43ODRhMjI0LjA2NCAyMjQuMDY0IDAgMCAxIDMwLjAxNi00MzkuODA4TDc0Ny41MiAzMjB6TTIyNCAyNTZoNTc2YTMyIDMyIDAgMSAwIDAtNjRIMjI0YTMyIDMyIDAgMCAwIDAgNjRtNDkzLjQ0IDUwMy44NzIgMjEuMTItMzA5LjEyYTE2MCAxNjAgMCAwIDAtMjEuMTIgMzA5LjEyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbWlsay10ZWEudnVlXG52YXIgbWlsa190ZWFfZGVmYXVsdCA9IG1pbGtfdGVhX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9taW51cy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNjkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2OSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNjksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTY5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1pbnVzX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE2OSh7XG4gIG5hbWU6IFwiTWludXNcIixcbiAgX19uYW1lOiBcIm1pbnVzXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNjkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE2OShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTY5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTEyOCA1NDRoNzY4YTMyIDMyIDAgMSAwIDAtNjRIMTI4YTMyIDMyIDAgMCAwIDAgNjRcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9taW51cy52dWVcbnZhciBtaW51c19kZWZhdWx0ID0gbWludXNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL21vbmV5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE3MCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTcwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE3MCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNzAgfSBmcm9tIFwidnVlXCI7XG52YXIgbW9uZXlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTcwKHtcbiAgbmFtZTogXCJNb25leVwiLFxuICBfX25hbWU6IFwibW9uZXlcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE3MCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTcwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNzAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjU2IDY0MHYxOTJoNjQwVjM4NEg3Njh2LTY0aDE1MC45NzZjMTQuMjcyIDAgMTkuNDU2IDEuNDcyIDI0LjY0IDQuMjg4YTI5LjA1NiAyOS4wNTYgMCAwIDEgMTIuMTYgMTIuMDk2YzIuNzUyIDUuMTg0IDQuMjI0IDEwLjM2OCA0LjIyNCAyNC42NHY0OTMuOTUyYzAgMTQuMjcyLTEuNDcyIDE5LjQ1Ni00LjI4OCAyNC42NGEyOS4wNTYgMjkuMDU2IDAgMCAxLTEyLjA5NiAxMi4xNmMtNS4xODQgMi43NTItMTAuMzY4IDQuMjI0LTI0LjY0IDQuMjI0SDIzMy4wMjRjLTE0LjI3MiAwLTE5LjQ1Ni0xLjQ3Mi0yNC42NC00LjI4OGEyOS4wNTYgMjkuMDU2IDAgMCAxLTEyLjE2LTEyLjA5NmMtMi42ODgtNS4xODQtNC4yMjQtMTAuMzY4LTQuMjI0LTI0LjU3NlY2NDB6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03NjggMTkySDEyOHY0NDhoNjQwem02NC0yMi45NzZ2NDkzLjk1MmMwIDE0LjI3Mi0xLjQ3MiAxOS40NTYtNC4yODggMjQuNjRhMjkuMDU2IDI5LjA1NiAwIDAgMS0xMi4wOTYgMTIuMTZjLTUuMTg0IDIuNzUyLTEwLjM2OCA0LjIyNC0yNC42NCA0LjIyNEgxMDUuMDI0Yy0xNC4yNzIgMC0xOS40NTYtMS40NzItMjQuNjQtNC4yODhhMjkuMDU2IDI5LjA1NiAwIDAgMS0xMi4xNi0xMi4wOTZDNjUuNTM2IDY4Mi40MzIgNjQgNjc3LjI0OCA2NCA2NjMuMDRWMTY5LjAyNGMwLTE0LjI3MiAxLjQ3Mi0xOS40NTYgNC4yODgtMjQuNjRhMjkuMDU2IDI5LjA1NiAwIDAgMSAxMi4wOTYtMTIuMTZDODUuNTY4IDEyOS41MzYgOTAuNzUyIDEyOCAxMDQuOTYgMTI4aDY4NS45NTJjMTQuMjcyIDAgMTkuNDU2IDEuNDcyIDI0LjY0IDQuMjg4YTI5LjA1NiAyOS4wNTYgMCAwIDEgMTIuMTYgMTIuMDk2YzIuNzUyIDUuMTg0IDQuMjI0IDEwLjM2OCA0LjIyNCAyNC42NHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTcwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ0OCA1NzZhMTYwIDE2MCAwIDEgMSAwLTMyMCAxNjAgMTYwIDAgMCAxIDAgMzIwbTAtNjRhOTYgOTYgMCAxIDAgMC0xOTIgOTYgOTYgMCAwIDAgMCAxOTJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9tb25leS52dWVcbnZhciBtb25leV9kZWZhdWx0ID0gbW9uZXlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL21vbml0b3IudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTcxIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNzEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTcxLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE3MSB9IGZyb20gXCJ2dWVcIjtcbnZhciBtb25pdG9yX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE3MSh7XG4gIG5hbWU6IFwiTW9uaXRvclwiLFxuICBfX25hbWU6IFwibW9uaXRvclwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTcxKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNzEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3MShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01NDQgNzY4djEyOGgxOTJhMzIgMzIgMCAxIDEgMCA2NEgyODhhMzIgMzIgMCAxIDEgMC02NGgxOTJWNzY4SDE5MkExMjggMTI4IDAgMCAxIDY0IDY0MFYyNTZhMTI4IDEyOCAwIDAgMSAxMjgtMTI4aDY0MGExMjggMTI4IDAgMCAxIDEyOCAxMjh2Mzg0YTEyOCAxMjggMCAwIDEtMTI4IDEyOHpNMTkyIDE5MmE2NCA2NCAwIDAgMC02NCA2NHYzODRhNjQgNjQgMCAwIDAgNjQgNjRoNjQwYTY0IDY0IDAgMCAwIDY0LTY0VjI1NmE2NCA2NCAwIDAgMC02NC02NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9tb25pdG9yLnZ1ZVxudmFyIG1vbml0b3JfZGVmYXVsdCA9IG1vbml0b3JfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL21vb24tbmlnaHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTcyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNzIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTcyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE3MiB9IGZyb20gXCJ2dWVcIjtcbnZhciBtb29uX25pZ2h0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE3Mih7XG4gIG5hbWU6IFwiTW9vbk5pZ2h0XCIsXG4gIF9fbmFtZTogXCJtb29uLW5pZ2h0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNzIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE3MihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTcyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM4NCA1MTJhNDQ4IDQ0OCAwIDAgMSAyMTUuODcyLTM4My4yOTZBMzg0IDM4NCAwIDAgMCAyMTMuNzYgNjQwaDE4OC44QTQ0OC4yNTYgNDQ4LjI1NiAwIDAgMSAzODQgNTEyTTE3MS4xMzYgNzA0YTQ0OCA0NDggMCAwIDEgNjM2Ljk5Mi01NzUuMjk2QTM4NCAzODQgMCAwIDAgNDk5LjMyOCA3MDRoLTMyOC4zMnpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTcyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTMyIDY0MGg5NjBxMzIgMCAzMiAzMnQtMzIgMzJIMzJxLTMyIDAtMzItMzJ0MzItMzJtMTI4IDEyOGgzODRhMzIgMzIgMCAxIDEgMCA2NEgxNjBhMzIgMzIgMCAxIDEgMC02NG0xNjAgMTI3LjY4IDIyNCAuMjU2YTMyIDMyIDAgMCAxIDMyIDMyVjkyOGEzMiAzMiAwIDAgMS0zMiAzMmwtMjI0LS4zODRhMzIgMzIgMCAwIDEtMzItMzJ2LS4wNjRhMzIgMzIgMCAwIDEgMzItMzJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbW9vbi1uaWdodC52dWVcbnZhciBtb29uX25pZ2h0X2RlZmF1bHQgPSBtb29uX25pZ2h0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tb29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE3MyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTczLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE3MywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNzMgfSBmcm9tIFwidnVlXCI7XG52YXIgbW9vbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNzMoe1xuICBuYW1lOiBcIk1vb25cIixcbiAgX19uYW1lOiBcIm1vb25cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE3MygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTczKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNzMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjQwLjQ0OCAyNDAuNDQ4YTM4NCAzODQgMCAxIDAgNTU5LjQyNCA1MjUuNjk2IDQ0OCA0NDggMCAwIDEtNTQyLjAxNi01NDIuMDggMzkwLjU5MiAzOTAuNTkyIDAgMCAwLTE3LjQwOCAxNi4zODR6bTE4MS4wNTYgMzYyLjA0OGEzODQgMzg0IDAgMCAwIDUyNS42MzIgMTYuMzg0QTQ0OCA0NDggMCAxIDEgNDA1LjA1NiA3Ni44YTM4NCAzODQgMCAwIDAgMTYuNDQ4IDUyNS42OTZcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9tb29uLnZ1ZVxudmFyIG1vb25fZGVmYXVsdCA9IG1vb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL21vcmUtZmlsbGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE3NCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTc0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE3NCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNzQgfSBmcm9tIFwidnVlXCI7XG52YXIgbW9yZV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTc0KHtcbiAgbmFtZTogXCJNb3JlRmlsbGVkXCIsXG4gIF9fbmFtZTogXCJtb3JlLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTc0KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNzQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3NChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xNzYgNDE2YTExMiAxMTIgMCAxIDEgMCAyMjQgMTEyIDExMiAwIDAgMSAwLTIyNG0zMzYgMGExMTIgMTEyIDAgMSAxIDAgMjI0IDExMiAxMTIgMCAwIDEgMC0yMjRtMzM2IDBhMTEyIDExMiAwIDEgMSAwIDIyNCAxMTIgMTEyIDAgMCAxIDAtMjI0XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbW9yZS1maWxsZWQudnVlXG52YXIgbW9yZV9maWxsZWRfZGVmYXVsdCA9IG1vcmVfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tb3JlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE3NSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTc1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE3NSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNzUgfSBmcm9tIFwidnVlXCI7XG52YXIgbW9yZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNzUoe1xuICBuYW1lOiBcIk1vcmVcIixcbiAgX19uYW1lOiBcIm1vcmVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE3NSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTc1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNzUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTc2IDQxNmExMTIgMTEyIDAgMSAwIDAgMjI0IDExMiAxMTIgMCAwIDAgMC0yMjRtMCA2NGE0OCA0OCAwIDEgMSAwIDk2IDQ4IDQ4IDAgMCAxIDAtOTZtMzM2LTY0YTExMiAxMTIgMCAxIDEgMCAyMjQgMTEyIDExMiAwIDAgMSAwLTIyNG0wIDY0YTQ4IDQ4IDAgMSAwIDAgOTYgNDggNDggMCAwIDAgMC05Nm0zMzYtNjRhMTEyIDExMiAwIDEgMSAwIDIyNCAxMTIgMTEyIDAgMCAxIDAtMjI0bTAgNjRhNDggNDggMCAxIDAgMCA5NiA0OCA0OCAwIDAgMCAwLTk2XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbW9yZS52dWVcbnZhciBtb3JlX2RlZmF1bHQgPSBtb3JlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tb3N0bHktY2xvdWR5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE3NiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTc2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE3NiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNzYgfSBmcm9tIFwidnVlXCI7XG52YXIgbW9zdGx5X2Nsb3VkeV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNzYoe1xuICBuYW1lOiBcIk1vc3RseUNsb3VkeVwiLFxuICBfX25hbWU6IFwibW9zdGx5LWNsb3VkeVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTc2KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNzYoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03MzcuMjE2IDM1Ny45NTIgNzA0IDM0OS44MjRsLTExLjc3Ni0zMmExOTIuMDY0IDE5Mi4wNjQgMCAwIDAtMzY3LjQyNCAyMy4wNGwtOC45NiAzOS4wNC0zOS4wNCA4Ljk2QTE5Mi4wNjQgMTkyLjA2NCAwIDAgMCAzMjAgNzY4aDM2OGEyMDcuODA4IDIwNy44MDggMCAwIDAgMjA3LjgwOC0yMDggMjA4LjMyIDIwOC4zMiAwIDAgMC0xNTguNTkyLTIwMi4wNDhtMTUuMTY4LTYyLjIwOEEyNzIuMzIgMjcyLjMyIDAgMCAxIDk1OS43NDQgNTYwYTI3MS44MDggMjcxLjgwOCAwIDAgMS0yNzEuNTUyIDI3MkgzMjBhMjU2IDI1NiAwIDAgMS01Ny41MzYtNTA1LjUzNiAyNTYuMTI4IDI1Ni4xMjggMCAwIDEgNDg5LjkyLTMwLjcyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbW9zdGx5LWNsb3VkeS52dWVcbnZhciBtb3N0bHlfY2xvdWR5X2RlZmF1bHQgPSBtb3N0bHlfY2xvdWR5X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tb3VzZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNzcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3Nywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNzcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTc3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1vdXNlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE3Nyh7XG4gIG5hbWU6IFwiTW91c2VcIixcbiAgX19uYW1lOiBcIm1vdXNlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNzcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE3NyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTc3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQzOC4xNDQgMjU2Yy02OC4zNTIgMC05Mi43MzYgNC42NzItMTE3Ljc2IDE4LjExMi0yMC4wOTYgMTAuNzUyLTM1LjUyIDI2LjE3Ni00Ni4yNzIgNDYuMjcyQzI2MC42NzIgMzQ1LjQwOCAyNTYgMzY5Ljc5MiAyNTYgNDM4LjE0NHYyNzUuNzEyYzAgNjguMzUyIDQuNjcyIDkyLjczNiAxOC4xMTIgMTE3Ljc2IDEwLjc1MiAyMC4wOTYgMjYuMTc2IDM1LjUyIDQ2LjI3MiA0Ni4yNzJDMzQ1LjQwOCA4OTEuMzI4IDM2OS43OTIgODk2IDQzOC4xNDQgODk2aDE0Ny43MTJjNjguMzUyIDAgOTIuNzM2LTQuNjcyIDExNy43Ni0xOC4xMTIgMjAuMDk2LTEwLjc1MiAzNS41Mi0yNi4xNzYgNDYuMjcyLTQ2LjI3MkM3NjMuMzI4IDgwNi41OTIgNzY4IDc4Mi4yMDggNzY4IDcxMy44NTZWNDM4LjE0NGMwLTY4LjM1Mi00LjY3Mi05Mi43MzYtMTguMTEyLTExNy43NmExMTAuNDY0IDExMC40NjQgMCAwIDAtNDYuMjcyLTQ2LjI3MkM2NzguNTkyIDI2MC42NzIgNjU0LjIwOCAyNTYgNTg1Ljg1NiAyNTZ6bTAtNjRoMTQ3LjcxMmM4NS41NjggMCAxMTYuNjA4IDguOTYgMTQ3LjkwNCAyNS42IDMxLjM2IDE2Ljc2OCA1NS44NzIgNDEuMzQ0IDcyLjU3NiA3Mi42NEM4MjMuMTA0IDMyMS41MzYgODMyIDM1Mi41NzYgODMyIDQzOC4wOHYyNzUuODRjMCA4NS41MDQtOC45NiAxMTYuNTQ0LTI1LjYgMTQ3Ljg0YTE3NC40NjQgMTc0LjQ2NCAwIDAgMS03Mi42NCA3Mi41NzZDNzAyLjQ2NCA5NTEuMTA0IDY3MS40MjQgOTYwIDU4NS45MiA5NjBINDM4LjA4Yy04NS41MDQgMC0xMTYuNTQ0LTguOTYtMTQ3Ljg0LTI1LjZhMTc0LjQ2NCAxNzQuNDY0IDAgMCAxLTcyLjY0LTcyLjcwNGMtMTYuNzY4LTMxLjI5Ni0yNS42NjQtNjIuMzM2LTI1LjY2NC0xNDcuODR2LTI3NS44NGMwLTg1LjUwNCA4Ljk2LTExNi41NDQgMjUuNi0xNDcuODRhMTc0LjQ2NCAxNzQuNDY0IDAgMCAxIDcyLjc2OC03Mi41NzZjMzEuMjMyLTE2LjcwNCA2Mi4yNzItMjUuNiAxNDcuNzc2LTI1LjZ6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgMzIwcTMyIDAgMzIgMzJ2MTI4cTAgMzItMzIgMzJ0LTMyLTMyVjM1MnEwLTMyIDMyLTMybTMyLTk2YTMyIDMyIDAgMCAxLTY0IDB2LTY0YTMyIDMyIDAgMCAwLTMyLTMyaC05NmEzMiAzMiAwIDAgMSAwLTY0aDk2YTk2IDk2IDAgMCAxIDk2IDk2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL21vdXNlLnZ1ZVxudmFyIG1vdXNlX2RlZmF1bHQgPSBtb3VzZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbXVnLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE3OCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTc4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE3OCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNzggfSBmcm9tIFwidnVlXCI7XG52YXIgbXVnX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE3OCh7XG4gIG5hbWU6IFwiTXVnXCIsXG4gIF9fbmFtZTogXCJtdWdcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE3OCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTc4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNzgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzM2IDgwMFYxNjBIMTYwdjY0MGE2NCA2NCAwIDAgMCA2NCA2NGg0NDhhNjQgNjQgMCAwIDAgNjQtNjRtNjQtNTQ0aDYzLjU1MmE5NiA5NiAwIDAgMSA5NiA5NnYyMjRhOTYgOTYgMCAwIDEtOTYgOTZIODAwdjEyOGExMjggMTI4IDAgMCAxLTEyOCAxMjhIMjI0QTEyOCAxMjggMCAwIDEgOTYgODAwVjEyOGEzMiAzMiAwIDAgMSAzMi0zMmg2NDBhMzIgMzIgMCAwIDEgMzIgMzJ6bTAgNjR2Mjg4aDYzLjU1MmEzMiAzMiAwIDAgMCAzMi0zMlYzNTJhMzIgMzIgMCAwIDAtMzItMzJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbXVnLnZ1ZVxudmFyIG11Z19kZWZhdWx0ID0gbXVnX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tdXRlLW5vdGlmaWNhdGlvbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNzkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3OSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNzksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTc5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG11dGVfbm90aWZpY2F0aW9uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE3OSh7XG4gIG5hbWU6IFwiTXV0ZU5vdGlmaWNhdGlvblwiLFxuICBfX25hbWU6IFwibXV0ZS1ub3RpZmljYXRpb25cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE3OSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTc5KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNzkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtMjQxLjIxNiA4MzIgNjMuNjE2LTY0SDc2OFY0NDhjMC00Mi4zNjgtMTAuMjQtODIuMzA0LTI4LjQ4LTExNy41MDRsNDYuOTEyLTQ3LjIzMkM4MTUuMzYgMzMxLjM5MiA4MzIgMzg3Ljg0IDgzMiA0NDh2MzIwaDk2YTMyIDMyIDAgMSAxIDAgNjR6bS05MC4yNCAwSDk2YTMyIDMyIDAgMSAxIDAtNjRoOTZWNDQ4YTMyMC4xMjggMzIwLjEyOCAwIDAgMSAyNTYtMzEzLjZWMTI4YTY0IDY0IDAgMSAxIDEyOCAwdjYuNGEzMTkuNTUyIDMxOS41NTIgMCAwIDEgMTcxLjY0OCA5Ny4wODhsLTQ1LjE4NCA0NS40NEEyNTYgMjU2IDAgMCAwIDI1NiA0NDh2Mjc4LjMzNkwxNTEuMDQgODMyek00NDggODk2aDEyOGE2NCA2NCAwIDAgMS0xMjggMFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNzkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTUwLjcyIDg1OS4wNzJhMzIgMzIgMCAwIDEtNDUuNDQtNDUuMDU2bDcwNC03MDguNTQ0YTMyIDMyIDAgMCAxIDQ1LjQ0IDQ1LjA1NmwtNzA0IDcwOC41NDR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbXV0ZS1ub3RpZmljYXRpb24udnVlXG52YXIgbXV0ZV9ub3RpZmljYXRpb25fZGVmYXVsdCA9IG11dGVfbm90aWZpY2F0aW9uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tdXRlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE4MCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTgwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE4MCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxODAgfSBmcm9tIFwidnVlXCI7XG52YXIgbXV0ZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxODAoe1xuICBuYW1lOiBcIk11dGVcIixcbiAgX19uYW1lOiBcIm11dGVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE4MCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTgwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxODAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtNDEyLjE2IDU5Mi4xMjgtNDUuNDQgNDUuNDRBMTkxLjIzMiAxOTEuMjMyIDAgMCAxIDMyMCA1MTJWMjU2YTE5MiAxOTIgMCAxIDEgMzg0IDB2NDQuMzUybC02NCA2NFYyNTZhMTI4IDEyOCAwIDEgMC0yNTYgMHYyNTZjMCAzMC4zMzYgMTAuNTYgNTguMjQgMjguMTYgODAuMTI4bTUxLjk2OCAzOC41OTJBMTI4IDEyOCAwIDAgMCA2NDAgNTEydi01Ny4xNTJsNjQtNjRWNTEyYTE5MiAxOTIgMCAwIDEtMjg3LjY4IDE2Ni41Mjh6TTMxNC44OCA3NzkuOTY4bDQ2LjE0NC00Ni4wOEEyMjIuOTc2IDIyMi45NzYgMCAwIDAgNDgwIDc2OGg2NGEyMjQgMjI0IDAgMCAwIDIyNC0yMjR2LTMyYTMyIDMyIDAgMSAxIDY0IDB2MzJhMjg4IDI4OCAwIDAgMS0yODggMjg4djY0aDY0YTMyIDMyIDAgMSAxIDAgNjRINDE2YTMyIDMyIDAgMSAxIDAtNjRoNjR2LTY0Yy02MS40NCAwLTExOC40LTE5LjItMTY1LjEyLTUyLjAzMk0yNjYuNzUyIDczNy42QTI4Ni45NzYgMjg2Ljk3NiAwIDAgMSAxOTIgNTQ0di0zMmEzMiAzMiAwIDAgMSA2NCAwdjMyYzAgNTYuODMyIDIxLjE4NCAxMDguOCA1Ni4wNjQgMTQ4LjI4OHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTgwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE1MC43MiA4NTkuMDcyYTMyIDMyIDAgMCAxLTQ1LjQ0LTQ1LjA1Nmw3MDQtNzA4LjU0NGEzMiAzMiAwIDAgMSA0NS40NCA0NS4wNTZsLTcwNCA3MDguNTQ0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL211dGUudnVlXG52YXIgbXV0ZV9kZWZhdWx0ID0gbXV0ZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbm8tc21va2luZy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxODEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4MSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxODEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTgxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIG5vX3Ntb2tpbmdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTgxKHtcbiAgbmFtZTogXCJOb1Ntb2tpbmdcIixcbiAgX19uYW1lOiBcIm5vLXNtb2tpbmdcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE4MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTgxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxODEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDQwLjI1NiA1NzZIMjU2djEyOGg1Ni4yNTZsLTY0IDY0SDIyNGEzMiAzMiAwIDAgMS0zMi0zMlY1NDRhMzIgMzIgMCAwIDEgMzItMzJoMjgwLjI1NnptMTQzLjQ4OCAxMjhINzA0VjU4My43NDRMNzc1Ljc0NCA1MTJIOTI4YTMyIDMyIDAgMCAxIDMyIDMydjE5MmEzMiAzMiAwIDAgMS0zMiAzMkg1MTkuNzQ0ek03NjggNTc2djEyOGgxMjhWNTc2em0tMjkuNjk2LTIwNy41NTIgNDUuMjQ4IDQ1LjI0OC00OTcuODU2IDQ5Ny44NTYtNDUuMjQ4LTQ1LjI0OHpNMjU2IDY0aDY0djMyMGgtNjR6TTEyOCAxOTJoNjR2MTkyaC02NHpNNjQgNTEyaDY0djI1Nkg2NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9uby1zbW9raW5nLnZ1ZVxudmFyIG5vX3Ntb2tpbmdfZGVmYXVsdCA9IG5vX3Ntb2tpbmdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL25vdGVib29rLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE4MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTgyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE4MiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxODIgfSBmcm9tIFwidnVlXCI7XG52YXIgbm90ZWJvb2tfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTgyKHtcbiAgbmFtZTogXCJOb3RlYm9va1wiLFxuICBfX25hbWU6IFwibm90ZWJvb2tcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE4MigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTgyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxODIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTkyIDEyOHY3NjhoNjQwVjEyOHptLTMyLTY0aDcwNGEzMiAzMiAwIDAgMSAzMiAzMnY4MzJhMzIgMzIgMCAwIDEtMzIgMzJIMTYwYTMyIDMyIDAgMCAxLTMyLTMyVjk2YTMyIDMyIDAgMCAxIDMyLTMyXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02NzIgMTI4aDY0djc2OGgtNjR6TTk2IDE5MmgxMjhxMzIgMCAzMiAzMnQtMzIgMzJIOTZxLTMyIDAtMzItMzJ0MzItMzJtMCAxOTJoMTI4cTMyIDAgMzIgMzJ0LTMyIDMySDk2cS0zMiAwLTMyLTMydDMyLTMybTAgMTkyaDEyOHEzMiAwIDMyIDMydC0zMiAzMkg5NnEtMzIgMC0zMi0zMnQzMi0zMm0wIDE5MmgxMjhxMzIgMCAzMiAzMnQtMzIgMzJIOTZxLTMyIDAtMzItMzJ0MzItMzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9ub3RlYm9vay52dWVcbnZhciBub3RlYm9va19kZWZhdWx0ID0gbm90ZWJvb2tfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL25vdGlmaWNhdGlvbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxODMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4Mywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxODMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTgzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIG5vdGlmaWNhdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxODMoe1xuICBuYW1lOiBcIk5vdGlmaWNhdGlvblwiLFxuICBfX25hbWU6IFwibm90aWZpY2F0aW9uXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxODMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE4MyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTgzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiAxMjh2NjRIMjU2YTY0IDY0IDAgMCAwLTY0IDY0djUxMmE2NCA2NCAwIDAgMCA2NCA2NGg1MTJhNjQgNjQgMCAwIDAgNjQtNjRWNTEyaDY0djI1NmExMjggMTI4IDAgMCAxLTEyOCAxMjhIMjU2YTEyOCAxMjggMCAwIDEtMTI4LTEyOFYyNTZhMTI4IDEyOCAwIDAgMSAxMjgtMTI4elwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxODMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzY4IDM4NGExMjggMTI4IDAgMSAwIDAtMjU2IDEyOCAxMjggMCAwIDAgMCAyNTZtMCA2NGExOTIgMTkyIDAgMSAxIDAtMzg0IDE5MiAxOTIgMCAwIDEgMCAzODRcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9ub3RpZmljYXRpb24udnVlXG52YXIgbm90aWZpY2F0aW9uX2RlZmF1bHQgPSBub3RpZmljYXRpb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL29kb21ldGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE4NCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTg0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE4NCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxODQgfSBmcm9tIFwidnVlXCI7XG52YXIgb2RvbWV0ZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTg0KHtcbiAgbmFtZTogXCJPZG9tZXRlclwiLFxuICBfX25hbWU6IFwib2RvbWV0ZXJcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE4NCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTg0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxODQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDg5NmEzODQgMzg0IDAgMSAwIDAtNzY4IDM4NCAzODQgMCAwIDAgMCA3NjhtMCA2NGE0NDggNDQ4IDAgMSAxIDAtODk2IDQ0OCA0NDggMCAwIDEgMCA4OTZcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTg0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE5MiA1MTJhMzIwIDMyMCAwIDEgMSA2NDAgMCAzMiAzMiAwIDEgMS02NCAwIDI1NiAyNTYgMCAxIDAtNTEyIDAgMzIgMzIgMCAwIDEtNjQgMFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxODQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTcwLjQzMiA2MjcuODRBOTYgOTYgMCAxIDEgNTA5LjU2OCA2MDhsNjAuOTkyLTE4Ny43NzZBMzIgMzIgMCAxIDEgNjMxLjQyNCA0NDBsLTYwLjk5MiAxODcuNzc2ek01MDIuMDggNzM0LjQ2NGEzMiAzMiAwIDEgMCAxOS44NC02MC45MjggMzIgMzIgMCAwIDAtMTkuODQgNjAuOTI4XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvb2RvbWV0ZXIudnVlXG52YXIgb2RvbWV0ZXJfZGVmYXVsdCA9IG9kb21ldGVyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9vZmZpY2UtYnVpbGRpbmcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTg1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxODUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTg1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE4NSB9IGZyb20gXCJ2dWVcIjtcbnZhciBvZmZpY2VfYnVpbGRpbmdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTg1KHtcbiAgbmFtZTogXCJPZmZpY2VCdWlsZGluZ1wiLFxuICBfX25hbWU6IFwib2ZmaWNlLWJ1aWxkaW5nXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxODUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE4NShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTg1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE5MiAxMjh2NzA0aDM4NFYxMjh6bS0zMi02NGg0NDhhMzIgMzIgMCAwIDEgMzIgMzJ2NzY4YTMyIDMyIDAgMCAxLTMyIDMySDE2MGEzMiAzMiAwIDAgMS0zMi0zMlY5NmEzMiAzMiAwIDAgMSAzMi0zMlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxODUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjU2IDI1NmgyNTZ2NjRIMjU2em0wIDE5MmgyNTZ2NjRIMjU2em0wIDE5MmgyNTZ2NjRIMjU2em0zODQtMTI4aDEyOHY2NEg2NDB6bTAgMTI4aDEyOHY2NEg2NDB6TTY0IDgzMmg4OTZ2NjRINjR6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4NShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02NDAgMzg0djQ0OGgxOTJWMzg0em0tMzItNjRoMjU2YTMyIDMyIDAgMCAxIDMyIDMydjUxMmEzMiAzMiAwIDAgMS0zMiAzMkg2MDhhMzIgMzIgMCAwIDEtMzItMzJWMzUyYTMyIDMyIDAgMCAxIDMyLTMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvb2ZmaWNlLWJ1aWxkaW5nLnZ1ZVxudmFyIG9mZmljZV9idWlsZGluZ19kZWZhdWx0ID0gb2ZmaWNlX2J1aWxkaW5nX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9vcGVuLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE4NiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTg2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE4NiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxODYgfSBmcm9tIFwidnVlXCI7XG52YXIgb3Blbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxODYoe1xuICBuYW1lOiBcIk9wZW5cIixcbiAgX19uYW1lOiBcIm9wZW5cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE4NigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTg2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxODYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzI5Ljk1NiAyNTcuMTM4YTI1NC44NjIgMjU0Ljg2MiAwIDAgMCAwIDUwOS43MjRoMzY0LjA4OGEyNTQuODYyIDI1NC44NjIgMCAwIDAgMC01MDkuNzI0em0wLTcyLjgxOGgzNjQuMDg4YTMyNy42OCAzMjcuNjggMCAxIDEgMCA2NTUuMzZIMzI5Ljk1NmEzMjcuNjggMzI3LjY4IDAgMSAxIDAtNjU1LjM2elwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxODYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjk0LjA0NCA2MjEuMjI3YTEwOS4yMjcgMTA5LjIyNyAwIDEgMCAwLTIxOC40NTQgMTA5LjIyNyAxMDkuMjI3IDAgMCAwIDAgMjE4LjQ1NG0wIDcyLjgxN2ExODIuMDQ0IDE4Mi4wNDQgMCAxIDEgMC0zNjQuMDg4IDE4Mi4wNDQgMTgyLjA0NCAwIDAgMSAwIDM2NC4wODhcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9vcGVuLnZ1ZVxudmFyIG9wZW5fZGVmYXVsdCA9IG9wZW5fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL29wZXJhdGlvbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxODcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4Nywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxODcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTg3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG9wZXJhdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxODcoe1xuICBuYW1lOiBcIk9wZXJhdGlvblwiLFxuICBfX25hbWU6IFwib3BlcmF0aW9uXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxODcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE4NyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTg3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM4OS40NCA3NjhhOTYuMDY0IDk2LjA2NCAwIDAgMSAxODEuMTIgMEg4OTZ2NjRINTcwLjU2YTk2LjA2NCA5Ni4wNjQgMCAwIDEtMTgxLjEyIDBIMTI4di02NHptMTkyLTI4OGE5Ni4wNjQgOTYuMDY0IDAgMCAxIDE4MS4xMiAwSDg5NnY2NEg3NjIuNTZhOTYuMDY0IDk2LjA2NCAwIDAgMS0xODEuMTIgMEgxMjh2LTY0em0tMzIwLTI4OGE5Ni4wNjQgOTYuMDY0IDAgMCAxIDE4MS4xMiAwSDg5NnY2NEg0NDIuNTZhOTYuMDY0IDk2LjA2NCAwIDAgMS0xODEuMTIgMEgxMjh2LTY0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL29wZXJhdGlvbi52dWVcbnZhciBvcGVyYXRpb25fZGVmYXVsdCA9IG9wZXJhdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvb3Bwb3J0dW5pdHkudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTg4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxODgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTg4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE4OCB9IGZyb20gXCJ2dWVcIjtcbnZhciBvcHBvcnR1bml0eV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxODgoe1xuICBuYW1lOiBcIk9wcG9ydHVuaXR5XCIsXG4gIF9fbmFtZTogXCJvcHBvcnR1bml0eVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTg4KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxODgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4OChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zODQgOTYwdi02NGgxOTIuMDY0djY0em00NDgtNTQ0YTM1MC42NTYgMzUwLjY1NiAwIDAgMS0xMjguMzIgMjcxLjQyNEM2NjUuMzQ0IDcxOS4wNCA2NDAgNzYzLjc3NiA2NDAgODEzLjUwNFY4MzJIMzIwdi0xNC4zMzZjMC00OC0xOS4zOTItOTUuMzYtNTcuMjE2LTEyNC45OTJhMzUxLjU1MiAzNTEuNTUyIDAgMCAxLTEyOC40NDgtMzQ0LjI1NmMyNS4zNDQtMTM2LjQ0OCAxMzMuODg4LTI0OC4xMjggMjY5Ljc2LTI3Ni40OEEzNTIuMzg0IDM1Mi4zODQgMCAwIDEgODMyIDQxNm0tNTQ0IDMyYzAtMTMyLjI4OCA3NS45MDQtMjI0IDE5Mi0yMjR2LTY0Yy0xNTQuNDMyIDAtMjU2IDEyMi43NTItMjU2IDI4OHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9vcHBvcnR1bml0eS52dWVcbnZhciBvcHBvcnR1bml0eV9kZWZhdWx0ID0gb3Bwb3J0dW5pdHlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL29yYW5nZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxODkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4OSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxODksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTg5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG9yYW5nZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxODkoe1xuICBuYW1lOiBcIk9yYW5nZVwiLFxuICBfX25hbWU6IFwib3JhbmdlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxODkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE4OShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTg5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTU0NCA4OTQuNzJhMzgyLjMzNiAzODIuMzM2IDAgMCAwIDIxNS45MzYtODkuNDcyTDU3Ny4wMjQgNjIyLjI3MmMtMTAuMjQgNi4wMTYtMjEuMjQ4IDEwLjY4OC0zMy4wMjQgMTMuNjk2djI1OC42ODh6bTI2MS4yNDgtMTM0Ljc4NEEzODIuMzM2IDM4Mi4zMzYgMCAwIDAgODk0LjY1NiA1NDRINjM1Ljk2OGMtMy4wMDggMTEuNzc2LTcuNjggMjIuODQ4LTEzLjY5NiAzMy4wMjRsMTgyLjk3NiAxODIuOTEyek04OTQuNjU2IDQ4MGEzODIuMzM2IDM4Mi4zMzYgMCAwIDAtODkuNDA4LTIxNS45MzZMNjIyLjI3MiA0NDYuOTc2YzYuMDE2IDEwLjI0IDEwLjY4OCAyMS4yNDggMTMuNjk2IDMzLjAyNGgyNTguNjg4em0tMTM0LjcyLTI2MS4yNDhBMzgyLjMzNiAzODIuMzM2IDAgMCAwIDU0NCAxMjkuMzQ0djI1OC42ODhjMTEuNzc2IDMuMDA4IDIyLjg0OCA3LjY4IDMzLjAyNCAxMy42OTZ6TTQ4MCAxMjkuMzQ0YTM4Mi4zMzYgMzgyLjMzNiAwIDAgMC0yMTUuOTM2IDg5LjQwOGwxODIuOTEyIDE4Mi45NzZjMTAuMjQtNi4wMTYgMjEuMjQ4LTEwLjY4OCAzMy4wMjQtMTMuNjk2em0tMjYxLjI0OCAxMzQuNzJBMzgyLjMzNiAzODIuMzM2IDAgMCAwIDEyOS4zNDQgNDgwaDI1OC42ODhjMy4wMDgtMTEuNzc2IDcuNjgtMjIuODQ4IDEzLjY5Ni0zMy4wMjR6TTEyOS4zNDQgNTQ0YTM4Mi4zMzYgMzgyLjMzNiAwIDAgMCA4OS40MDggMjE1LjkzNmwxODIuOTc2LTE4Mi45MTJBMTI3LjIzMiAxMjcuMjMyIDAgMCAxIDM4OC4wMzIgNTQ0em0xMzQuNzIgMjYxLjI0OEEzODIuMzM2IDM4Mi4zMzYgMCAwIDAgNDgwIDg5NC42NTZWNjM1Ljk2OGExMjcuMjMyIDEyNy4yMzIgMCAwIDEtMzMuMDI0LTEzLjY5NnpNNTEyIDk2MGE0NDggNDQ4IDAgMSAxIDAtODk2IDQ0OCA0NDggMCAwIDEgMCA4OTZtMC0zODRhNjQgNjQgMCAxIDAgMC0xMjggNjQgNjQgMCAwIDAgMCAxMjhcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9vcmFuZ2UudnVlXG52YXIgb3JhbmdlX2RlZmF1bHQgPSBvcmFuZ2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3BhcGVyY2xpcC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxOTAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5MCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxOTAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTkwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHBhcGVyY2xpcF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxOTAoe1xuICBuYW1lOiBcIlBhcGVyY2xpcFwiLFxuICBfX25hbWU6IFwicGFwZXJjbGlwXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxOTAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE5MChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTkwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTYwMi40OTYgMjQwLjQ0OEExOTIgMTkyIDAgMSAxIDg3NC4wNDggNTEybC0zMTYuOCAzMTYuOEEyNTYgMjU2IDAgMCAxIDE5NS4yIDQ2Ni43NTJMNjAyLjQ5NiA1OS40NTZsNDUuMjQ4IDQ1LjI0OEwyNDAuNDQ4IDUxMkExOTIgMTkyIDAgMCAwIDUxMiA3ODMuNTUybDMxNi44LTMxNi44YTEyOCAxMjggMCAxIDAtMTgxLjA1Ni0xODEuMDU2TDM1My42IDU3OS45MDRhMzIgMzIgMCAxIDAgNDUuMjQ4IDQ1LjI0OGwyOTQuMTQ0LTI5NC4xNDQgNDUuMzEyIDQ1LjI0OEw0NDQuMDk2IDY3MC40YTk2IDk2IDAgMSAxLTEzNS43NDQtMTM1Ljc0NGwyOTQuMTQ0LTI5NC4yMDh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcGFwZXJjbGlwLnZ1ZVxudmFyIHBhcGVyY2xpcF9kZWZhdWx0ID0gcGFwZXJjbGlwX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9wYXJ0bHktY2xvdWR5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE5MSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTkxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE5MSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxOTEgfSBmcm9tIFwidnVlXCI7XG52YXIgcGFydGx5X2Nsb3VkeV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxOTEoe1xuICBuYW1lOiBcIlBhcnRseUNsb3VkeVwiLFxuICBfX25hbWU6IFwicGFydGx5LWNsb3VkeVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTkxKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxOTEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5MShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01OTguNCA4OTUuODcySDMyOC4xOTJhMjU2IDI1NiAwIDAgMS0zNC40OTYtNTEwLjUyOEEzNTIgMzUyIDAgMSAxIDU5OC40IDg5NS44NzJtLTI3MS4zNi02NGgyNzIuMjU2YTI4OCAyODggMCAxIDAtMjQ4LjUxMi00MTcuNjY0TDMzNS4wNCA0NDUuNDRsLTM0LjgxNiAzLjU4NGExOTIgMTkyIDAgMCAwIDI2Ljg4IDM4Mi44NDh6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5MShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMzkuODQgNTAxLjg4OGEyNTYgMjU2IDAgMSAxIDQxNy44NTYtMjc3LjEyYy0xNy43MjggMi4xNzYtMzguMjA4IDguNDQ4LTYxLjUwNCAxOC44MTZBMTkyIDE5MiAwIDEgMCAxODkuMTIgNDYwLjQ4YTYwMDMuODQgNjAwMy44NCAwIDAgMC00OS4yOCA0MS40MDh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcGFydGx5LWNsb3VkeS52dWVcbnZhciBwYXJ0bHlfY2xvdWR5X2RlZmF1bHQgPSBwYXJ0bHlfY2xvdWR5X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9wZWFyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE5MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTkyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE5MiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxOTIgfSBmcm9tIFwidnVlXCI7XG52YXIgcGVhcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxOTIoe1xuICBuYW1lOiBcIlBlYXJcIixcbiAgX19uYW1lOiBcInBlYXJcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE5MigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTkyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTQyLjMzNiAyNTguODE2YTQ0My4yNTUgNDQzLjI1NSAwIDAgMC05LjAyNCAyNS4wODggMzIgMzIgMCAxIDEtNjAuOC0yMC4wMzJsMS4wODgtMy4zMjhhMTYyLjY4OCAxNjIuNjg4IDAgMCAwLTEyMi4wNDggMTMxLjM5MmwtMTcuMDg4IDEwMi43Mi0yMC43MzYgMTUuMzZDMjU2LjE5MiA1NTIuNzA0IDIyNCA2MTAuODggMjI0IDY3MmMwIDEyMC41NzYgMTI2LjQgMjI0IDI4OCAyMjRzMjg4LTEwMy40MjQgMjg4LTIyNGMwLTYxLjEyLTMyLjE5Mi0xMTkuMjk2LTg5LjcyOC0xNjEuOTJsLTIwLjczNi0xNS40MjQtMTcuMDg4LTEwMi43MmExNjIuNjg4IDE2Mi42ODggMCAwIDAtMTMwLjExMi0xMzMuMTJ6bS00MC4xMjgtNjYuNTZjNy45MzYtMTUuNTUyIDE2LjU3Ni0zMC4wOCAyNS45Mi00My43NzYgMjMuMjk2LTMzLjkyIDQ5LjQwOC01OS43NzYgNzguNTI4LTc3LjEyYTMyIDMyIDAgMSAxIDMyLjcwNCA1NS4wNGMtMjAuNTQ0IDEyLjIyNC00MC4wNjQgMzEuNTUyLTU4LjQzMiA1OC4zMDRhMzE2LjYwOCAzMTYuNjA4IDAgMCAwLTkuNzkyIDE1LjEwNCAyMjYuNjg4IDIyNi42ODggMCAwIDEgMTY0LjQ4IDE4MS41NjhsMTIuOCA3Ny4yNDhDODE5LjQ1NiA1MTEuMzYgODY0IDU4Ny4zOTIgODY0IDY3MmMwIDE1OS4wNC0xNTcuNTY4IDI4OC0zNTIgMjg4UzE2MCA4MzEuMDQgMTYwIDY3MmMwLTg0LjYwOCA0NC42MDgtMTYwLjY0IDExNS41ODQtMjEzLjM3NmwxMi44LTc3LjI0OGEyMjYuNjI0IDIyNi42MjQgMCAwIDEgMjEzLjc2LTE4OS4xODR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcGVhci52dWVcbnZhciBwZWFyX2RlZmF1bHQgPSBwZWFyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9waG9uZS1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTkzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTkzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE5MyB9IGZyb20gXCJ2dWVcIjtcbnZhciBwaG9uZV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTkzKHtcbiAgbmFtZTogXCJQaG9uZUZpbGxlZFwiLFxuICBfX25hbWU6IFwicGhvbmUtZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxOTMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE5MyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTkzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE5OS4yMzIgMTI1LjU2OCA5MC42MjQgMzc5LjAwOGEzMiAzMiAwIDAgMCA2Ljc4NCAzNS4ybDUxMi4zODQgNTEyLjM4NGEzMiAzMiAwIDAgMCAzNS4yIDYuNzg0bDI1My40NC0xMDguNjA4YTMyIDMyIDAgMCAwIDEwLjA0OC01Mi4wMzJMNzY5LjYgNjMzLjkyYTMyIDMyIDAgMCAwLTM2LjkyOC01Ljk1MmwtMTMwLjE3NiA2NS4wODgtMjcxLjQ4OC0yNzEuNTUyIDY1LjAyNC0xMzAuMTc2YTMyIDMyIDAgMCAwLTUuOTUyLTM2LjkyOEwyNTEuMiAxMTUuNTJhMzIgMzIgMCAwIDAtNTEuOTY4IDEwLjA0OHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9waG9uZS1maWxsZWQudnVlXG52YXIgcGhvbmVfZmlsbGVkX2RlZmF1bHQgPSBwaG9uZV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3Bob25lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE5NCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTk0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE5NCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxOTQgfSBmcm9tIFwidnVlXCI7XG52YXIgcGhvbmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTk0KHtcbiAgbmFtZTogXCJQaG9uZVwiLFxuICBfX25hbWU6IFwicGhvbmVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE5NCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTk0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzkuMzYgNDMyLjI1NiA1OTEuNzQ0IDk0NC42NGEzMiAzMiAwIDAgMCAzNS4yIDYuNzg0bDI1My40NC0xMDguNTQ0YTMyIDMyIDAgMCAwIDkuOTg0LTUyLjAzMmwtMTUzLjg1Ni0xNTMuOTJhMzIgMzIgMCAwIDAtMzYuOTI4LTYuMDE2bC02OS44ODggMzQuOTQ0TDM1OC4wOCAzOTQuMjRsMzUuMDA4LTY5Ljg4OGEzMiAzMiAwIDAgMC01Ljk1Mi0zNi45MjhMMjMzLjE1MiAxMzMuNTY4YTMyIDMyIDAgMCAwLTUyLjAzMiAxMC4wNDhMNzIuNTEyIDM5Ny4wNTZhMzIgMzIgMCAwIDAgNi43ODQgMzUuMnptNjAuNDgtMjkuOTUyIDgxLjUzNi0xOTAuMDhMMzI1LjU2OCAzMTYuNDhsLTI0LjY0IDQ5LjIxNi0yMC42MDggNDEuMjE2IDMyLjU3NiAzMi42NCAyNzEuNTUyIDI3MS41NTIgMzIuNjQgMzIuNjQgNDEuMjE2LTIwLjY3MiA0OS4yOC0yNC41NzYgMTA0LjE5MiAxMDQuMTI4LTE5MC4wOCA4MS40NzJMMTM5Ljg0IDQwMi4zMDR6TTUxMiAzMjB2LTY0YTI1NiAyNTYgMCAwIDEgMjU2IDI1NmgtNjRhMTkyIDE5MiAwIDAgMC0xOTItMTkybTAtMTkyVjY0YTQ0OCA0NDggMCAwIDEgNDQ4IDQ0OGgtNjRhMzg0IDM4NCAwIDAgMC0zODQtMzg0XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcGhvbmUudnVlXG52YXIgcGhvbmVfZGVmYXVsdCA9IHBob25lX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9waWN0dXJlLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxOTUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5NSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxOTUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTk1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHBpY3R1cmVfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE5NSh7XG4gIG5hbWU6IFwiUGljdHVyZUZpbGxlZFwiLFxuICBfX25hbWU6IFwicGljdHVyZS1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE5NSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTk1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNOTYgODk2YTMyIDMyIDAgMCAxLTMyLTMyVjE2MGEzMiAzMiAwIDAgMSAzMi0zMmg4MzJhMzIgMzIgMCAwIDEgMzIgMzJ2NzA0YTMyIDMyIDAgMCAxLTMyIDMyem0zMTUuNTItMjI4LjQ4LTY4LjkyOC02OC45MjhhMzIgMzIgMCAwIDAtNDUuMjQ4IDBMMTI4IDc2OC4wNjRoNzc4LjY4OGwtMjQyLjExMi0yOTAuNTZhMzIgMzIgMCAwIDAtNDkuMjE2IDBMNDU4Ljc1MiA2NjUuNDA4YTMyIDMyIDAgMCAxLTQ3LjIzMiAyLjExMk0yNTYgMzg0YTk2IDk2IDAgMSAwIDE5Mi4wNjQtLjA2NEE5NiA5NiAwIDAgMCAyNTYgMzg0XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcGljdHVyZS1maWxsZWQudnVlXG52YXIgcGljdHVyZV9maWxsZWRfZGVmYXVsdCA9IHBpY3R1cmVfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9waWN0dXJlLXJvdW5kZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTk2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTk2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE5NiB9IGZyb20gXCJ2dWVcIjtcbnZhciBwaWN0dXJlX3JvdW5kZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTk2KHtcbiAgbmFtZTogXCJQaWN0dXJlUm91bmRlZFwiLFxuICBfX25hbWU6IFwicGljdHVyZS1yb3VuZGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxOTYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE5NihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTk2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiAxMjhhMzg0IDM4NCAwIDEgMCAwIDc2OCAzODQgMzg0IDAgMCAwIDAtNzY4bTAtNjRhNDQ4IDQ0OCAwIDEgMSAwIDg5NiA0NDggNDQ4IDAgMCAxIDAtODk2XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02NDAgMjg4cTY0IDAgNjQgNjR0LTY0IDY0cS02NCAwLTY0LTY0dDY0LTY0TTIxNC42NTYgNzkwLjY1NmwtNDUuMzEyLTQ1LjMxMiAxODUuNjY0LTE4NS42YTk2IDk2IDAgMCAxIDEyMy43MTItMTAuMjRsMTM4LjI0IDk4LjY4OGEzMiAzMiAwIDAgMCAzOS44NzItMi4xNzZMOTA2LjY4OCA0MjIuNGw0Mi42MjQgNDcuNzQ0TDY5OS41MiA2OTMuNjk2YTk2IDk2IDAgMCAxLTExOS44MDggNi41OTJsLTEzOC4yNC05OC43NTJhMzIgMzIgMCAwIDAtNDEuMTUyIDMuNDU2bC0xODUuNjY0IDE4NS42elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BpY3R1cmUtcm91bmRlZC52dWVcbnZhciBwaWN0dXJlX3JvdW5kZWRfZGVmYXVsdCA9IHBpY3R1cmVfcm91bmRlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcGljdHVyZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxOTcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5Nywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxOTcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTk3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHBpY3R1cmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTk3KHtcbiAgbmFtZTogXCJQaWN0dXJlXCIsXG4gIF9fbmFtZTogXCJwaWN0dXJlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxOTcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE5NyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTk3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE2MCAxNjB2NzA0aDcwNFYxNjB6bS0zMi02NGg3NjhhMzIgMzIgMCAwIDEgMzIgMzJ2NzY4YTMyIDMyIDAgMCAxLTMyIDMySDEyOGEzMiAzMiAwIDAgMS0zMi0zMlYxMjhhMzIgMzIgMCAwIDEgMzItMzJcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTk3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM4NCAyODhxNjQgMCA2NCA2NHQtNjQgNjRxLTY0IDAtNjQtNjR0NjQtNjRNMTg1LjQwOCA4NzYuOTkybC01MC44MTYtMzguOTEyTDM1MC43MiA1NTYuMDMyYTk2IDk2IDAgMCAxIDEzNC41OTItMTcuODU2bDEuODU2IDEuNDcyIDEyMi44OCA5OS4xMzZhMzIgMzIgMCAwIDAgNDQuOTkyLTQuODY0bDIxNi0yNjkuODg4IDQ5LjkyIDM5LjkzNi0yMTUuODA4IDI2OS44MjQtLjI1Ni4zMmE5NiA5NiAwIDAgMS0xMzUuMDQgMTQuNDY0bC0xMjIuODgtOTkuMDcyLS42NC0uNTEyYTMyIDMyIDAgMCAwLTQ0LjggNS45NTJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcGljdHVyZS52dWVcbnZhciBwaWN0dXJlX2RlZmF1bHQgPSBwaWN0dXJlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9waWUtY2hhcnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTk4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTk4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE5OCB9IGZyb20gXCJ2dWVcIjtcbnZhciBwaWVfY2hhcnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTk4KHtcbiAgbmFtZTogXCJQaWVDaGFydFwiLFxuICBfX25hbWU6IFwicGllLWNoYXJ0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxOTgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE5OChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTk4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ0OCA2OC40OHY2NC44MzJBMzg0LjEyOCAzODQuMTI4IDAgMCAwIDUxMiA4OTZhMzg0LjEyOCAzODQuMTI4IDAgMCAwIDM3OC42ODgtMzIwaDY0Ljc2OEE0NDguMTI4IDQ0OC4xMjggMCAwIDEgNjQgNTEyIDQ0OC4xMjggNDQ4LjEyOCAwIDAgMSA0NDggNjguNDh6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5OChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01NzYgOTcuMjhWNDQ4aDM1MC43MkEzODQuMDY0IDM4NC4wNjQgMCAwIDAgNTc2IDk3LjI4ek01MTIgNjRWMzMuMTUyQTQ0OCA0NDggMCAwIDEgOTkwLjg0OCA1MTJINTEyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BpZS1jaGFydC52dWVcbnZhciBwaWVfY2hhcnRfZGVmYXVsdCA9IHBpZV9jaGFydF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcGxhY2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTk5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTk5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE5OSB9IGZyb20gXCJ2dWVcIjtcbnZhciBwbGFjZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxOTkoe1xuICBuYW1lOiBcIlBsYWNlXCIsXG4gIF9fbmFtZTogXCJwbGFjZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTk5KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxOTkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNTEyYTE5MiAxOTIgMCAxIDAgMC0zODQgMTkyIDE5MiAwIDAgMCAwIDM4NG0wIDY0YTI1NiAyNTYgMCAxIDEgMC01MTIgMjU2IDI1NiAwIDAgMSAwIDUxMlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDUxMmEzMiAzMiAwIDAgMSAzMiAzMnYyNTZhMzIgMzIgMCAxIDEtNjQgMFY1NDRhMzIgMzIgMCAwIDEgMzItMzJcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTk5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM4NCA2NDkuMDg4djY0Ljk2QzI2OS43NiA3MzIuMzUyIDE5MiA3NzEuOTA0IDE5MiA4MDBjMCAzNy42OTYgMTM5LjkwNCA5NiAzMjAgOTZzMzIwLTU4LjMwNCAzMjAtOTZjMC0yOC4xNi03Ny43Ni02Ny42NDgtMTkyLTg1Ljk1MnYtNjQuOTZDNzg5LjEyIDY3MS4wNCA4OTYgNzMwLjM2OCA4OTYgODAwYzAgODguMzItMTcxLjkwNCAxNjAtMzg0IDE2MHMtMzg0LTcxLjY4LTM4NC0xNjBjMC02OS42OTYgMTA2Ljg4LTEyOC45NiAyNTYtMTUwLjkxMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BsYWNlLnZ1ZVxudmFyIHBsYWNlX2RlZmF1bHQgPSBwbGFjZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcGxhdGZvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjAwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjAwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIwMCB9IGZyb20gXCJ2dWVcIjtcbnZhciBwbGF0Zm9ybV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMDAoe1xuICBuYW1lOiBcIlBsYXRmb3JtXCIsXG4gIF9fbmFtZTogXCJwbGF0Zm9ybVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjAwKCksIF9jcmVhdGVFbGVtZW50QmxvY2syMDAoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwMChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00NDggODMydi02NGgxMjh2NjRoMTkydjY0SDI1NnYtNjR6TTEyOCA3MDRWMTI4aDc2OHY1NzZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcGxhdGZvcm0udnVlXG52YXIgcGxhdGZvcm1fZGVmYXVsdCA9IHBsYXRmb3JtX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9wbHVzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIwMSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjAxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIwMSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMDEgfSBmcm9tIFwidnVlXCI7XG52YXIgcGx1c192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMDEoe1xuICBuYW1lOiBcIlBsdXNcIixcbiAgX19uYW1lOiBcInBsdXNcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIwMSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjAxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDgwIDQ4MFYxMjhhMzIgMzIgMCAwIDEgNjQgMHYzNTJoMzUyYTMyIDMyIDAgMSAxIDAgNjRINTQ0djM1MmEzMiAzMiAwIDEgMS02NCAwVjU0NEgxMjhhMzIgMzIgMCAwIDEgMC02NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9wbHVzLnZ1ZVxudmFyIHBsdXNfZGVmYXVsdCA9IHBsdXNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3BvaW50ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjAyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjAyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIwMiB9IGZyb20gXCJ2dWVcIjtcbnZhciBwb2ludGVyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIwMih7XG4gIG5hbWU6IFwiUG9pbnRlclwiLFxuICBfX25hbWU6IFwicG9pbnRlclwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjAyKCksIF9jcmVhdGVFbGVtZW50QmxvY2syMDIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwMihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTEuNTUyIDEyOGMtMzUuNTg0IDAtNjQuMzg0IDI4LjgtNjQuMzg0IDY0LjQ0OHY1MTYuNDhMMjc0LjA0OCA1NzAuODhhOTQuMjcyIDk0LjI3MiAwIDAgMC0xMTIuODk2LTMuNDU2IDQ0LjQxNiA0NC40MTYgMCAwIDAtOC45NiA2Mi4yMDhMMzMyLjggODcwLjRBNjQgNjQgMCAwIDAgMzg0IDg5Nmg1MTJWNTc1LjIzMmE2NCA2NCAwIDAgMC00NS42MzItNjEuMzEybC0yMDUuOTUyLTYxLjc2QTk2IDk2IDAgMCAxIDU3NiAzNjAuMTkyVjE5Mi40NDhDNTc2IDE1Ni44IDU0Ny4yIDEyOCA1MTEuNTUyIDEyOE0zNTkuMDQgNTU2LjhsMjQuMTI4IDE5LjJWMTkyLjQ0OGExMjguNDQ4IDEyOC40NDggMCAxIDEgMjU2LjgzMiAwdjE2Ny43NDRhMzIgMzIgMCAwIDAgMjIuNzg0IDMwLjY1NmwyMDYuMDE2IDYxLjc2QTEyOCAxMjggMCAwIDEgOTYwIDU3NS4yMzJWODk2YTY0IDY0IDAgMCAxLTY0IDY0SDM4NGExMjggMTI4IDAgMCAxLTEwMi40LTUxLjJMMTAxLjA1NiA2NjguMDMyQTEwOC40MTYgMTA4LjQxNiAwIDAgMSAxMjggNTEyLjUxMmExNTguMjcyIDE1OC4yNzIgMCAwIDEgMTg1Ljk4NCA4LjMyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BvaW50ZXIudnVlXG52YXIgcG9pbnRlcl9kZWZhdWx0ID0gcG9pbnRlcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcG9zaXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjAzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjAzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIwMyB9IGZyb20gXCJ2dWVcIjtcbnZhciBwb3NpdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMDMoe1xuICBuYW1lOiBcIlBvc2l0aW9uXCIsXG4gIF9fbmFtZTogXCJwb3NpdGlvblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjAzKCksIF9jcmVhdGVFbGVtZW50QmxvY2syMDMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwMyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm0yNDkuNiA0MTcuMDg4IDMxOS43NDQgNDMuMDcyIDM5LjE2OCAzMTAuMjcyTDg0NS4xMiAxNzguODggMjQ5LjYgNDE3LjA4OHptLTEyOS4wMjQgNDcuMTY4YTMyIDMyIDAgMCAxLTcuNjgtNjEuNDRsNzc3Ljc5Mi0zMTEuMDRhMzIgMzIgMCAwIDEgNDEuNiA0MS42bC0zMTAuMzM2IDc3NS42OGEzMiAzMiAwIDAgMS02MS40NC03LjgwOEw1MTIgNTE2Ljk5MmwtMzkxLjQyNC01Mi43MzZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcG9zaXRpb24udnVlXG52YXIgcG9zaXRpb25fZGVmYXVsdCA9IHBvc2l0aW9uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9wb3N0Y2FyZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMDQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwNCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMDQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjA0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHBvc3RjYXJkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIwNCh7XG4gIG5hbWU6IFwiUG9zdGNhcmRcIixcbiAgX19uYW1lOiBcInBvc3RjYXJkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMDQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIwNChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjA0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE2MCAyMjRhMzIgMzIgMCAwIDAtMzIgMzJ2NTEyYTMyIDMyIDAgMCAwIDMyIDMyaDcwNGEzMiAzMiAwIDAgMCAzMi0zMlYyNTZhMzIgMzIgMCAwIDAtMzItMzJ6bTAtNjRoNzA0YTk2IDk2IDAgMCAxIDk2IDk2djUxMmE5NiA5NiAwIDAgMS05NiA5NkgxNjBhOTYgOTYgMCAwIDEtOTYtOTZWMjU2YTk2IDk2IDAgMCAxIDk2LTk2XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwNChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03MDQgMzIwYTY0IDY0IDAgMSAxIDAgMTI4IDY0IDY0IDAgMCAxIDAtMTI4TTI4OCA0NDhoMjU2cTMyIDAgMzIgMzJ0LTMyIDMySDI4OHEtMzIgMC0zMi0zMnQzMi0zMm0wIDEyOGgyNTZxMzIgMCAzMiAzMnQtMzIgMzJIMjg4cS0zMiAwLTMyLTMydDMyLTMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcG9zdGNhcmQudnVlXG52YXIgcG9zdGNhcmRfZGVmYXVsdCA9IHBvc3RjYXJkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9wb3VyaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIwNSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjA1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIwNSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMDUgfSBmcm9tIFwidnVlXCI7XG52YXIgcG91cmluZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMDUoe1xuICBuYW1lOiBcIlBvdXJpbmdcIixcbiAgX19uYW1lOiBcInBvdXJpbmdcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIwNSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjA1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtNzM5LjMyOCAyOTEuMzI4LTM1LjItNi41OTItMTIuOC0zMy40MDhhMTkyLjA2NCAxOTIuMDY0IDAgMCAwLTM2NS45NTIgMjMuMjMybC05LjkyIDQwLjg5Ni00MS40NzIgNy4wNGExNzYuMzIgMTc2LjMyIDAgMCAwLTE0Ni4yNCAxNzMuNTY4YzAgOTcuMjggNzguNzIgMTc1LjkzNiAxNzUuODA4IDE3NS45MzZoNDAwYTE5MiAxOTIgMCAwIDAgMzUuNzc2LTM4MC42NzJ6TTk1OS41NTIgNDgwYTI1NiAyNTYgMCAwIDEtMjU2IDI1NmgtNDAwQTIzOS44MDggMjM5LjgwOCAwIDAgMSA2My43NDQgNDk2LjE5MmEyNDAuMzIgMjQwLjMyIDAgMCAxIDE5OS40ODgtMjM2LjggMjU2LjEyOCAyNTYuMTI4IDAgMCAxIDQ4Ny44NzItMzAuOTc2QTI1Ni4wNjQgMjU2LjA2NCAwIDAgMSA5NTkuNTUyIDQ4ME0yMjQgODAwYTMyIDMyIDAgMCAxIDMyIDMydjk2YTMyIDMyIDAgMSAxLTY0IDB2LTk2YTMyIDMyIDAgMCAxIDMyLTMybTE5MiAwYTMyIDMyIDAgMCAxIDMyIDMydjk2YTMyIDMyIDAgMSAxLTY0IDB2LTk2YTMyIDMyIDAgMCAxIDMyLTMybTE5MiAwYTMyIDMyIDAgMCAxIDMyIDMydjk2YTMyIDMyIDAgMSAxLTY0IDB2LTk2YTMyIDMyIDAgMCAxIDMyLTMybTE5MiAwYTMyIDMyIDAgMCAxIDMyIDMydjk2YTMyIDMyIDAgMSAxLTY0IDB2LTk2YTMyIDMyIDAgMCAxIDMyLTMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcG91cmluZy52dWVcbnZhciBwb3VyaW5nX2RlZmF1bHQgPSBwb3VyaW5nX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9wcmVzZW50LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIwNiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjA2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIwNiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMDYgfSBmcm9tIFwidnVlXCI7XG52YXIgcHJlc2VudF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMDYoe1xuICBuYW1lOiBcIlByZXNlbnRcIixcbiAgX19uYW1lOiBcInByZXNlbnRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIwNigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjA2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDgwIDg5NlY2NDBIMTkydi02NGgyODhWMzIwSDE5MnY1NzZ6bTY0IDBoMjg4VjMyMEg1NDR2MjU2aDI4OHY2NEg1NDR6TTEyOCAyNTZoNzY4djY3MmEzMiAzMiAwIDAgMS0zMiAzMkgxNjBhMzIgMzIgMCAwIDEtMzItMzJ6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwNihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk05NiAyNTZoODMycTMyIDAgMzIgMzJ0LTMyIDMySDk2cS0zMiAwLTMyLTMydDMyLTMyXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwNihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00MTYgMjU2YTY0IDY0IDAgMSAwIDAtMTI4IDY0IDY0IDAgMCAwIDAgMTI4bTAgNjRhMTI4IDEyOCAwIDEgMSAwLTI1NiAxMjggMTI4IDAgMCAxIDAgMjU2XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwNihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02MDggMjU2YTY0IDY0IDAgMSAwIDAtMTI4IDY0IDY0IDAgMCAwIDAgMTI4bTAgNjRhMTI4IDEyOCAwIDEgMSAwLTI1NiAxMjggMTI4IDAgMCAxIDAgMjU2XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcHJlc2VudC52dWVcbnZhciBwcmVzZW50X2RlZmF1bHQgPSBwcmVzZW50X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9wcmljZS10YWcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjA3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjA3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIwNyB9IGZyb20gXCJ2dWVcIjtcbnZhciBwcmljZV90YWdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjA3KHtcbiAgbmFtZTogXCJQcmljZVRhZ1wiLFxuICBfX25hbWU6IFwicHJpY2UtdGFnXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMDcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIwNyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjA3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTIyNCAzMTguMzM2Vjg5Nmg1NzZWMzE4LjMzNkw1NTIuNTEyIDExNS44NGE2NCA2NCAwIDAgMC04MS4wMjQgMHpNNTkzLjAyNCA2Ni4zMDRsMjU5LjIgMjEyLjA5NkEzMiAzMiAwIDAgMSA4NjQgMzAzLjE2OFY5MjhhMzIgMzIgMCAwIDEtMzIgMzJIMTkyYTMyIDMyIDAgMCAxLTMyLTMyVjMwMy4xNjhhMzIgMzIgMCAwIDEgMTEuNzEyLTI0Ljc2OGwyNTkuMi0yMTIuMDk2YTEyOCAxMjggMCAwIDEgMTYyLjExMiAwelwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDQ0OGE2NCA2NCAwIDEgMCAwLTEyOCA2NCA2NCAwIDAgMCAwIDEyOG0wIDY0YTEyOCAxMjggMCAxIDEgMC0yNTYgMTI4IDEyOCAwIDAgMSAwIDI1NlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3ByaWNlLXRhZy52dWVcbnZhciBwcmljZV90YWdfZGVmYXVsdCA9IHByaWNlX3RhZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcHJpbnRlci52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMDggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwOCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMDgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjA4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHByaW50ZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjA4KHtcbiAgbmFtZTogXCJQcmludGVyXCIsXG4gIF9fbmFtZTogXCJwcmludGVyXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMDgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIwOChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjA4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI1NiA3NjhIMTA1LjAyNGMtMTQuMjcyIDAtMTkuNDU2LTEuNDcyLTI0LjY0LTQuMjg4YTI5LjA1NiAyOS4wNTYgMCAwIDEtMTIuMTYtMTIuMDk2QzY1LjUzNiA3NDYuNDMyIDY0IDc0MS4yNDggNjQgNzI3LjA0VjM3OS4wNzJjMC00Mi44MTYgNC40OC01OC4zMDQgMTIuOC03My45ODQgOC4zODQtMTUuNjE2IDIwLjY3Mi0yNy45MDQgMzYuMjg4LTM2LjI4OCAxNS42OC04LjMyIDMxLjE2OC0xMi44IDczLjk4NC0xMi44SDI1NlY2NGg1MTJ2MTkyaDY4LjkyOGM0Mi44MTYgMCA1OC4zMDQgNC40OCA3My45ODQgMTIuOCAxNS42MTYgOC4zODQgMjcuOTA0IDIwLjY3MiAzNi4yODggMzYuMjg4IDguMzIgMTUuNjggMTIuOCAzMS4xNjggMTIuOCA3My45ODR2MzQ3LjkwNGMwIDE0LjI3Mi0xLjQ3MiAxOS40NTYtNC4yODggMjQuNjRhMjkuMDU2IDI5LjA1NiAwIDAgMS0xMi4wOTYgMTIuMTZjLTUuMTg0IDIuNzUyLTEwLjM2OCA0LjIyNC0yNC42NCA0LjIyNEg3Njh2MTkySDI1NnptNjQtMTkydjMyMGgzODRWNTc2em0tNjQgMTI4VjUxMmg1MTJ2MTkyaDEyOFYzNzkuMDcyYzAtMjkuMzc2LTEuNDA4LTM2LjQ4LTUuMjQ4LTQzLjc3NmEyMy4yOTYgMjMuMjk2IDAgMCAwLTEwLjA0OC0xMC4wNDhjLTcuMjMyLTMuODQtMTQuNC01LjI0OC00My43NzYtNS4yNDhIMTg3LjA3MmMtMjkuMzc2IDAtMzYuNDggMS40MDgtNDMuNzc2IDUuMjQ4YTIzLjI5NiAyMy4yOTYgMCAwIDAtMTAuMDQ4IDEwLjA0OGMtMy44NCA3LjIzMi01LjI0OCAxNC40LTUuMjQ4IDQzLjc3NlY3MDR6bTY0LTQ0OGgzODRWMTI4SDMyMHptLTY0IDEyOGg2NHY2NGgtNjR6bTEyOCAwaDY0djY0aC02NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9wcmludGVyLnZ1ZVxudmFyIHByaW50ZXJfZGVmYXVsdCA9IHByaW50ZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3Byb21vdGlvbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMDkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwOSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMDksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjA5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHByb21vdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMDkoe1xuICBuYW1lOiBcIlByb21vdGlvblwiLFxuICBfX25hbWU6IFwicHJvbW90aW9uXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMDkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIwOShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjA5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTY0IDQ0OCA4MzItMzIwLTEyOCA3MDQtNDQ2LjA4LTI0My4zMjhMODMyIDE5MiAyNDIuODE2IDU0NS40NzJ6bTI1NiA1MTJWNjU3LjAyNEw1MTIgNzY4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3Byb21vdGlvbi52dWVcbnZhciBwcm9tb3Rpb25fZGVmYXVsdCA9IHByb21vdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcXVhcnR6LXdhdGNoLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIxMCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjEwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIxMCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMTAgfSBmcm9tIFwidnVlXCI7XG52YXIgcXVhcnR6X3dhdGNoX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIxMCh7XG4gIG5hbWU6IFwiUXVhcnR6V2F0Y2hcIixcbiAgX19uYW1lOiBcInF1YXJ0ei13YXRjaFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjEwKCksIF9jcmVhdGVFbGVtZW50QmxvY2syMTAoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwieG1sOnNwYWNlXCI6IFwicHJlc2VydmVcIixcbiAgICAgIHN0eWxlOiB7IFwiZW5hYmxlLWJhY2tncm91bmRcIjogXCJuZXcgMCAwIDEwMjQgMTAyNFwiIH0sXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDIyLjAyIDYwMi4wMXYtLjAzYy02LjY4LTUuOTktMTQuMzUtOC44My0yMy4wMS04LjUxLTguNjcuMzItMTYuMTcgMy42Ni0yMi41IDEwLjAyLTYuMzMgNi4zNi05LjUgMTMuNy05LjUgMjIuMDJzMyAxNS44MiA4Ljk5IDIyLjVjOC42OCA4LjY4IDE5LjAyIDExLjM1IDMxLjAxIDhzMTkuNDktMTAuODUgMjIuNS0yMi41YzMuMDEtMTEuNjUuNTEtMjIuMTUtNy40OS0zMS40OXpNMzg0IDUxMmMwLTkuMzUtMy0xNy4wMi04Ljk5LTIzLjAxLTYtNS45OS0xMy42Ni04Ljk5LTIzLjAxLTguOTktOS4zNSAwLTE3LjAyIDMtMjMuMDEgOC45OS01Ljk5IDYtOC45OSAxMy42Ni04Ljk5IDIzLjAxczMgMTcuMDIgOC45OSAyMy4wMWM2IDUuOTkgMTMuNjYgOC45OSAyMy4wMSA4Ljk5IDkuMzUgMCAxNy4wMi0zIDIzLjAxLTguOTkgNS45OS02IDguOTktMTMuNjcgOC45OS0yMy4wMW02LjUzLTgyLjQ5YzExLjY1IDMuMDEgMjIuMTUuNTEgMzEuNDktNy40OWguMDRjNS45OS02LjY4IDguODMtMTQuMzQgOC41MS0yMy4wMS0uMzItOC42Ny0zLjY2LTE2LjE2LTEwLjAyLTIyLjUtNi4zNi02LjMzLTEzLjctOS41LTIyLjAyLTkuNXMtMTUuODIgMy0yMi41IDguOTljLTguNjggOC42OS0xMS4zNSAxOS4wMi04IDMxLjAxIDMuMzUgMTEuOTkgMTAuODUgMTkuNDkgMjIuNSAyMi41em0yNDIuOTQgMGMxMS42Ny0zLjAzIDE5LjAxLTEwLjM3IDIyLjAyLTIyLjAyIDMuMDEtMTEuNjUuNTEtMjIuMTUtNy40OS0zMS40OWguMDFjLTYuNjgtNS45OS0xNC4xOC04Ljk5LTIyLjUtOC45OXMtMTUuNjYgMy4xNi0yMi4wMiA5LjVjLTYuMzYgNi4zNC05LjcgMTMuODQtMTAuMDIgMjIuNS0uMzIgOC42NiAyLjUyIDE2LjMzIDguNTEgMjMuMDEgOS4zMiA4LjAyIDE5LjgyIDEwLjUyIDMxLjQ5IDcuNDlNNTEyIDY0MGMtOS4zNSAwLTE3LjAyIDMtMjMuMDEgOC45OS01Ljk5IDYtOC45OSAxMy42Ni04Ljk5IDIzLjAxczMgMTcuMDIgOC45OSAyMy4wMWM2IDUuOTkgMTMuNjcgOC45OSAyMy4wMSA4Ljk5IDkuMzUgMCAxNy4wMi0zIDIzLjAxLTguOTkgNS45OS02IDguOTktMTMuNjYgOC45OS0yMy4wMXMtMy0xNy4wMi04Ljk5LTIzLjAxYy02LTUuOTktMTMuNjYtOC45OS0yMy4wMS04Ljk5bTE4My4wMS0xNTEuMDFjLTYtNS45OS0xMy42Ni04Ljk5LTIzLjAxLTguOTlzLTE3LjAyIDMtMjMuMDEgOC45OWMtNS45OSA2LTguOTkgMTMuNjYtOC45OSAyMy4wMXMzIDE3LjAyIDguOTkgMjMuMDFjNiA1Ljk5IDEzLjY2IDguOTkgMjMuMDEgOC45OXMxNy4wMi0zIDIzLjAxLTguOTljNS45OS02IDguOTktMTMuNjcgOC45OS0yMy4wMSAwLTkuMzUtMy0xNy4wMi04Ljk5LTIzLjAxXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxMChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04MzIgNTEyYy0yLTkwLjY3LTMzLjE3LTE2Ni4xNy05My41LTIyNi41LTIwLjQzLTIwLjQyLTQyLjYtMzcuNDktNjYuNS01MS4yM1Y2NEgzNTJ2MTcwLjI2Yy0yMy45IDEzLjc0LTQ2LjA3IDMwLjgxLTY2LjUgNTEuMjQtNjAuMzMgNjAuMzMtOTEuNDkgMTM1LjgzLTkzLjUgMjI2LjUgMiA5MC42NyAzMy4xNyAxNjYuMTcgOTMuNSAyMjYuNSAyMC40MyAyMC40MyA0Mi42IDM3LjUgNjYuNSA1MS4yNFY5NjBoMzIwVjc4OS43NGMyMy45LTEzLjc0IDQ2LjA3LTMwLjgxIDY2LjUtNTEuMjQgNjAuMzMtNjAuMzQgOTEuNDktMTM1LjgzIDkzLjUtMjI2LjVNNDE2IDEyOGgxOTJ2NzguNjljLTI5Ljg1LTkuMDMtNjEuODUtMTMuOTMtOTYtMTQuNjktMzQuMTUuNzUtNjYuMTUgNS42NS05NiAxNC42OHptMTkyIDc2OEg0MTZ2LTc4LjY4YzI5Ljg1IDkuMDMgNjEuODUgMTMuOTMgOTYgMTQuNjggMzQuMTUtLjc1IDY2LjE1LTUuNjUgOTYtMTQuNjh6bS05Ni0xMjhjLTcyLjY2LTIuMDEtMTMyLjk5LTI3LjAxLTE4MC45OS03NS4wMVMyNTguMDEgNTg0LjY2IDI1NiA1MTJjMi4wMS03Mi42NiAyNy4wMS0xMzIuOTkgNzUuMDEtMTgwLjk5UzQzOS4zNCAyNTguMDEgNTEyIDI1NmM3Mi42NiAyLjAxIDEzMi45OSAyNy4wMSAxODAuOTkgNzUuMDFTNzY1Ljk5IDQzOS4zNCA3NjggNTEyYy0yLjAxIDcyLjY2LTI3LjAxIDEzMi45OS03NS4wMSAxODAuOTlTNTg0LjY2IDc2NS45OSA1MTIgNzY4XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxMChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgMzIwYy05LjM1IDAtMTcuMDIgMy0yMy4wMSA4Ljk5LTUuOTkgNi04Ljk5IDEzLjY2LTguOTkgMjMuMDEgMCA5LjM1IDMgMTcuMDIgOC45OSAyMy4wMSA2IDUuOTkgMTMuNjcgOC45OSAyMy4wMSA4Ljk5IDkuMzUgMCAxNy4wMi0zIDIzLjAxLTguOTkgNS45OS02IDguOTktMTMuNjYgOC45OS0yMy4wMSAwLTkuMzUtMy0xNy4wMi04Ljk5LTIzLjAxLTYtNS45OS0xMy42Ni04Ljk5LTIzLjAxLTguOTltMTEyLjk5IDI3My41Yy04LjY2LS4zMi0xNi4zMyAyLjUyLTIzLjAxIDguNTEtNy45OCA5LjMyLTEwLjQ4IDE5LjgyLTcuNDkgMzEuNDlzMTAuNDkgMTkuMTcgMjIuNSAyMi41IDIyLjM1LjY2IDMxLjAxLTh2LjA0YzUuOTktNi42OCA4Ljk5LTE0LjE4IDguOTktMjIuNXMtMy4xNi0xNS42Ni05LjUtMjIuMDItMTMuODQtOS43LTIyLjUtMTAuMDJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9xdWFydHotd2F0Y2gudnVlXG52YXIgcXVhcnR6X3dhdGNoX2RlZmF1bHQgPSBxdWFydHpfd2F0Y2hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3F1ZXN0aW9uLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMTEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxMSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMTEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjExIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHF1ZXN0aW9uX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMTEoe1xuICBuYW1lOiBcIlF1ZXN0aW9uRmlsbGVkXCIsXG4gIF9fbmFtZTogXCJxdWVzdGlvbi1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIxMSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjExKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0YTQ0OCA0NDggMCAxIDEgMCA4OTYgNDQ4IDQ0OCAwIDAgMSAwLTg5Nm0yMy43NDQgMTkxLjQ4OGMtNTIuMDk2IDAtOTIuOTI4IDE0Ljc4NC0xMjMuMiA0NC4zNTItMzAuOTc2IDI5LjU2OC00NS43NiA3MC40LTQ1Ljc2IDEyMi40OTZoODAuMjU2YzAtMjkuNTY4IDUuNjMyLTUyLjggMTcuNi02OC45OTIgMTMuMzc2LTE5LjcxMiAzNS4yLTI4Ljg2NCA2Ni4xNzYtMjguODY0IDIzLjkzNiAwIDQyLjk0NCA2LjMzNiA1Ni4zMiAxOS43MTIgMTIuNjcyIDEzLjM3NiAxOS43MTIgMzEuNjggMTkuNzEyIDU0LjkxMiAwIDE3LjYtNi4zMzYgMzQuNDk2LTE5LjAwOCA0OS45ODRsLTguNDQ4IDkuODU2Yy00NS43NiA0MC44MzItNzMuMjE2IDcwLjQtODIuMzY4IDg5LjQwOC05Ljg1NiAxOS4wMDgtMTQuMDggNDIuMjQtMTQuMDggNjguOTkydjkuODU2aDgwLjk2di05Ljg1NmMwLTE2Ljg5NiAzLjUyLTMxLjY4IDEwLjU2LTQ1Ljc2IDYuMzM2LTEyLjY3MiAxNS40ODgtMjQuNjQgMjguMTYtMzUuMiAzMy43OTItMjkuNTY4IDU0LjIwOC00OC41NzYgNjAuNTQ0LTU1LjYxNiAxNi44OTYtMjIuNTI4IDI2LjA0OC01MS4zOTIgMjYuMDQ4LTg2LjU5MiAwLTQyLjk0NC0xNC4wOC03Ni43MzYtNDIuMjQtMTAxLjM3Ni0yOC4xNi0yNS4zNDQtNjUuNDcyLTM3LjMxMi0xMTEuMjMyLTM3LjMxMnptLTEyLjY3MiA0MDYuMjA4YTU0LjI3MiA1NC4yNzIgMCAwIDAtMzguNzIgMTQuNzg0IDQ5LjQwOCA0OS40MDggMCAwIDAtMTUuNDg4IDM4LjAxNmMwIDE1LjQ4OCA0LjkyOCAyOC4xNiAxNS40ODggMzguMDE2QTU0Ljg0OCA1NC44NDggMCAwIDAgNTIzLjA3MiA3NjhjMTUuNDg4IDAgMjguMTYtNC45MjggMzguNzItMTQuNzg0YTUxLjUyIDUxLjUyIDAgMCAwIDE2LjE5Mi0zOC43MiA1MS45NjggNTEuOTY4IDAgMCAwLTE1LjQ4OC0zOC4wMTYgNTUuOTM2IDU1LjkzNiAwIDAgMC0zOS40MjQtMTQuNzg0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3F1ZXN0aW9uLWZpbGxlZC52dWVcbnZhciBxdWVzdGlvbl9maWxsZWRfZGVmYXVsdCA9IHF1ZXN0aW9uX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcmFuay52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMTIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxMiwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMTIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjEyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHJhbmtfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjEyKHtcbiAgbmFtZTogXCJSYW5rXCIsXG4gIF9fbmFtZTogXCJyYW5rXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMTIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIxMihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjEyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTE4Ni40OTYgNTQ0IDQxLjQwOCA0MS4zNDRhMzIgMzIgMCAxIDEtNDUuMjQ4IDQ1LjMxMmwtOTYtOTZhMzIgMzIgMCAwIDEgMC00NS4zMTJsOTYtOTZhMzIgMzIgMCAxIDEgNDUuMjQ4IDQ1LjMxMkwxODYuNDk2IDQ4MGgyOTAuODE2VjE4Ni40MzJsLTQxLjQ3MiA0MS40NzJhMzIgMzIgMCAxIDEtNDUuMjQ4LTQ1LjE4NGw5Ni05Ni4xMjhhMzIgMzIgMCAwIDEgNDUuMzEyIDBsOTYgOTYuMDY0YTMyIDMyIDAgMCAxLTQ1LjI0OCA0NS4xODRsLTQxLjM0NC00MS4yOFY0ODBIODMybC00MS4zNDQtNDEuMzQ0YTMyIDMyIDAgMCAxIDQ1LjI0OC00NS4zMTJsOTYgOTZhMzIgMzIgMCAwIDEgMCA0NS4zMTJsLTk2IDk2YTMyIDMyIDAgMCAxLTQ1LjI0OC00NS4zMTJMODMyIDU0NEg1NDEuMzEydjI5My40NGw0MS4zNDQtNDEuMjhhMzIgMzIgMCAxIDEgNDUuMjQ4IDQ1LjI0OGwtOTYgOTZhMzIgMzIgMCAwIDEtNDUuMzEyIDBsLTk2LTk2YTMyIDMyIDAgMSAxIDQ1LjMxMi00NS4yNDhsNDEuNDA4IDQxLjQwOFY1NDRIMTg2LjQ5NnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9yYW5rLnZ1ZVxudmFyIHJhbmtfZGVmYXVsdCA9IHJhbmtfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3JlYWRpbmctbGFtcC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMTMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxMywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMTMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjEzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHJlYWRpbmdfbGFtcF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMTMoe1xuICBuYW1lOiBcIlJlYWRpbmdMYW1wXCIsXG4gIF9fbmFtZTogXCJyZWFkaW5nLWxhbXBcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIxMygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjEzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzUyIDg5NmgzMjBxMzIgMCAzMiAzMnQtMzIgMzJIMzUycS0zMiAwLTMyLTMydDMyLTMybS00NC42NzItNzY4LTk5LjUyIDQ0OGg2MDguMzg0bC05OS41Mi00NDh6bS0yNS42LTY0aDQ2MC42MDhhMzIgMzIgMCAwIDEgMzEuMjMyIDI1LjA4OGwxMTMuNzkyIDUxMkEzMiAzMiAwIDAgMSA4NTYuMTI4IDY0MEgxNjcuODcyYTMyIDMyIDAgMCAxLTMxLjIzMi0zOC45MTJsMTEzLjc5Mi01MTJBMzIgMzIgMCAwIDEgMjgxLjY2NCA2NHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjEzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTY3MiA1NzZxMzIgMCAzMiAzMnYxMjhxMCAzMi0zMiAzMnQtMzItMzJWNjA4cTAtMzIgMzItMzJtLTE5Mi0uMDY0aDY0Vjk2MGgtNjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcmVhZGluZy1sYW1wLnZ1ZVxudmFyIHJlYWRpbmdfbGFtcF9kZWZhdWx0ID0gcmVhZGluZ19sYW1wX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9yZWFkaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIxNCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjE0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIxNCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMTQgfSBmcm9tIFwidnVlXCI7XG52YXIgcmVhZGluZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMTQoe1xuICBuYW1lOiBcIlJlYWRpbmdcIixcbiAgX19uYW1lOiBcInJlYWRpbmdcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIxNCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjE0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtNTEyIDg2My4zNiAzODQtNTQuODQ4di02MzguNzJMNTI1LjU2OCAyMjIuNzJhOTYgOTYgMCAwIDEtMjcuMTM2IDBMMTI4IDE2OS43OTJ2NjM4Ljcyek0xMzcuMDI0IDEwNi40MzJsMzcwLjQzMiA1Mi45MjhhMzIgMzIgMCAwIDAgOS4wODggMGwzNzAuNDMyLTUyLjkyOEE2NCA2NCAwIDAgMSA5NjAgMTY5Ljc5MnY2MzguNzJhNjQgNjQgMCAwIDEtNTQuOTc2IDYzLjM2bC0zODguNDggNTUuNDg4YTMyIDMyIDAgMCAxLTkuMDg4IDBsLTM4OC40OC01NS40ODhBNjQgNjQgMCAwIDEgNjQgODA4LjUxMnYtNjM4LjcyYTY0IDY0IDAgMCAxIDczLjAyNC02My4zNnpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjE0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCAxOTJoNjR2NzA0aC02NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9yZWFkaW5nLnZ1ZVxudmFyIHJlYWRpbmdfZGVmYXVsdCA9IHJlYWRpbmdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3JlZnJlc2gtbGVmdC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMTUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxNSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMTUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjE1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHJlZnJlc2hfbGVmdF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMTUoe1xuICBuYW1lOiBcIlJlZnJlc2hMZWZ0XCIsXG4gIF9fbmFtZTogXCJyZWZyZXNoLWxlZnRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIxNSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjE1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjg5LjA4OCAyOTYuNzA0aDkyLjk5MmEzMiAzMiAwIDAgMSAwIDY0SDIzMi45NmEzMiAzMiAwIDAgMS0zMi0zMlYxNzkuNzEyYTMyIDMyIDAgMCAxIDY0IDB2NTAuNTZhMzg0IDM4NCAwIDAgMSA2NDMuODQgMjgyLjg4IDM4NCAzODQgMCAwIDEtMzgzLjkzNiAzODQgMzg0IDM4NCAwIDAgMS0zODQtMzg0aDY0YTMyMCAzMjAgMCAxIDAgNjQwIDAgMzIwIDMyMCAwIDAgMC01NTUuNzEyLTIxNi40NDh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcmVmcmVzaC1sZWZ0LnZ1ZVxudmFyIHJlZnJlc2hfbGVmdF9kZWZhdWx0ID0gcmVmcmVzaF9sZWZ0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9yZWZyZXNoLXJpZ2h0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIxNiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjE2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIxNiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMTYgfSBmcm9tIFwidnVlXCI7XG52YXIgcmVmcmVzaF9yaWdodF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMTYoe1xuICBuYW1lOiBcIlJlZnJlc2hSaWdodFwiLFxuICBfX25hbWU6IFwicmVmcmVzaC1yaWdodFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjE2KCksIF9jcmVhdGVFbGVtZW50QmxvY2syMTYoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxNihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03ODQuNTEyIDIzMC4yNzJ2LTUwLjU2YTMyIDMyIDAgMSAxIDY0IDB2MTQ5LjA1NmEzMiAzMiAwIDAgMS0zMiAzMkg2NjcuNTJhMzIgMzIgMCAxIDEgMC02NGg5Mi45OTJBMzIwIDMyMCAwIDEgMCA1MjQuOCA4MzMuMTUyYTMyMCAzMjAgMCAwIDAgMzIwLTMyMGg2NGEzODQgMzg0IDAgMCAxLTM4NCAzODQgMzg0IDM4NCAwIDAgMS0zODQtMzg0IDM4NCAzODQgMCAwIDEgNjQzLjcxMi0yODIuODh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcmVmcmVzaC1yaWdodC52dWVcbnZhciByZWZyZXNoX3JpZ2h0X2RlZmF1bHQgPSByZWZyZXNoX3JpZ2h0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9yZWZyZXNoLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIxNyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjE3LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIxNywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMTcgfSBmcm9tIFwidnVlXCI7XG52YXIgcmVmcmVzaF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMTcoe1xuICBuYW1lOiBcIlJlZnJlc2hcIixcbiAgX19uYW1lOiBcInJlZnJlc2hcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIxNygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjE3KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzcxLjc3NiA3OTQuODhBMzg0IDM4NCAwIDAgMSAxMjggNTEyaDY0YTMyMCAzMjAgMCAwIDAgNTU1LjcxMiAyMTYuNDQ4SDY1NC43MmEzMiAzMiAwIDEgMSAwLTY0aDE0OS4wNTZhMzIgMzIgMCAwIDEgMzIgMzJ2MTQ4LjkyOGEzMiAzMiAwIDEgMS02NCAwdi01MC41NnpNMjc2LjI4OCAyOTUuNjE2aDkyLjk5MmEzMiAzMiAwIDAgMSAwIDY0SDIyMC4xNmEzMiAzMiAwIDAgMS0zMi0zMlYxNzguNTZhMzIgMzIgMCAwIDEgNjQgMHY1MC41NkEzODQgMzg0IDAgMCAxIDg5Ni4xMjggNTEyaC02NGEzMjAgMzIwIDAgMCAwLTU1NS43NzYtMjE2LjM4NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9yZWZyZXNoLnZ1ZVxudmFyIHJlZnJlc2hfZGVmYXVsdCA9IHJlZnJlc2hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3JlZnJpZ2VyYXRvci52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMTggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxOCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMTgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjE4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHJlZnJpZ2VyYXRvcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMTgoe1xuICBuYW1lOiBcIlJlZnJpZ2VyYXRvclwiLFxuICBfX25hbWU6IFwicmVmcmlnZXJhdG9yXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMTgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIxOChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjE4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI1NiA0NDhoNTEyVjE2MGEzMiAzMiAwIDAgMC0zMi0zMkgyODhhMzIgMzIgMCAwIDAtMzIgMzJ6bTAgNjR2MzUyYTMyIDMyIDAgMCAwIDMyIDMyaDQ0OGEzMiAzMiAwIDAgMCAzMi0zMlY1MTJ6bTMyLTQ0OGg0NDhhOTYgOTYgMCAwIDEgOTYgOTZ2NzA0YTk2IDk2IDAgMCAxLTk2IDk2SDI4OGE5NiA5NiAwIDAgMS05Ni05NlYxNjBhOTYgOTYgMCAwIDEgOTYtOTZtMzIgMjI0aDY0djk2aC02NHptMCAyODhoNjR2OTZoLTY0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3JlZnJpZ2VyYXRvci52dWVcbnZhciByZWZyaWdlcmF0b3JfZGVmYXVsdCA9IHJlZnJpZ2VyYXRvcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcmVtb3ZlLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMTkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxOSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMTksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjE5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHJlbW92ZV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjE5KHtcbiAgbmFtZTogXCJSZW1vdmVGaWxsZWRcIixcbiAgX19uYW1lOiBcInJlbW92ZS1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIxOSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjE5KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0YTQ0OCA0NDggMCAxIDEgMCA4OTYgNDQ4IDQ0OCAwIDAgMSAwLTg5Nk0yODggNTEyYTM4LjQgMzguNCAwIDAgMCAzOC40IDM4LjRoMzcxLjJhMzguNCAzOC40IDAgMCAwIDAtNzYuOEgzMjYuNEEzOC40IDM4LjQgMCAwIDAgMjg4IDUxMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3JlbW92ZS1maWxsZWQudnVlXG52YXIgcmVtb3ZlX2ZpbGxlZF9kZWZhdWx0ID0gcmVtb3ZlX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcmVtb3ZlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIyMCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjIwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIyMCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMjAgfSBmcm9tIFwidnVlXCI7XG52YXIgcmVtb3ZlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIyMCh7XG4gIG5hbWU6IFwiUmVtb3ZlXCIsXG4gIF9fbmFtZTogXCJyZW1vdmVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIyMCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjIwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzUyIDQ4MGgzMjBhMzIgMzIgMCAxIDEgMCA2NEgzNTJhMzIgMzIgMCAwIDEgMC02NFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDg5NmEzODQgMzg0IDAgMSAwIDAtNzY4IDM4NCAzODQgMCAwIDAgMCA3NjhtMCA2NGE0NDggNDQ4IDAgMSAxIDAtODk2IDQ0OCA0NDggMCAwIDEgMCA4OTZcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9yZW1vdmUudnVlXG52YXIgcmVtb3ZlX2RlZmF1bHQgPSByZW1vdmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3JpZ2h0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIyMSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjIxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIyMSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMjEgfSBmcm9tIFwidnVlXCI7XG52YXIgcmlnaHRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjIxKHtcbiAgbmFtZTogXCJSaWdodFwiLFxuICBfX25hbWU6IFwicmlnaHRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIyMSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjIxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzU0Ljc1MiA0ODBIMTYwYTMyIDMyIDAgMSAwIDAgNjRoNTk0Ljc1Mkw1MjEuMzQ0IDc3Ny4zNDRhMzIgMzIgMCAwIDAgNDUuMzEyIDQ1LjMxMmwyODgtMjg4YTMyIDMyIDAgMCAwIDAtNDUuMzEybC0yODgtMjg4YTMyIDMyIDAgMSAwLTQ1LjMxMiA0NS4zMTJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcmlnaHQudnVlXG52YXIgcmlnaHRfZGVmYXVsdCA9IHJpZ2h0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zY2FsZS10by1vcmlnaW5hbC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMjIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyMiwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMjIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjIyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHNjYWxlX3RvX29yaWdpbmFsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIyMih7XG4gIG5hbWU6IFwiU2NhbGVUb09yaWdpbmFsXCIsXG4gIF9fbmFtZTogXCJzY2FsZS10by1vcmlnaW5hbFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjIyKCksIF9jcmVhdGVFbGVtZW50QmxvY2syMjIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyMihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04MTMuMTc2IDE4MC43MDZhNjAuMjM1IDYwLjIzNSAwIDAgMSA2MC4yMzYgNjAuMjM1djQ4MS44ODNhNjAuMjM1IDYwLjIzNSAwIDAgMS02MC4yMzYgNjAuMjM1SDIxMC44MjRhNjAuMjM1IDYwLjIzNSAwIDAgMS02MC4yMzYtNjAuMjM1VjI0MC45NGE2MC4yMzUgNjAuMjM1IDAgMCAxIDYwLjIzNi02MC4yMzVoNjAyLjM1MnptMC02MC4yMzVIMjEwLjgyNEExMjAuNDcgMTIwLjQ3IDAgMCAwIDkwLjM1MyAyNDAuOTR2NDgxLjg4M2ExMjAuNDcgMTIwLjQ3IDAgMCAwIDEyMC40NyAxMjAuNDdoNjAyLjM1M2ExMjAuNDcgMTIwLjQ3IDAgMCAwIDEyMC40NzEtMTIwLjQ3VjI0MC45NGExMjAuNDcgMTIwLjQ3IDAgMCAwLTEyMC40Ny0xMjAuNDd6bS0xMjAuNDcgMTgwLjcwNWEzMC4xMTggMzAuMTE4IDAgMCAwLTMwLjExOCAzMC4xMTh2MzAxLjE3N2EzMC4xMTggMzAuMTE4IDAgMCAwIDYwLjIzNiAwVjMzMS4yOTRhMzAuMTE4IDMwLjExOCAwIDAgMC0zMC4xMTgtMzAuMTE4em0tMzYxLjQxMiAwYTMwLjExOCAzMC4xMTggMCAwIDAtMzAuMTE4IDMwLjExOHYzMDEuMTc3YTMwLjExOCAzMC4xMTggMCAxIDAgNjAuMjM2IDBWMzMxLjI5NGEzMC4xMTggMzAuMTE4IDAgMCAwLTMwLjExOC0zMC4xMThNNTEyIDM2MS40MTJhMzAuMTE4IDMwLjExOCAwIDAgMC0zMC4xMTggMzAuMTE3djMwLjExOGEzMC4xMTggMzAuMTE4IDAgMCAwIDYwLjIzNiAwVjM5MS41M0EzMC4xMTggMzAuMTE4IDAgMCAwIDUxMiAzNjEuNDEyTTUxMiA1MTJhMzAuMTE4IDMwLjExOCAwIDAgMC0zMC4xMTggMzAuMTE4djMwLjExN2EzMC4xMTggMzAuMTE4IDAgMCAwIDYwLjIzNiAwdi0zMC4xMTdBMzAuMTE4IDMwLjExOCAwIDAgMCA1MTIgNTEyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc2NhbGUtdG8tb3JpZ2luYWwudnVlXG52YXIgc2NhbGVfdG9fb3JpZ2luYWxfZGVmYXVsdCA9IHNjYWxlX3RvX29yaWdpbmFsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zY2hvb2wudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjIzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjIzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIyMyB9IGZyb20gXCJ2dWVcIjtcbnZhciBzY2hvb2xfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjIzKHtcbiAgbmFtZTogXCJTY2hvb2xcIixcbiAgX19uYW1lOiBcInNjaG9vbFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjIzKCksIF9jcmVhdGVFbGVtZW50QmxvY2syMjMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyMyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yMjQgMTI4djcwNGg1NzZWMTI4em0tMzItNjRoNjQwYTMyIDMyIDAgMCAxIDMyIDMydjc2OGEzMiAzMiAwIDAgMS0zMiAzMkgxOTJhMzIgMzIgMCAwIDEtMzItMzJWOTZhMzIgMzIgMCAwIDEgMzItMzJcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjIzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTY0IDgzMmg4OTZ2NjRINjR6bTI1Ni02NDBoMTI4djk2SDMyMHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjIzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM4NCA4MzJoMjU2di02NGExMjggMTI4IDAgMSAwLTI1NiAwem0xMjgtMjU2YTE5MiAxOTIgMCAwIDEgMTkyIDE5MnYxMjhIMzIwVjc2OGExOTIgMTkyIDAgMCAxIDE5Mi0xOTJNMzIwIDM4NGgxMjh2OTZIMzIwem0yNTYtMTkyaDEyOHY5Nkg1NzZ6bTAgMTkyaDEyOHY5Nkg1NzZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc2Nob29sLnZ1ZVxudmFyIHNjaG9vbF9kZWZhdWx0ID0gc2Nob29sX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zY2lzc29yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIyNCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjI0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIyNCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMjQgfSBmcm9tIFwidnVlXCI7XG52YXIgc2Npc3Nvcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMjQoe1xuICBuYW1lOiBcIlNjaXNzb3JcIixcbiAgX19uYW1lOiBcInNjaXNzb3JcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIyNCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjI0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtNTEyLjA2NCA1NzguMzY4LTEwNi44OCAxNTIuNzY4YTE2MCAxNjAgMCAxIDEtMjMuMzYtNzguMjA4TDQ3Mi45NiA1MjIuNTYgMTk2Ljg2NCAxMjguMjU2YTMyIDMyIDAgMSAxIDUyLjQ4LTM2LjczNmwzOTMuMDI0IDU2MS4zNDRhMTYwIDE2MCAwIDEgMS0yMy4zNiA3OC4yMDhsLTEwNi44OC0xNTIuNzA0em01NC40LTE4OS4yNDggMjA4LjM4NC0yOTcuNmEzMiAzMiAwIDAgMSA1Mi40OCAzNi43MzZsLTIyMS43NiAzMTYuNjcyLTM5LjA0LTU1LjgwOHptLTM3Ni4zMiA0MjUuODU2YTk2IDk2IDAgMSAwIDExMC4xNDQtMTU3LjI0OCA5NiA5NiAwIDAgMC0xMTAuMDggMTU3LjI0OHptNjQzLjg0IDBhOTYgOTYgMCAxIDAtMTEwLjA4LTE1Ny4yNDggOTYgOTYgMCAwIDAgMTEwLjA4IDE1Ny4yNDhcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zY2lzc29yLnZ1ZVxudmFyIHNjaXNzb3JfZGVmYXVsdCA9IHNjaXNzb3JfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3NlYXJjaC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMjUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyNSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMjUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjI1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHNlYXJjaF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMjUoe1xuICBuYW1lOiBcIlNlYXJjaFwiLFxuICBfX25hbWU6IFwic2VhcmNoXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMjUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIyNShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjI1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTc5NS45MDQgNzUwLjcyIDEyNC45OTIgMTI0LjkyOGEzMiAzMiAwIDAgMS00NS4yNDggNDUuMjQ4TDc1MC42NTYgNzk1LjkwNGE0MTYgNDE2IDAgMSAxIDQ1LjI0OC00NS4yNDh6TTQ4MCA4MzJhMzUyIDM1MiAwIDEgMCAwLTcwNCAzNTIgMzUyIDAgMCAwIDAgNzA0XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc2VhcmNoLnZ1ZVxudmFyIHNlYXJjaF9kZWZhdWx0ID0gc2VhcmNoX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zZWxlY3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjI2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjI2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIyNiB9IGZyb20gXCJ2dWVcIjtcbnZhciBzZWxlY3RfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjI2KHtcbiAgbmFtZTogXCJTZWxlY3RcIixcbiAgX19uYW1lOiBcInNlbGVjdFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjI2KCksIF9jcmVhdGVFbGVtZW50QmxvY2syMjYoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyNihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03Ny4yNDggNDE1LjA0YTY0IDY0IDAgMCAxIDkwLjQ5NiAwbDIyNi4zMDQgMjI2LjMwNEw4NDYuNTI4IDE4OC44YTY0IDY0IDAgMSAxIDkwLjU2IDkwLjQ5NmwtNTQzLjA0IDU0My4wNC0zMTYuOC0zMTYuOGE2NCA2NCAwIDAgMSAwLTkwLjQ5NnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zZWxlY3QudnVlXG52YXIgc2VsZWN0X2RlZmF1bHQgPSBzZWxlY3RfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3NlbGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjI3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjI3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIyNyB9IGZyb20gXCJ2dWVcIjtcbnZhciBzZWxsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIyNyh7XG4gIG5hbWU6IFwiU2VsbFwiLFxuICBfX25hbWU6IFwic2VsbFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjI3KCksIF9jcmVhdGVFbGVtZW50QmxvY2syMjcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyNyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03MDQgMjg4aDEzMS4wNzJhMzIgMzIgMCAwIDEgMzEuODA4IDI4LjhMODg2LjQgNTEyaC02NC4zODRsLTE2LTE2MEg3MDR2OTZhMzIgMzIgMCAxIDEtNjQgMHYtOTZIMzg0djk2YTMyIDMyIDAgMCAxLTY0IDB2LTk2SDIxNy45MmwtNTEuMiA1MTJINTEydjY0SDEzMS4zMjhhMzIgMzIgMCAwIDEtMzEuODA4LTM1LjJsNTcuNi01NzZhMzIgMzIgMCAwIDEgMzEuODA4LTI4LjhIMzIwdi0yMi4zMzZDMzIwIDE1NC42ODggNDA1LjUwNCA2NCA1MTIgNjRzMTkyIDkwLjY4OCAxOTIgMjAxLjY2NHYyMi40em0tNjQgMHYtMjIuMzM2QzY0MCAxODkuMjQ4IDU4Mi4yNzIgMTI4IDUxMiAxMjhjLTcwLjI3MiAwLTEyOCA2MS4yNDgtMTI4IDEzNy42NjR2MjIuNGgyNTZ6bTIwMS40MDggNDgzLjg0TDc2OCA2OTguNDk2VjkyOGEzMiAzMiAwIDEgMS02NCAwVjY5OC40OTZsLTczLjM0NCA3My4zNDRhMzIgMzIgMCAxIDEtNDUuMjQ4LTQ1LjI0OGwxMjgtMTI4YTMyIDMyIDAgMCAxIDQ1LjI0OCAwbDEyOCAxMjhhMzIgMzIgMCAxIDEtNDUuMjQ4IDQ1LjI0OHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zZWxsLnZ1ZVxudmFyIHNlbGxfZGVmYXVsdCA9IHNlbGxfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3NlbWktc2VsZWN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIyOCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjI4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIyOCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMjggfSBmcm9tIFwidnVlXCI7XG52YXIgc2VtaV9zZWxlY3RfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjI4KHtcbiAgbmFtZTogXCJTZW1pU2VsZWN0XCIsXG4gIF9fbmFtZTogXCJzZW1pLXNlbGVjdFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjI4KCksIF9jcmVhdGVFbGVtZW50QmxvY2syMjgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyOChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMjggNDQ4aDc2OHE2NCAwIDY0IDY0dC02NCA2NEgxMjhxLTY0IDAtNjQtNjR0NjQtNjRcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zZW1pLXNlbGVjdC52dWVcbnZhciBzZW1pX3NlbGVjdF9kZWZhdWx0ID0gc2VtaV9zZWxlY3RfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3NlcnZpY2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjI5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjI5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIyOSB9IGZyb20gXCJ2dWVcIjtcbnZhciBzZXJ2aWNlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIyOSh7XG4gIG5hbWU6IFwiU2VydmljZVwiLFxuICBfX25hbWU6IFwic2VydmljZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjI5KCksIF9jcmVhdGVFbGVtZW50QmxvY2syMjkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyOShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04NjQgNDA5LjZhMTkyIDE5MiAwIDAgMS0zNy44ODggMzQ5LjQ0QTI1Ni4wNjQgMjU2LjA2NCAwIDAgMSA1NzYgOTYwaC05NmEzMiAzMiAwIDEgMSAwLTY0aDk2YTE5Mi4wNjQgMTkyLjA2NCAwIDAgMCAxODEuMTItMTI4SDczNmEzMiAzMiAwIDAgMS0zMi0zMlY0MTZhMzIgMzIgMCAwIDEgMzItMzJoMzJjMTAuMzY4IDAgMjAuNTQ0LjgzMiAzMC41MjggMi40MzJhMjg4IDI4OCAwIDAgMC01NzMuMDU2IDBBMTkzLjIzNSAxOTMuMjM1IDAgMCAxIDI1NiAzODRoMzJhMzIgMzIgMCAwIDEgMzIgMzJ2MzIwYTMyIDMyIDAgMCAxLTMyIDMyaC0zMmExOTIgMTkyIDAgMCAxLTk2LTM1OC40IDM1MiAzNTIgMCAwIDEgNzA0IDBNMjU2IDQ0OGExMjggMTI4IDAgMSAwIDAgMjU2em02NDAgMTI4YTEyOCAxMjggMCAwIDAtMTI4LTEyOHYyNTZhMTI4IDEyOCAwIDAgMCAxMjgtMTI4XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc2VydmljZS52dWVcbnZhciBzZXJ2aWNlX2RlZmF1bHQgPSBzZXJ2aWNlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zZXQtdXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjMwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjMwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIzMCB9IGZyb20gXCJ2dWVcIjtcbnZhciBzZXRfdXBfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjMwKHtcbiAgbmFtZTogXCJTZXRVcFwiLFxuICBfX25hbWU6IFwic2V0LXVwXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMzAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIzMChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjMwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTIyNCAxNjBhNjQgNjQgMCAwIDAtNjQgNjR2NTc2YTY0IDY0IDAgMCAwIDY0IDY0aDU3NmE2NCA2NCAwIDAgMCA2NC02NFYyMjRhNjQgNjQgMCAwIDAtNjQtNjR6bTAtNjRoNTc2YTEyOCAxMjggMCAwIDEgMTI4IDEyOHY1NzZhMTI4IDEyOCAwIDAgMS0xMjggMTI4SDIyNEExMjggMTI4IDAgMCAxIDk2IDgwMFYyMjRBMTI4IDEyOCAwIDAgMSAyMjQgOTZcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjMwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM4NCA0MTZhNjQgNjQgMCAxIDAgMC0xMjggNjQgNjQgMCAwIDAgMCAxMjhtMCA2NGExMjggMTI4IDAgMSAxIDAtMjU2IDEyOCAxMjggMCAwIDEgMCAyNTZcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjMwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCAzMjBoMjU2cTMyIDAgMzIgMzJ0LTMyIDMySDQ4MHEtMzIgMC0zMi0zMnQzMi0zMm0xNjAgNDE2YTY0IDY0IDAgMSAwIDAtMTI4IDY0IDY0IDAgMCAwIDAgMTI4bTAgNjRhMTI4IDEyOCAwIDEgMSAwLTI1NiAxMjggMTI4IDAgMCAxIDAgMjU2XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzMChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yODggNjQwaDI1NnEzMiAwIDMyIDMydC0zMiAzMkgyODhxLTMyIDAtMzItMzJ0MzItMzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zZXQtdXAudnVlXG52YXIgc2V0X3VwX2RlZmF1bHQgPSBzZXRfdXBfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3NldHRpbmcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjMxIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjMxLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIzMSB9IGZyb20gXCJ2dWVcIjtcbnZhciBzZXR0aW5nX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIzMSh7XG4gIG5hbWU6IFwiU2V0dGluZ1wiLFxuICBfX25hbWU6IFwic2V0dGluZ1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjMxKCksIF9jcmVhdGVFbGVtZW50QmxvY2syMzEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzMShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02MDAuNzA0IDY0YTMyIDMyIDAgMCAxIDMwLjQ2NCAyMi4yMDhsMzUuMiAxMDkuMzc2YzE0Ljc4NCA3LjIzMiAyOC45MjggMTUuMzYgNDIuNDMyIDI0LjUxMmwxMTIuMzg0LTI0LjE5MmEzMiAzMiAwIDAgMSAzNC40MzIgMTUuMzZMOTQ0LjMyIDM2NC44YTMyIDMyIDAgMCAxLTQuMDMyIDM3LjUwNGwtNzcuMTIgODUuMTJhMzU3LjEyIDM1Ny4xMiAwIDAgMSAwIDQ5LjAyNGw3Ny4xMiA4NS4yNDhhMzIgMzIgMCAwIDEgNC4wMzIgMzcuNTA0bC04OC43MDQgMTUzLjZhMzIgMzIgMCAwIDEtMzQuNDMyIDE1LjI5Nkw3MDguOCA4MDMuOTA0Yy0xMy40NCA5LjA4OC0yNy42NDggMTcuMjgtNDIuMzY4IDI0LjUxMmwtMzUuMjY0IDEwOS4zNzZBMzIgMzIgMCAwIDEgNjAwLjcwNCA5NjBINDIzLjI5NmEzMiAzMiAwIDAgMS0zMC40NjQtMjIuMjA4TDM1Ny42OTYgODI4LjQ4YTM1MS42MTYgMzUxLjYxNiAwIDAgMS00Mi41Ni0yNC42NGwtMTEyLjMyIDI0LjI1NmEzMiAzMiAwIDAgMS0zNC40MzItMTUuMzZMNzkuNjggNjU5LjJhMzIgMzIgMCAwIDEgNC4wMzItMzcuNTA0bDc3LjEyLTg1LjI0OGEzNTcuMTIgMzU3LjEyIDAgMCAxIDAtNDguODk2bC03Ny4xMi04NS4yNDhBMzIgMzIgMCAwIDEgNzkuNjggMzY0LjhsODguNzA0LTE1My42YTMyIDMyIDAgMCAxIDM0LjQzMi0xNS4yOTZsMTEyLjMyIDI0LjI1NmMxMy41NjgtOS4xNTIgMjcuNzc2LTE3LjQwOCA0Mi41Ni0yNC42NGwzNS4yLTEwOS4zMTJBMzIgMzIgMCAwIDEgNDIzLjIzMiA2NEg2MDAuNjR6bS0yMy40MjQgNjRINDQ2LjcybC0zNi4zNTIgMTEzLjA4OC0yNC41MTIgMTEuOTY4YTI5NC4xMTMgMjk0LjExMyAwIDAgMC0zNC44MTYgMjAuMDk2bC0yMi42NTYgMTUuMzYtMTE2LjIyNC0yNS4wODgtNjUuMjggMTEzLjE1MiA3OS42OCA4OC4xOTItMS45MiAyNy4xMzZhMjkzLjEyIDI5My4xMiAwIDAgMCAwIDQwLjE5MmwxLjkyIDI3LjEzNi03OS44MDggODguMTkyIDY1LjM0NCAxMTMuMTUyIDExNi4yMjQtMjUuMDI0IDIyLjY1NiAxNS4yOTZhMjk0LjExMyAyOTQuMTEzIDAgMCAwIDM0LjgxNiAyMC4wOTZsMjQuNTEyIDExLjk2OEw0NDYuNzIgODk2aDEzMC42ODhsMzYuNDgtMTEzLjE1MiAyNC40NDgtMTEuOTA0YTI4OC4yODIgMjg4LjI4MiAwIDAgMCAzNC43NTItMjAuMDk2bDIyLjU5Mi0xNS4yOTYgMTE2LjI4OCAyNS4wMjQgNjUuMjgtMTEzLjE1Mi03OS43NDQtODguMTkyIDEuOTItMjcuMTM2YTI5My4xMiAyOTMuMTIgMCAwIDAgMC00MC4yNTZsLTEuOTItMjcuMTM2IDc5LjgwOC04OC4xMjgtNjUuMzQ0LTExMy4xNTItMTE2LjI4OCAyNC45Ni0yMi41OTItMTUuMjMyYTI4Ny42MTYgMjg3LjYxNiAwIDAgMC0zNC43NTItMjAuMDk2bC0yNC40NDgtMTEuOTA0TDU3Ny4zNDQgMTI4ek01MTIgMzIwYTE5MiAxOTIgMCAxIDEgMCAzODQgMTkyIDE5MiAwIDAgMSAwLTM4NG0wIDY0YTEyOCAxMjggMCAxIDAgMCAyNTYgMTI4IDEyOCAwIDAgMCAwLTI1NlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3NldHRpbmcudnVlXG52YXIgc2V0dGluZ19kZWZhdWx0ID0gc2V0dGluZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc2hhcmUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjMyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjMyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIzMiB9IGZyb20gXCJ2dWVcIjtcbnZhciBzaGFyZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMzIoe1xuICBuYW1lOiBcIlNoYXJlXCIsXG4gIF9fbmFtZTogXCJzaGFyZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjMyKCksIF9jcmVhdGVFbGVtZW50QmxvY2syMzIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzMihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm02NzkuODcyIDM0OC44LTMwMS43NiAxODguNjA4YTEyNy44MDggMTI3LjgwOCAwIDAgMSA1LjEyIDUyLjE2bDI3OS45MzYgMTA0Ljk2YTEyOCAxMjggMCAxIDEtMjIuNDY0IDU5LjkwNGwtMjc5Ljg3Mi0xMDQuOTZhMTI4IDEyOCAwIDEgMS0xNi42NC0xNjYuMjcybDMwMS42OTYtMTg4LjYwOGExMjggMTI4IDAgMSAxIDMzLjkyIDU0LjI3MnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zaGFyZS52dWVcbnZhciBzaGFyZV9kZWZhdWx0ID0gc2hhcmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3NoaXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjMzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjMzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIzMyB9IGZyb20gXCJ2dWVcIjtcbnZhciBzaGlwX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIzMyh7XG4gIG5hbWU6IFwiU2hpcFwiLFxuICBfX25hbWU6IFwic2hpcFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjMzKCksIF9jcmVhdGVFbGVtZW50QmxvY2syMzMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzMyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgMzg2Ljg4VjQ0OGg0MDUuNTY4YTMyIDMyIDAgMCAxIDMwLjcyIDQwLjc2OGwtNzYuNDggMjY3Ljk2OEExOTIgMTkyIDAgMCAxIDY4Ny4xNjggODk2SDMzNi44MzJhMTkyIDE5MiAwIDAgMS0xODQuNjQtMTM5LjI2NEw3NS42NDggNDg4Ljc2OEEzMiAzMiAwIDAgMSAxMDYuMzY4IDQ0OEg0NDhWMTE3Ljg4OGEzMiAzMiAwIDAgMSA0Ny4zNi0yOC4wOTZsMTMuODg4IDcuNjE2TDUxMiA5NnYyLjg4bDIzMS42OCAxMjYuNGEzMiAzMiAwIDAgMS0yLjA0OCA1Ny4yMTZ6bTAtNzAuMjcyIDE0NC43NjgtNjUuNzkyTDUxMiAxNzEuODR6TTUxMiA1MTJIMTQ4Ljg2NGwxOC4yNCA2NEg4NTYuOTZsMTguMjQtNjR6TTE4NS40MDggNjQwbDI4LjM1MiA5OS4yQTEyOCAxMjggMCAwIDAgMzM2LjgzMiA4MzJoMzUwLjMzNmExMjggMTI4IDAgMCAwIDEyMy4wNzItOTIuOGwyOC4zNTItOTkuMkgxODUuNDA4XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc2hpcC52dWVcbnZhciBzaGlwX2RlZmF1bHQgPSBzaGlwX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zaG9wLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIzNCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjM0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIzNCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMzQgfSBmcm9tIFwidnVlXCI7XG52YXIgc2hvcF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMzQoe1xuICBuYW1lOiBcIlNob3BcIixcbiAgX19uYW1lOiBcInNob3BcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIzNCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjM0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzA0IDcwNGg2NHYxOTJIMjU2VjcwNGg2NHY2NGgzODR6bTE4OC41NDQtMTUyLjE5MkM4OTQuNTI4IDU1OS42MTYgODk2IDU2Ny42MTYgODk2IDU3NmE5NiA5NiAwIDEgMS0xOTIgMCA5NiA5NiAwIDEgMS0xOTIgMCA5NiA5NiAwIDEgMS0xOTIgMCA5NiA5NiAwIDEgMS0xOTIgMGMwLTguMzg0IDEuNDA4LTE2LjM4NCAzLjM5Mi0yNC4xOTJMMTkyIDEyOGg2NDB6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc2hvcC52dWVcbnZhciBzaG9wX2RlZmF1bHQgPSBzaG9wX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zaG9wcGluZy1iYWcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjM1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjM1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIzNSB9IGZyb20gXCJ2dWVcIjtcbnZhciBzaG9wcGluZ19iYWdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjM1KHtcbiAgbmFtZTogXCJTaG9wcGluZ0JhZ1wiLFxuICBfX25hbWU6IFwic2hvcHBpbmctYmFnXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMzUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIzNShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjM1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTcwNCAzMjB2OTZhMzIgMzIgMCAwIDEtMzIgMzJoLTMyVjMyMEgzODR2MTI4aC0zMmEzMiAzMiAwIDAgMS0zMi0zMnYtOTZIMTkydjU3Nmg2NDBWMzIwem0tMzg0LTY0YTE5MiAxOTIgMCAxIDEgMzg0IDBoMTYwYTMyIDMyIDAgMCAxIDMyIDMydjY0MGEzMiAzMiAwIDAgMS0zMiAzMkgxNjBhMzIgMzIgMCAwIDEtMzItMzJWMjg4YTMyIDMyIDAgMCAxIDMyLTMyem02NCAwaDI1NmExMjggMTI4IDAgMSAwLTI1NiAwXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzNShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xOTIgNzA0aDY0MHY2NEgxOTJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc2hvcHBpbmctYmFnLnZ1ZVxudmFyIHNob3BwaW5nX2JhZ19kZWZhdWx0ID0gc2hvcHBpbmdfYmFnX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zaG9wcGluZy1jYXJ0LWZ1bGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjM2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjM2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIzNiB9IGZyb20gXCJ2dWVcIjtcbnZhciBzaG9wcGluZ19jYXJ0X2Z1bGxfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjM2KHtcbiAgbmFtZTogXCJTaG9wcGluZ0NhcnRGdWxsXCIsXG4gIF9fbmFtZTogXCJzaG9wcGluZy1jYXJ0LWZ1bGxcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIzNigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjM2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDMyIDkyOGE0OCA0OCAwIDEgMSAwLTk2IDQ4IDQ4IDAgMCAxIDAgOTZtMzIwIDBhNDggNDggMCAxIDEgMC05NiA0OCA0OCAwIDAgMSAwIDk2TTk2IDEyOGEzMiAzMiAwIDAgMSAwLTY0aDE2MGEzMiAzMiAwIDAgMSAzMS4zNiAyNS43MjhMMzIwLjY0IDI1Nkg5MjhhMzIgMzIgMCAwIDEgMzEuMjk2IDM4LjcybC05NiA0NDhBMzIgMzIgMCAwIDEgODMyIDc2OEgzODRhMzIgMzIgMCAwIDEtMzEuMzYtMjUuNzI4TDIyOS43NiAxMjh6bTMxNC4yNCA1NzZoMzk1LjkwNGw4Mi4zMDQtMzg0SDMzMy40NGw3Ni44IDM4NHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjM2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTY5OS42NDggMjU2IDYwOCAxNDUuOTg0IDUxNi4zNTIgMjU2aDE4My4yOTZ6bS0xNDAuOC0xNTEuMDRhNjQgNjQgMCAwIDEgOTguMzA0IDBMODM2LjM1MiAzMjBIMzc5LjY0OGwxNzkuMi0yMTUuMDRcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zaG9wcGluZy1jYXJ0LWZ1bGwudnVlXG52YXIgc2hvcHBpbmdfY2FydF9mdWxsX2RlZmF1bHQgPSBzaG9wcGluZ19jYXJ0X2Z1bGxfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3Nob3BwaW5nLWNhcnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjM3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjM3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIzNyB9IGZyb20gXCJ2dWVcIjtcbnZhciBzaG9wcGluZ19jYXJ0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIzNyh7XG4gIG5hbWU6IFwiU2hvcHBpbmdDYXJ0XCIsXG4gIF9fbmFtZTogXCJzaG9wcGluZy1jYXJ0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMzcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIzNyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjM3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQzMiA5MjhhNDggNDggMCAxIDEgMC05NiA0OCA0OCAwIDAgMSAwIDk2bTMyMCAwYTQ4IDQ4IDAgMSAxIDAtOTYgNDggNDggMCAwIDEgMCA5Nk05NiAxMjhhMzIgMzIgMCAwIDEgMC02NGgxNjBhMzIgMzIgMCAwIDEgMzEuMzYgMjUuNzI4TDMyMC42NCAyNTZIOTI4YTMyIDMyIDAgMCAxIDMxLjI5NiAzOC43MmwtOTYgNDQ4QTMyIDMyIDAgMCAxIDgzMiA3NjhIMzg0YTMyIDMyIDAgMCAxLTMxLjM2LTI1LjcyOEwyMjkuNzYgMTI4em0zMTQuMjQgNTc2aDM5NS45MDRsODIuMzA0LTM4NEgzMzMuNDRsNzYuOCAzODR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc2hvcHBpbmctY2FydC52dWVcbnZhciBzaG9wcGluZ19jYXJ0X2RlZmF1bHQgPSBzaG9wcGluZ19jYXJ0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zaG9wcGluZy10cm9sbGV5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIzOCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjM4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIzOCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMzggfSBmcm9tIFwidnVlXCI7XG52YXIgc2hvcHBpbmdfdHJvbGxleV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMzgoe1xuICBuYW1lOiBcIlNob3BwaW5nVHJvbGxleVwiLFxuICBfX25hbWU6IFwic2hvcHBpbmctdHJvbGxleVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjM4KCksIF9jcmVhdGVFbGVtZW50QmxvY2syMzgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwieG1sOnNwYWNlXCI6IFwicHJlc2VydmVcIixcbiAgICAgIHN0eWxlOiB7IFwiZW5hYmxlLWJhY2tncm91bmRcIjogXCJuZXcgMCAwIDEwMjQgMTAyNFwiIH0sXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzY4IDgzM2MtMTMuMyAwLTI0LjUgNC41LTMzLjUgMTMuNVMzMjEgODY2LjcgMzIxIDg4MHM0LjUgMjQuNSAxMy41IDMzLjUgMjAuMiAxMy44IDMzLjUgMTQuNWMxMy4zLS43IDI0LjUtNS41IDMzLjUtMTQuNVM0MTUgODkzLjMgNDE1IDg4MHMtNC41LTI0LjUtMTMuNS0zMy41UzM4MS4zIDgzMyAzNjggODMzbTQzOS0xOTNjNy40IDAgMTMuOC0yLjIgMTkuNS02LjVTODM2IDYyMy4zIDgzOCA2MTZsMTEyLTQ0OGMyLTEwLS4yLTE5LjItNi41LTI3LjVTOTI5IDEyOCA5MTkgMTI4SDk2Yy05LjMgMC0xNyAzLTIzIDlzLTkgMTMuNy05IDIzIDMgMTcgOSAyMyAxMy43IDkgMjMgOWg5NnY1NzZoNjcyYzkuMyAwIDE3LTMgMjMtOXM5LTEzLjcgOS0yMy0zLTE3LTktMjMtMTMuNy05LTIzLTlIMjU2di02NHpNMjU2IDE5Mmg2MjJsLTk2IDM4NEgyNTZ6bTQzMiA2NDFjLTEzLjMgMC0yNC41IDQuNS0zMy41IDEzLjVTNjQxIDg2Ni43IDY0MSA4ODBzNC41IDI0LjUgMTMuNSAzMy41IDIwLjIgMTMuOCAzMy41IDE0LjVjMTMuMy0uNyAyNC41LTUuNSAzMy41LTE0LjVTNzM1IDg5My4zIDczNSA4ODBzLTQuNS0yNC41LTEzLjUtMzMuNVM3MDEuMyA4MzMgNjg4IDgzM1wiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3Nob3BwaW5nLXRyb2xsZXkudnVlXG52YXIgc2hvcHBpbmdfdHJvbGxleV9kZWZhdWx0ID0gc2hvcHBpbmdfdHJvbGxleV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc21va2luZy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMzkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzOSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMzksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjM5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHNtb2tpbmdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjM5KHtcbiAgbmFtZTogXCJTbW9raW5nXCIsXG4gIF9fbmFtZTogXCJzbW9raW5nXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMzkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIzOShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjM5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI1NiA1NzZ2MTI4aDY0MFY1NzZ6bS0zMi02NGg3MDRhMzIgMzIgMCAwIDEgMzIgMzJ2MTkyYTMyIDMyIDAgMCAxLTMyIDMySDIyNGEzMiAzMiAwIDAgMS0zMi0zMlY1NDRhMzIgMzIgMCAwIDEgMzItMzJcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjM5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTcwNCA1NzZoNjR2MTI4aC02NHpNMjU2IDY0aDY0djMyMGgtNjR6TTEyOCAxOTJoNjR2MTkyaC02NHpNNjQgNTEyaDY0djI1Nkg2NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zbW9raW5nLnZ1ZVxudmFyIHNtb2tpbmdfZGVmYXVsdCA9IHNtb2tpbmdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3NvY2Nlci52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNDAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0MCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNDAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjQwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHNvY2Nlcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNDAoe1xuICBuYW1lOiBcIlNvY2NlclwiLFxuICBfX25hbWU6IFwic29jY2VyXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNDAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI0MChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjQwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQxOC40OTYgODcxLjA0IDE1Mi4yNTYgNjA0LjhjLTE2LjUxMiA5NC4wMTYtMi4zNjggMTc4LjYyNCA0Mi45NDQgMjI0IDQ0LjkyOCA0NC45MjggMTI5LjM0NCA1OC43NTIgMjIzLjI5NiA0Mi4yNG03Mi4zMi0xOC4xNzZhNTczLjA1NiA1NzMuMDU2IDAgMCAwIDIyNC44MzItMTM3LjIxNiA1NzMuMTIgNTczLjEyIDAgMCAwIDEzNy4yMTYtMjI0LjgzMkw1MzMuODg4IDE3MS44NGE1NzguNTYgNTc4LjU2IDAgMCAwLTIyNy41MiAxMzguNDk2QTU2Ny42OCA1NjcuNjggMCAwIDAgMTcwLjQzMiA1MzIuNDhsMzIwLjM4NCAzMjAuMzg0ek04NzEuMDQgNDE4LjQ5NmMxNi41MTItOTMuOTUyIDIuNjg4LTE3OC4zNjgtNDIuMjQtMjIzLjI5Ni00NC41NDQtNDQuNTQ0LTEyOC43MDQtNTguMDQ4LTIyMi41OTItNDEuNTM2ek0xNDkuOTUyIDg3NC4wNDhjLTExMi45Ni0xMTIuOTYtODguODMyLTQwOC45NiAxMTEuMTY4LTYwOC45NkM0NjEuMDU2IDY1LjE1MiA3NjAuOTYgMzYuOTI4IDg3NC4wNDggMTQ5Ljk1MmMxMTMuMDI0IDExMy4wMjQgODYuNzg0IDQxMS4wMDgtMTEzLjE1MiA2MTAuOTQ0LTE5OS45MzYgMTk5LjkzNi00OTcuOTIgMjI2LjExMi02MTAuOTQ0IDExMy4xNTJtNDUyLjU0NC00OTcuNzkyIDIyLjY1Ni0yMi42NTZhMzIgMzIgMCAwIDEgNDUuMjQ4IDQ1LjI0OGwtMjIuNjU2IDIyLjY1NiA0NS4yNDggNDUuMjQ4QTMyIDMyIDAgMSAxIDY0Ny43NDQgNTEybC00NS4yNDgtNDUuMjQ4TDU1Ny4yNDggNTEybDQ1LjI0OCA0NS4yNDhhMzIgMzIgMCAxIDEtNDUuMjQ4IDQ1LjI0OEw1MTIgNTU3LjI0OGwtNDUuMjQ4IDQ1LjI0OEw1MTIgNjQ3Ljc0NGEzMiAzMiAwIDEgMS00NS4yNDggNDUuMjQ4bC00NS4yNDgtNDUuMjQ4LTIyLjY1NiAyMi42NTZhMzIgMzIgMCAxIDEtNDUuMjQ4LTQ1LjI0OGwyMi42NTYtMjIuNjU2LTQ1LjI0OC00NS4yNDhBMzIgMzIgMCAxIDEgMzc2LjI1NiA1MTJsNDUuMjQ4IDQ1LjI0OEw0NjYuNzUyIDUxMmwtNDUuMjQ4LTQ1LjI0OGEzMiAzMiAwIDEgMSA0NS4yNDgtNDUuMjQ4TDUxMiA0NjYuNzUybDQ1LjI0OC00NS4yNDhMNTEyIDM3Ni4yNTZhMzIgMzIgMCAwIDEgNDUuMjQ4LTQ1LjI0OGw0NS4yNDggNDUuMjQ4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3NvY2Nlci52dWVcbnZhciBzb2NjZXJfZGVmYXVsdCA9IHNvY2Nlcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc29sZC1vdXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjQxIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjQxLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI0MSB9IGZyb20gXCJ2dWVcIjtcbnZhciBzb2xkX291dF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNDEoe1xuICBuYW1lOiBcIlNvbGRPdXRcIixcbiAgX19uYW1lOiBcInNvbGQtb3V0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNDEoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI0MShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjQxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTcwNCAyODhoMTMxLjA3MmEzMiAzMiAwIDAgMSAzMS44MDggMjguOEw4ODYuNCA1MTJoLTY0LjM4NGwtMTYtMTYwSDcwNHY5NmEzMiAzMiAwIDEgMS02NCAwdi05NkgzODR2OTZhMzIgMzIgMCAwIDEtNjQgMHYtOTZIMjE3LjkybC01MS4yIDUxMkg1MTJ2NjRIMTMxLjMyOGEzMiAzMiAwIDAgMS0zMS44MDgtMzUuMmw1Ny42LTU3NmEzMiAzMiAwIDAgMSAzMS44MDgtMjguOEgzMjB2LTIyLjMzNkMzMjAgMTU0LjY4OCA0MDUuNTA0IDY0IDUxMiA2NHMxOTIgOTAuNjg4IDE5MiAyMDEuNjY0djIyLjR6bS02NCAwdi0yMi4zMzZDNjQwIDE4OS4yNDggNTgyLjI3MiAxMjggNTEyIDEyOGMtNzAuMjcyIDAtMTI4IDYxLjI0OC0xMjggMTM3LjY2NHYyMi40aDI1NnptMjAxLjQwOCA0NzYuMTZhMzIgMzIgMCAxIDEgNDUuMjQ4IDQ1LjE4NGwtMTI4IDEyOGEzMiAzMiAwIDAgMS00NS4yNDggMGwtMTI4LTEyOGEzMiAzMiAwIDEgMSA0NS4yNDgtNDUuMjQ4TDcwNCA4MzcuNTA0VjYwOGEzMiAzMiAwIDEgMSA2NCAwdjIyOS41MDRsNzMuNDA4LTczLjQwOHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zb2xkLW91dC52dWVcbnZhciBzb2xkX291dF9kZWZhdWx0ID0gc29sZF9vdXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3NvcnQtZG93bi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNDIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0Miwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNDIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjQyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHNvcnRfZG93bl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNDIoe1xuICBuYW1lOiBcIlNvcnREb3duXCIsXG4gIF9fbmFtZTogXCJzb3J0LWRvd25cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI0MigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjQyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTc2IDk2djcwOS41NjhMMzMzLjMxMiA1NjIuODE2QTMyIDMyIDAgMSAwIDI4OCA2MDhsMjk3LjQwOCAyOTcuMzQ0QTMyIDMyIDAgMCAwIDY0MCA4ODIuNjg4Vjk2YTMyIDMyIDAgMCAwLTY0IDBcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zb3J0LWRvd24udnVlXG52YXIgc29ydF9kb3duX2RlZmF1bHQgPSBzb3J0X2Rvd25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3NvcnQtdXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjQzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjQzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI0MyB9IGZyb20gXCJ2dWVcIjtcbnZhciBzb3J0X3VwX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI0Myh7XG4gIG5hbWU6IFwiU29ydFVwXCIsXG4gIF9fbmFtZTogXCJzb3J0LXVwXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNDMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI0MyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjQzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM4NCAxNDEuMjQ4VjkyOGEzMiAzMiAwIDEgMCA2NCAwVjIxOC41NmwyNDIuNjg4IDI0Mi42ODhBMzIgMzIgMCAxIDAgNzM2IDQxNkw0MzguNTkyIDExOC42NTZBMzIgMzIgMCAwIDAgMzg0IDE0MS4yNDhcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zb3J0LXVwLnZ1ZVxudmFyIHNvcnRfdXBfZGVmYXVsdCA9IHNvcnRfdXBfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3NvcnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjQ0IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjQ0LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI0NCB9IGZyb20gXCJ2dWVcIjtcbnZhciBzb3J0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI0NCh7XG4gIG5hbWU6IFwiU29ydFwiLFxuICBfX25hbWU6IFwic29ydFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjQ0KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNDQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0NChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zODQgOTZhMzIgMzIgMCAwIDEgNjQgMHY3ODYuNzUyYTMyIDMyIDAgMCAxLTU0LjU5MiAyMi42NTZMOTUuOTM2IDYwOGEzMiAzMiAwIDAgMSAwLTQ1LjMxMmguMTI4YTMyIDMyIDAgMCAxIDQ1LjE4NCAwTDM4NCA4MDUuNjMyem0xOTIgNDUuMjQ4YTMyIDMyIDAgMCAxIDU0LjU5Mi0yMi41OTJMOTI4LjA2NCA0MTZhMzIgMzIgMCAwIDEgMCA0NS4zMTJoLS4xMjhhMzIgMzIgMCAwIDEtNDUuMTg0IDBMNjQwIDIxOC40OTZWOTI4YTMyIDMyIDAgMSAxLTY0IDBWMTQxLjI0OHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zb3J0LnZ1ZVxudmFyIHNvcnRfZGVmYXVsdCA9IHNvcnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3N0YW1wLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI0NSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjQ1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI0NSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNDUgfSBmcm9tIFwidnVlXCI7XG52YXIgc3RhbXBfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjQ1KHtcbiAgbmFtZTogXCJTdGFtcFwiLFxuICBfX25hbWU6IFwic3RhbXBcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI0NSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjQ1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjI0IDQ3NS45NjhWNjQwaDE0NGExMjggMTI4IDAgMCAxIDEyOCAxMjhIMTI4YTEyOCAxMjggMCAwIDEgMTI4LTEyOGgxNDRWNDc1Ljk2OGExOTIgMTkyIDAgMSAxIDIyNCAwTTEyOCA4OTZ2LTY0aDc2OHY2NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zdGFtcC52dWVcbnZhciBzdGFtcF9kZWZhdWx0ID0gc3RhbXBfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3N0YXItZmlsbGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI0NiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjQ2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI0NiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNDYgfSBmcm9tIFwidnVlXCI7XG52YXIgc3Rhcl9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjQ2KHtcbiAgbmFtZTogXCJTdGFyRmlsbGVkXCIsXG4gIF9fbmFtZTogXCJzdGFyLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjQ2KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNDYoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yODMuODQgODY3Ljg0IDUxMiA3NDcuNzc2bDIyOC4xNiAxMTkuOTM2YTYuNCA2LjQgMCAwIDAgOS4yOC02LjcybC00My41Mi0yNTQuMDggMTg0LjUxMi0xNzkuOTA0YTYuNCA2LjQgMCAwIDAtMy41Mi0xMC44OGwtMjU1LjEwNC0zNy4xMkw1MTcuNzYgMTQ3LjkwNGE2LjQgNi40IDAgMCAwLTExLjUyIDBMMzkyLjE5MiAzNzkuMDcybC0yNTUuMTA0IDM3LjEyYTYuNCA2LjQgMCAwIDAtMy41MiAxMC44OEwzMTguMDggNjA2Ljk3NmwtNDMuNTg0IDI1NC4wOGE2LjQgNi40IDAgMCAwIDkuMjggNi43MnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zdGFyLWZpbGxlZC52dWVcbnZhciBzdGFyX2ZpbGxlZF9kZWZhdWx0ID0gc3Rhcl9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3N0YXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjQ3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjQ3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI0NyB9IGZyb20gXCJ2dWVcIjtcbnZhciBzdGFyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI0Nyh7XG4gIG5hbWU6IFwiU3RhclwiLFxuICBfX25hbWU6IFwic3RhclwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjQ3KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNDcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm01MTIgNzQ3Ljg0IDIyOC4xNiAxMTkuOTM2YTYuNCA2LjQgMCAwIDAgOS4yOC02LjcybC00My41Mi0yNTQuMDggMTg0LjUxMi0xNzkuOTA0YTYuNCA2LjQgMCAwIDAtMy41Mi0xMC44OGwtMjU1LjEwNC0zNy4xMkw1MTcuNzYgMTQ3LjkwNGE2LjQgNi40IDAgMCAwLTExLjUyIDBMMzkyLjE5MiAzNzkuMDcybC0yNTUuMTA0IDM3LjEyYTYuNCA2LjQgMCAwIDAtMy41MiAxMC44OEwzMTguMDggNjA2Ljk3NmwtNDMuNTg0IDI1NC4wOGE2LjQgNi40IDAgMCAwIDkuMjggNi43MnpNMzEzLjYgOTI0LjQ4YTcwLjQgNzAuNCAwIDAgMS0xMDIuMTQ0LTc0LjI0bDM3Ljg4OC0yMjAuOTI4TDg4Ljk2IDQ3Mi45NkE3MC40IDcwLjQgMCAwIDEgMTI4IDM1Mi44OTZsMjIxLjc2LTMyLjI1NiA5OS4yLTIwMC45NmE3MC40IDcwLjQgMCAwIDEgMTI2LjIwOCAwbDk5LjIgMjAwLjk2IDIyMS44MjQgMzIuMjU2YTcwLjQgNzAuNCAwIDAgMSAzOS4wNCAxMjAuMDY0TDc3NC43MiA2MjkuMzc2bDM3Ljg4OCAyMjAuOTI4YTcwLjQgNzAuNCAwIDAgMS0xMDIuMTQ0IDc0LjI0TDUxMiA4MjAuMDk2bC0xOTguNCAxMDQuMzJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc3Rhci52dWVcbnZhciBzdGFyX2RlZmF1bHQgPSBzdGFyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zdG9wd2F0Y2gudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjQ4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjQ4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI0OCB9IGZyb20gXCJ2dWVcIjtcbnZhciBzdG9wd2F0Y2hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjQ4KHtcbiAgbmFtZTogXCJTdG9wd2F0Y2hcIixcbiAgX19uYW1lOiBcInN0b3B3YXRjaFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjQ4KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNDgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0OChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgODk2YTM4NCAzODQgMCAxIDAgMC03NjggMzg0IDM4NCAwIDAgMCAwIDc2OG0wIDY0YTQ0OCA0NDggMCAxIDEgMC04OTYgNDQ4IDQ0OCAwIDAgMSAwIDg5NlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjcyIDIzNC44OGMtMzkuMTY4IDE3NC40NjQtODAgMjk4LjYyNC0xMjIuNjg4IDM3Mi40OC02NCAxMTAuODQ4LTIwMi42MjQgMzAuODQ4LTEzOC42MjQtODBDNDUzLjM3NiA0NTMuNDQgNTQwLjQ4IDM1NS45NjggNjcyIDIzNC44MTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc3RvcHdhdGNoLnZ1ZVxudmFyIHN0b3B3YXRjaF9kZWZhdWx0ID0gc3RvcHdhdGNoX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zdWNjZXNzLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNDkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0OSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNDksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjQ5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHN1Y2Nlc3NfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI0OSh7XG4gIG5hbWU6IFwiU3VjY2Vzc0ZpbGxlZFwiLFxuICBfX25hbWU6IFwic3VjY2Vzcy1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI0OSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjQ5KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0YTQ0OCA0NDggMCAxIDEgMCA4OTYgNDQ4IDQ0OCAwIDAgMSAwLTg5Nm0tNTUuODA4IDUzNi4zODQtOTkuNTItOTkuNTg0YTM4LjQgMzguNCAwIDEgMC01NC4zMzYgNTQuMzM2bDEyNi43MiAxMjYuNzJhMzguMjcyIDM4LjI3MiAwIDAgMCA1NC4zMzYgMGwyNjIuNC0yNjIuNDY0YTM4LjQgMzguNCAwIDEgMC01NC4yNzItNTQuMzM2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3N1Y2Nlc3MtZmlsbGVkLnZ1ZVxudmFyIHN1Y2Nlc3NfZmlsbGVkX2RlZmF1bHQgPSBzdWNjZXNzX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc3VnYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjUwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNTAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjUwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI1MCB9IGZyb20gXCJ2dWVcIjtcbnZhciBzdWdhcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNTAoe1xuICBuYW1lOiBcIlN1Z2FyXCIsXG4gIF9fbmFtZTogXCJzdWdhclwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjUwKCksIF9jcmVhdGVFbGVtZW50QmxvY2syNTAoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm04MDEuNzI4IDM0OS4xODQgNC40OCA0LjQ4YTEyOCAxMjggMCAwIDEgMCAxODAuOTkyTDUzNC42NTYgODA2LjE0NGExMjggMTI4IDAgMCAxLTE4MS4wNTYgMGwtNC40OC00LjQ4LTE5LjM5MiAxMDkuNjk2YTY0IDY0IDAgMCAxLTEwOC4yODggMzQuMTc2TDc4LjQ2NCA4MDIuNTZhNjQgNjQgMCAwIDEgMzQuMTc2LTEwOC4yODhsMTA5Ljc2LTE5LjMyOC00LjU0NC00LjU0NGExMjggMTI4IDAgMCAxIDAtMTgxLjA1NmwyNzEuNDg4LTI3MS40ODhhMTI4IDEyOCAwIDAgMSAxODEuMDU2IDBsNC40OCA0LjQ4IDE5LjM5Mi0xMDkuNTA0YTY0IDY0IDAgMCAxIDEwOC4zNTItMzQuMDQ4bDE0Mi41OTIgMTQzLjA0YTY0IDY0IDAgMCAxLTM0LjI0IDEwOC4xNmwtMTA5LjI0OCAxOS4yem0tNTQ4LjggMTk4LjcyaDQ0Ny4xNjh2Mi4yNGw2MC44LTYwLjhhNjMuODA4IDYzLjgwOCAwIDAgMCAxOC43NTItNDQuNDE2aC00MjYuODhsLTg5LjY2NCA4OS43MjhhNjQuMDY0IDY0LjA2NCAwIDAgMC0xMC4yNCAxMy4yNDh6bTAgNjRjMi43NTIgNC43MzYgNi4xNDQgOS4xNTIgMTAuMTc2IDEzLjI0OGwxMzUuNzQ0IDEzNS43NDRhNjQgNjQgMCAwIDAgOTAuNDk2IDBMNjM4LjQgNjExLjkwNHptNDkwLjA0OC0yMzAuOTc2TDYyNS4xNTIgMjYzLjEwNGE2NCA2NCAwIDAgMC05MC40OTYgMEw0MTYuNzY4IDM4MC45Mjh6TTEyMy43MTIgNzU3LjMxMmwxNDIuOTc2IDE0Mi45NzYgMjQuMzItMTM3LjZhMjUuNiAyNS42IDAgMCAwLTI5LjY5Ni0yOS42MzJsLTEzNy42IDI0LjI1NnptNjMzLjYtNjMzLjM0NC0yNC4zMiAxMzcuNDcyYTI1LjYgMjUuNiAwIDAgMCAyOS42MzIgMjkuNjMybDEzNy4yOC0yNC4wNjQtMTQyLjY1Ni0xNDMuMDR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc3VnYXIudnVlXG52YXIgc3VnYXJfZGVmYXVsdCA9IHN1Z2FyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zdWl0Y2FzZS1saW5lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI1MSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjUxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI1MSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNTEgfSBmcm9tIFwidnVlXCI7XG52YXIgc3VpdGNhc2VfbGluZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNTEoe1xuICBuYW1lOiBcIlN1aXRjYXNlTGluZVwiLFxuICBfX25hbWU6IFwic3VpdGNhc2UtbGluZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjUxKCksIF9jcmVhdGVFbGVtZW50QmxvY2syNTEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwieG1sOnNwYWNlXCI6IFwicHJlc2VydmVcIixcbiAgICAgIHN0eWxlOiB7IFwiZW5hYmxlLWJhY2tncm91bmRcIjogXCJuZXcgMCAwIDEwMjQgMTAyNFwiIH0sXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNTEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNOTIyLjUgMjI5LjVjLTI0LjMyLTI0LjM0LTU0LjQ5LTM2Ljg0LTkwLjUtMzcuNUg3MDR2LTY0Yy0uNjgtMTcuOTgtNy4wMi0zMi45OC0xOS4wMS00NC45OVM2NTguMDEgNjQuNjYgNjQwIDY0SDM4NGMtMTcuOTguNjgtMzIuOTggNy4wMi00NC45OSAxOS4wMVMzMjAuNjYgMTEwIDMyMCAxMjh2NjRIMTkyYy0zNS45OS42OC02Ni4xNiAxMy4xOC05MC41IDM3LjVDNzcuMTYgMjUzLjgyIDY0LjY2IDI4My45OSA2NCAzMjB2NDQ4Yy42OCAzNS45OSAxMy4xOCA2Ni4xNiAzNy41IDkwLjVzNTQuNDkgMzYuODQgOTAuNSAzNy41aDY0MGMzNS45OS0uNjggNjYuMTYtMTMuMTggOTAuNS0zNy41czM2Ljg0LTU0LjQ5IDM3LjUtOTAuNVYzMjBjLS42OC0zNS45OS0xMy4xOC02Ni4xNi0zNy41LTkwLjVNMzg0IDEyOGgyNTZ2NjRIMzg0ek0yNTYgODMyaC02NGMtMTcuOTgtLjY4LTMyLjk4LTcuMDItNDQuOTktMTkuMDFTMTI4LjY2IDc4Ni4wMSAxMjggNzY4VjQ0OGgxMjh6bTQ0OCAwSDMyMFY0NDhoMzg0em0xOTItNjRjLS42OCAxNy45OC03LjAyIDMyLjk4LTE5LjAxIDQ0Ljk5Uzg1MC4wMSA4MzEuMzQgODMyIDgzMmgtNjRWNDQ4aDEyOHptMC0zODRIMTI4di02NGMuNjktMTcuOTggNy4wMi0zMi45OCAxOS4wMS00NC45OVMxNzMuOTkgMjU2LjY2IDE5MiAyNTZoNjQwYzE3Ljk4LjY5IDMyLjk4IDcuMDIgNDQuOTkgMTkuMDFTODk1LjM0IDMwMS45OSA4OTYgMzIwelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3N1aXRjYXNlLWxpbmUudnVlXG52YXIgc3VpdGNhc2VfbGluZV9kZWZhdWx0ID0gc3VpdGNhc2VfbGluZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc3VpdGNhc2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjUyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNTIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjUyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI1MiB9IGZyb20gXCJ2dWVcIjtcbnZhciBzdWl0Y2FzZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNTIoe1xuICBuYW1lOiBcIlN1aXRjYXNlXCIsXG4gIF9fbmFtZTogXCJzdWl0Y2FzZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjUyKCksIF9jcmVhdGVFbGVtZW50QmxvY2syNTIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMjggMzg0aDc2OHYtNjRhNjQgNjQgMCAwIDAtNjQtNjRIMTkyYTY0IDY0IDAgMCAwLTY0IDY0em0wIDY0djMyMGE2NCA2NCAwIDAgMCA2NCA2NGg2NDBhNjQgNjQgMCAwIDAgNjQtNjRWNDQ4em02NC0yNTZoNjQwYTEyOCAxMjggMCAwIDEgMTI4IDEyOHY0NDhhMTI4IDEyOCAwIDAgMS0xMjggMTI4SDE5MkExMjggMTI4IDAgMCAxIDY0IDc2OFYzMjBhMTI4IDEyOCAwIDAgMSAxMjgtMTI4XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zODQgMTI4djY0aDI1NnYtNjR6bTAtNjRoMjU2YTY0IDY0IDAgMCAxIDY0IDY0djY0YTY0IDY0IDAgMCAxLTY0IDY0SDM4NGE2NCA2NCAwIDAgMS02NC02NHYtNjRhNjQgNjQgMCAwIDEgNjQtNjRcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zdWl0Y2FzZS52dWVcbnZhciBzdWl0Y2FzZV9kZWZhdWx0ID0gc3VpdGNhc2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3N1bm55LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI1MyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjUzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI1MywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNTMgfSBmcm9tIFwidnVlXCI7XG52YXIgc3VubnlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjUzKHtcbiAgbmFtZTogXCJTdW5ueVwiLFxuICBfX25hbWU6IFwic3VubnlcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI1MygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjUzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNTMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDcwNGExOTIgMTkyIDAgMSAwIDAtMzg0IDE5MiAxOTIgMCAwIDAgMCAzODRtMCA2NGEyNTYgMjU2IDAgMSAxIDAtNTEyIDI1NiAyNTYgMCAwIDEgMCA1MTJtMC03MDRhMzIgMzIgMCAwIDEgMzIgMzJ2NjRhMzIgMzIgMCAwIDEtNjQgMFY5NmEzMiAzMiAwIDAgMSAzMi0zMm0wIDc2OGEzMiAzMiAwIDAgMSAzMiAzMnY2NGEzMiAzMiAwIDEgMS02NCAwdi02NGEzMiAzMiAwIDAgMSAzMi0zMk0xOTUuMiAxOTUuMmEzMiAzMiAwIDAgMSA0NS4yNDggMGw0NS4yNDggNDUuMjQ4YTMyIDMyIDAgMSAxLTQ1LjI0OCA0NS4yNDhMMTk1LjIgMjQwLjQ0OGEzMiAzMiAwIDAgMSAwLTQ1LjI0OHptNTQzLjEwNCA1NDMuMTA0YTMyIDMyIDAgMCAxIDQ1LjI0OCAwbDQ1LjI0OCA0NS4yNDhhMzIgMzIgMCAwIDEtNDUuMjQ4IDQ1LjI0OGwtNDUuMjQ4LTQ1LjI0OGEzMiAzMiAwIDAgMSAwLTQ1LjI0OE02NCA1MTJhMzIgMzIgMCAwIDEgMzItMzJoNjRhMzIgMzIgMCAwIDEgMCA2NEg5NmEzMiAzMiAwIDAgMS0zMi0zMm03NjggMGEzMiAzMiAwIDAgMSAzMi0zMmg2NGEzMiAzMiAwIDEgMSAwIDY0aC02NGEzMiAzMiAwIDAgMS0zMi0zMk0xOTUuMiA4MjguOGEzMiAzMiAwIDAgMSAwLTQ1LjI0OGw0NS4yNDgtNDUuMjQ4YTMyIDMyIDAgMCAxIDQ1LjI0OCA0NS4yNDhMMjQwLjQ0OCA4MjguOGEzMiAzMiAwIDAgMS00NS4yNDggMHptNTQzLjEwNC01NDMuMTA0YTMyIDMyIDAgMCAxIDAtNDUuMjQ4bDQ1LjI0OC00NS4yNDhhMzIgMzIgMCAwIDEgNDUuMjQ4IDQ1LjI0OGwtNDUuMjQ4IDQ1LjI0OGEzMiAzMiAwIDAgMS00NS4yNDggMFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3N1bm55LnZ1ZVxudmFyIHN1bm55X2RlZmF1bHQgPSBzdW5ueV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc3VucmlzZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNTQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNTQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjU0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHN1bnJpc2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjU0KHtcbiAgbmFtZTogXCJTdW5yaXNlXCIsXG4gIF9fbmFtZTogXCJzdW5yaXNlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNTQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI1NChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjU0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTMyIDc2OGg5NjBhMzIgMzIgMCAxIDEgMCA2NEgzMmEzMiAzMiAwIDEgMSAwLTY0bTEyOS40MDgtOTZhMzUyIDM1MiAwIDAgMSA3MDEuMTg0IDBoLTY0LjMyYTI4OCAyODggMCAwIDAtNTcyLjU0NCAwaC02NC4zMnpNNTEyIDEyOGEzMiAzMiAwIDAgMSAzMiAzMnY5NmEzMiAzMiAwIDAgMS02NCAwdi05NmEzMiAzMiAwIDAgMSAzMi0zMm00MDcuMjk2IDE2OC43MDRhMzIgMzIgMCAwIDEgMCA0NS4yNDhsLTY3Ljg0IDY3Ljg0YTMyIDMyIDAgMSAxLTQ1LjI0OC00NS4yNDhsNjcuODQtNjcuODRhMzIgMzIgMCAwIDEgNDUuMjQ4IDB6bS04MTQuNTkyIDBhMzIgMzIgMCAwIDEgNDUuMjQ4IDBsNjcuODQgNjcuODRhMzIgMzIgMCAxIDEtNDUuMjQ4IDQ1LjI0OGwtNjcuODQtNjcuODRhMzIgMzIgMCAwIDEgMC00NS4yNDhcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zdW5yaXNlLnZ1ZVxudmFyIHN1bnJpc2VfZGVmYXVsdCA9IHN1bnJpc2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3N1bnNldC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNTUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1NSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNTUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjU1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHN1bnNldF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNTUoe1xuICBuYW1lOiBcIlN1bnNldFwiLFxuICBfX25hbWU6IFwic3Vuc2V0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNTUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI1NShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjU1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgyLjU2IDY0MGE0NDggNDQ4IDAgMSAxIDg1OC44OCAwaC02Ny4yYTM4NCAzODQgMCAxIDAtNzI0LjI4OCAwek0zMiA3MDRoOTYwcTMyIDAgMzIgMzJ0LTMyIDMySDMycS0zMiAwLTMyLTMydDMyLTMybTI1NiAxMjhoNDQ4cTMyIDAgMzIgMzJ0LTMyIDMySDI4OHEtMzIgMC0zMi0zMnQzMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3N1bnNldC52dWVcbnZhciBzdW5zZXRfZGVmYXVsdCA9IHN1bnNldF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc3dpdGNoLWJ1dHRvbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNTYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1Niwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNTYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjU2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHN3aXRjaF9idXR0b25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjU2KHtcbiAgbmFtZTogXCJTd2l0Y2hCdXR0b25cIixcbiAgX19uYW1lOiBcInN3aXRjaC1idXR0b25cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI1NigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjU2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNTYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzUyIDE1OS44NzJWMjMwLjRhMzUyIDM1MiAwIDEgMCAzMjAgMHYtNzAuNTI4QTQxNi4xMjggNDE2LjEyOCAwIDAgMSA1MTIgOTYwYTQxNiA0MTYgMCAwIDEtMTYwLTgwMC4xMjh6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNjRxMzIgMCAzMiAzMnYzMjBxMCAzMi0zMiAzMnQtMzItMzJWOTZxMC0zMiAzMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3N3aXRjaC1idXR0b24udnVlXG52YXIgc3dpdGNoX2J1dHRvbl9kZWZhdWx0ID0gc3dpdGNoX2J1dHRvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc3dpdGNoLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNTcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1Nywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNTcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjU3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHN3aXRjaF9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjU3KHtcbiAgbmFtZTogXCJTd2l0Y2hGaWxsZWRcIixcbiAgX19uYW1lOiBcInN3aXRjaC1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI1NygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjU3KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInhtbDpzcGFjZVwiOiBcInByZXNlcnZlXCIsXG4gICAgICBzdHlsZTogeyBcImVuYWJsZS1iYWNrZ3JvdW5kXCI6IFwibmV3IDAgMCAxMDI0IDEwMjRcIiB9LFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjU3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI0Ny40NyAzNTguNHYuMDRjLjA3IDE5LjE3IDcuNzIgMzcuNTMgMjEuMjcgNTEuMDlzMzEuOTIgMjEuMiA1MS4wOSAyMS4yN2MzOS44NiAwIDcyLjQxLTMyLjYgNzIuNDEtNzIuNHMtMzIuNi03Mi4zNi03Mi40MS03Mi4zNi03Mi4zNiAzMi41NS03Mi4zNiA3Mi4zNnpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjU3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ5Mi4zOCAxMjhIMzI0LjdjLTUyLjE2IDAtMTAyLjE5IDIwLjczLTEzOS4wOCA1Ny42MWExOTYuNjU1IDE5Ni42NTUgMCAwIDAtNTcuNjEgMTM5LjA4VjY5OC43Yy0uMDEgMjUuODQgNS4wOCA1MS40MiAxNC45NiA3NS4yOXMyNC4zNiA0NS41NiA0Mi42MyA2My44MyAzOS45NSAzMi43NiA2My44MiA0Mi42NWExOTYuNjcgMTk2LjY3IDAgMCAwIDc1LjI4IDE0Ljk4aDE2Ny42OGMzLjAzIDAgNS40Ni0yLjQzIDUuNDYtNS40MlYxMzMuNDJjLjYtMi45OS0xLjgzLTUuNDItNS40Ni01LjQyem0tNTYuMTEgNzA1Ljg4SDMyNC43Yy0xNy43Ni4xMy0zNS4zNi0zLjMzLTUxLjc1LTEwLjE4cy0zMS4yMi0xNi45NC00My42MS0yOS42N2MtMjUuMy0yNS4zNS0zOS44MS01OS4xLTM5LjgxLTk1LjMyVjMyNC42OWMtLjEzLTE3Ljc1IDMuMzMtMzUuMzUgMTAuMTctNTEuNzRhMTMxLjY5NSAxMzEuNjk1IDAgMCAxIDI5LjY0LTQzLjYyYzI1LjM5LTI1LjMgNTkuMTQtMzkuODEgOTUuMzYtMzkuODFoMTExLjU3em00MDIuMTItNjQ3LjY3YTE5Ni42NTUgMTk2LjY1NSAwIDAgMC0xMzkuMDgtNTcuNjFINTgwLjQ4Yy0zLjAzIDAtNC44MiAyLjQzLTQuODIgNC44MnY3NTcuMTZjLS42IDIuOTkgMS43OSA1LjQyIDUuNDIgNS40MmgxMTguMjNhMTk2LjY5IDE5Ni42OSAwIDAgMCAxMzkuMDgtNTcuNjFBMTk2LjY1NSAxOTYuNjU1IDAgMCAwIDg5NiA2OTkuMzFWMzI1LjI5YTE5Ni42OSAxOTYuNjkgMCAwIDAtNTcuNjEtMTM5LjA4em0tMTExLjMgNDQxLjkyYy00Mi44MyAwLTc3LjgyLTM0Ljk5LTc3LjgyLTc3LjgyczM0Ljk4LTc3LjgyIDc3LjgyLTc3LjgyYzQyLjgzIDAgNzcuODIgMzQuOTkgNzcuODIgNzcuODJzLTM0Ljk5IDc3LjgyLTc3LjgyIDc3LjgyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3N3aXRjaC1maWxsZWQudnVlXG52YXIgc3dpdGNoX2ZpbGxlZF9kZWZhdWx0ID0gc3dpdGNoX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc3dpdGNoLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI1OCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjU4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI1OCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNTggfSBmcm9tIFwidnVlXCI7XG52YXIgc3dpdGNoX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI1OCh7XG4gIG5hbWU6IFwiU3dpdGNoXCIsXG4gIF9fbmFtZTogXCJzd2l0Y2hcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI1OCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjU4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNTgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTE4LjY1NiA0MzguNjU2YTMyIDMyIDAgMCAxIDAtNDUuMjQ4TDQxNiA5Nmw0LjQ4LTMuNzc2QTMyIDMyIDAgMCAxIDQ2MS4yNDggOTZsMy43MTIgNC40OGEzMi4wNjQgMzIuMDY0IDAgMCAxLTMuNzEyIDQwLjgzMkwyMTguNTYgMzg0SDkyOGEzMiAzMiAwIDEgMSAwIDY0SDE0MS4yNDhhMzIgMzIgMCAwIDEtMjIuNTkyLTkuMzQ0ek02NCA2MDhhMzIgMzIgMCAwIDEgMzItMzJoNzg2Ljc1MmEzMiAzMiAwIDAgMSAyMi42NTYgNTQuNTkyTDYwOCA5MjhsLTQuNDggMy43NzZhMzIuMDY0IDMyLjA2NCAwIDAgMS00MC44MzItNDkuMDI0TDgwNS42MzIgNjQwSDk2YTMyIDMyIDAgMCAxLTMyLTMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc3dpdGNoLnZ1ZVxudmFyIHN3aXRjaF9kZWZhdWx0ID0gc3dpdGNoX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy90YWtlYXdheS1ib3gudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjU5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNTksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjU5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI1OSB9IGZyb20gXCJ2dWVcIjtcbnZhciB0YWtlYXdheV9ib3hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjU5KHtcbiAgbmFtZTogXCJUYWtlYXdheUJveFwiLFxuICBfX25hbWU6IFwidGFrZWF3YXktYm94XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNTkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI1OShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjU5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgzMiAzODRIMTkydjQ0OGg2NDB6TTk2IDMyMGg4MzJWMTI4SDk2em04MDAgNjR2NDgwYTMyIDMyIDAgMCAxLTMyIDMySDE2MGEzMiAzMiAwIDAgMS0zMi0zMlYzODRINjRhMzIgMzIgMCAwIDEtMzItMzJWOTZhMzIgMzIgMCAwIDEgMzItMzJoODk2YTMyIDMyIDAgMCAxIDMyIDMydjI1NmEzMiAzMiAwIDAgMS0zMiAzMnpNNDE2IDUxMmgxOTJhMzIgMzIgMCAwIDEgMCA2NEg0MTZhMzIgMzIgMCAwIDEgMC02NFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3Rha2Vhd2F5LWJveC52dWVcbnZhciB0YWtlYXdheV9ib3hfZGVmYXVsdCA9IHRha2Vhd2F5X2JveF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdGlja2V0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI2MCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjYwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI2MCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNjAgfSBmcm9tIFwidnVlXCI7XG52YXIgdGlja2V0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI2MCh7XG4gIG5hbWU6IFwiVGlja2V0XCIsXG4gIF9fbmFtZTogXCJ0aWNrZXRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI2MCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjYwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjQwIDgzMkg2NFY2NDBhMTI4IDEyOCAwIDEgMCAwLTI1NlYxOTJoNTc2djE2MGg2NFYxOTJoMjU2djE5MmExMjggMTI4IDAgMSAwIDAgMjU2djE5Mkg3MDRWNjcyaC02NHptMC00MTZ2MTkyaDY0VjQxNnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy90aWNrZXQudnVlXG52YXIgdGlja2V0X2RlZmF1bHQgPSB0aWNrZXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3RpY2tldHMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjYxIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjYxLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI2MSB9IGZyb20gXCJ2dWVcIjtcbnZhciB0aWNrZXRzX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI2MSh7XG4gIG5hbWU6IFwiVGlja2V0c1wiLFxuICBfX25hbWU6IFwidGlja2V0c1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjYxKCksIF9jcmVhdGVFbGVtZW50QmxvY2syNjEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI2MShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xOTIgMTI4djc2OGg2NDBWMTI4em0tMzItNjRoNzA0YTMyIDMyIDAgMCAxIDMyIDMydjgzMmEzMiAzMiAwIDAgMS0zMiAzMkgxNjBhMzIgMzIgMCAwIDEtMzItMzJWOTZhMzIgMzIgMCAwIDEgMzItMzJtMTYwIDQ0OGgzODR2NjRIMzIwem0wLTE5MmgxOTJ2NjRIMzIwem0wIDM4NGgzODR2NjRIMzIwelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3RpY2tldHMudnVlXG52YXIgdGlja2V0c19kZWZhdWx0ID0gdGlja2V0c192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdGltZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjYyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjYyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI2MiB9IGZyb20gXCJ2dWVcIjtcbnZhciB0aW1lcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNjIoe1xuICBuYW1lOiBcIlRpbWVyXCIsXG4gIF9fbmFtZTogXCJ0aW1lclwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjYyKCksIF9jcmVhdGVFbGVtZW50QmxvY2syNjIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI2MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgODk2YTMyMCAzMjAgMCAxIDAgMC02NDAgMzIwIDMyMCAwIDAgMCAwIDY0MG0wIDY0YTM4NCAzODQgMCAxIDEgMC03NjggMzg0IDM4NCAwIDAgMSAwIDc2OFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDMyMGEzMiAzMiAwIDAgMSAzMiAzMmwtLjUxMiAyMjRhMzIgMzIgMCAxIDEtNjQgMEw0ODAgMzUyYTMyIDMyIDAgMCAxIDMyLTMyXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI2MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00NDggNTc2YTY0IDY0IDAgMSAwIDEyOCAwIDY0IDY0IDAgMSAwLTEyOCAwbTk2LTQ0OHYxMjhoLTY0VjEyOGgtOTZhMzIgMzIgMCAwIDEgMC02NGgyNTZhMzIgMzIgMCAxIDEgMCA2NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy90aW1lci52dWVcbnZhciB0aW1lcl9kZWZhdWx0ID0gdGltZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3RvaWxldC1wYXBlci52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNjMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI2Mywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNjMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjYzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHRvaWxldF9wYXBlcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNjMoe1xuICBuYW1lOiBcIlRvaWxldFBhcGVyXCIsXG4gIF9fbmFtZTogXCJ0b2lsZXQtcGFwZXJcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI2MygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjYzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTk1LjIgMTI4SDMyMGExOTIgMTkyIDAgMCAwLTE5MiAxOTJ2NTc2aDM4NFYzNTJjMC05MC40OTYgMzIuNDQ4LTE3MS4yIDgzLjItMjI0TTczNiA2NGMxMjMuNzEyIDAgMjI0IDEyOC45NiAyMjQgMjg4Uzg1OS43MTIgNjQwIDczNiA2NDBINTc2djMyMEg2NFYzMjBBMjU2IDI1NiAwIDAgMSAzMjAgNjR6TTU3NiAzNTJ2MjI0aDE2MGM4NC4zNTIgMCAxNjAtOTcuMjggMTYwLTIyNHMtNzUuNjQ4LTIyNC0xNjAtMjI0LTE2MCA5Ny4yOC0xNjAgMjI0XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI2MyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03MzYgNDQ4Yy0zNS4zMjggMC02NC00My4wMDgtNjQtOTZzMjguNjcyLTk2IDY0LTk2IDY0IDQzLjAwOCA2NCA5Ni0yOC42NzIgOTYtNjQgOTZcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy90b2lsZXQtcGFwZXIudnVlXG52YXIgdG9pbGV0X3BhcGVyX2RlZmF1bHQgPSB0b2lsZXRfcGFwZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3Rvb2xzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI2NCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjY0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI2NCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNjQgfSBmcm9tIFwidnVlXCI7XG52YXIgdG9vbHNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjY0KHtcbiAgbmFtZTogXCJUb29sc1wiLFxuICBfX25hbWU6IFwidG9vbHNcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI2NCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjY0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzY0LjQxNiAyNTQuNzJhMzUxLjY4IDM1MS42OCAwIDAgMSA4Ni4zMzYgMTQ5LjE4NEg5NjB2MTkyLjA2NEg4NTAuNzUyYTM1MS42OCAzNTEuNjggMCAwIDEtODYuMzM2IDE0OS4zMTJsNTQuNzIgOTQuNzItMTY2LjI3MiA5Ni01NC41OTItOTQuNzJhMzUyLjY0IDM1Mi42NCAwIDAgMS0xNzIuNDggMEwzNzEuMTM2IDkzNmwtMTY2LjI3Mi05NiA1NC43Mi05NC43MmEzNTEuNjggMzUxLjY4IDAgMCAxLTg2LjMzNi0xNDkuMzEySDY0di0xOTJoMTA5LjI0OGEzNTEuNjggMzUxLjY4IDAgMCAxIDg2LjMzNi0xNDkuMzEyTDIwNC44IDE2MGwxNjYuMjA4LTk2aC4xOTJsNTQuNjU2IDk0LjU5MmEzNTIuNjQgMzUyLjY0IDAgMCAxIDE3Mi40OCAwTDY1Mi44IDY0aC4xMjhMODE5LjIgMTYwbC01NC43MiA5NC43MnpNNzA0IDQ5OS45NjhhMTkyIDE5MiAwIDEgMC0zODQgMCAxOTIgMTkyIDAgMCAwIDM4NCAwXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdG9vbHMudnVlXG52YXIgdG9vbHNfZGVmYXVsdCA9IHRvb2xzX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy90b3AtbGVmdC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNjUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI2NSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNjUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjY1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHRvcF9sZWZ0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI2NSh7XG4gIG5hbWU6IFwiVG9wTGVmdFwiLFxuICBfX25hbWU6IFwidG9wLWxlZnRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI2NSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjY1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjU2IDI1Nmg0MTZhMzIgMzIgMCAxIDAgMC02NEgyMjRhMzIgMzIgMCAwIDAtMzIgMzJ2NDQ4YTMyIDMyIDAgMCAwIDY0IDB6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI2NShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yNDYuNjU2IDIwMS4zNDRhMzIgMzIgMCAwIDAtNDUuMzEyIDQ1LjMxMmw1NDQgNTQ0YTMyIDMyIDAgMCAwIDQ1LjMxMi00NS4zMTJsLTU0NC01NDR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdG9wLWxlZnQudnVlXG52YXIgdG9wX2xlZnRfZGVmYXVsdCA9IHRvcF9sZWZ0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy90b3AtcmlnaHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjY2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjY2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI2NiB9IGZyb20gXCJ2dWVcIjtcbnZhciB0b3BfcmlnaHRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjY2KHtcbiAgbmFtZTogXCJUb3BSaWdodFwiLFxuICBfX25hbWU6IFwidG9wLXJpZ2h0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNjYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI2NihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjY2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTc2OCAyNTZIMzUzLjZhMzIgMzIgMCAxIDEgMC02NEg4MDBhMzIgMzIgMCAwIDEgMzIgMzJ2NDQ4YTMyIDMyIDAgMCAxLTY0IDB6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI2NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03NzcuMzQ0IDIwMS4zNDRhMzIgMzIgMCAwIDEgNDUuMzEyIDQ1LjMxMmwtNTQ0IDU0NGEzMiAzMiAwIDAgMS00NS4zMTItNDUuMzEybDU0NC01NDR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdG9wLXJpZ2h0LnZ1ZVxudmFyIHRvcF9yaWdodF9kZWZhdWx0ID0gdG9wX3JpZ2h0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy90b3AudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjY3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjY3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI2NyB9IGZyb20gXCJ2dWVcIjtcbnZhciB0b3BfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjY3KHtcbiAgbmFtZTogXCJUb3BcIixcbiAgX19uYW1lOiBcInRvcFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjY3KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNjcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI2NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01NzIuMjM1IDIwNS4yODJ2NjAwLjM2NWEzMC4xMTggMzAuMTE4IDAgMSAxLTYwLjIzNSAwVjIwNS4yODJMMjkyLjM4MiA0MzguNjMzYTI4LjkxMyAyOC45MTMgMCAwIDEtNDIuNjQ2IDAgMzMuNDMgMzMuNDMgMCAwIDEgMC00NS4yMzZsMjcxLjA1OC0yODguMDQ1YTI4LjkxMyAyOC45MTMgMCAwIDEgNDIuNjQ3IDBMODM0LjUgMzkzLjM5N2EzMy40MyAzMy40MyAwIDAgMSAwIDQ1LjE3NiAyOC45MTMgMjguOTEzIDAgMCAxLTQyLjY0NyAwbC0yMTkuNjE4LTIzMy4yM3pcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy90b3AudnVlXG52YXIgdG9wX2RlZmF1bHQgPSB0b3BfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3RyZW5kLWNoYXJ0cy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNjggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI2OCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNjgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjY4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHRyZW5kX2NoYXJ0c192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNjgoe1xuICBuYW1lOiBcIlRyZW5kQ2hhcnRzXCIsXG4gIF9fbmFtZTogXCJ0cmVuZC1jaGFydHNcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI2OCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjY4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTI4IDg5NlYxMjhoNzY4djc2OHptMjkxLjcxMi0zMjcuMjk2IDEyOCAxMDIuNCAxODAuMTYtMjAxLjc5Mi00Ny43NDQtNDIuNjI0LTEzOS44NCAxNTYuNjA4LTEyOC0xMDIuNC0xODAuMTYgMjAxLjc5MiA0Ny43NDQgNDIuNjI0IDEzOS44NC0xNTYuNjA4ek04MTYgMzUyYTQ4IDQ4IDAgMSAwLTk2IDAgNDggNDggMCAwIDAgOTYgMFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3RyZW5kLWNoYXJ0cy52dWVcbnZhciB0cmVuZF9jaGFydHNfZGVmYXVsdCA9IHRyZW5kX2NoYXJ0c192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdHJvcGh5LWJhc2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjY5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjY5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI2OSB9IGZyb20gXCJ2dWVcIjtcbnZhciB0cm9waHlfYmFzZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNjkoe1xuICBuYW1lOiBcIlRyb3BoeUJhc2VcIixcbiAgX19uYW1lOiBcInRyb3BoeS1iYXNlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNjkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI2OShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgXCJ4bWw6c3BhY2VcIjogXCJwcmVzZXJ2ZVwiLFxuICAgICAgc3R5bGU6IHsgXCJlbmFibGUtYmFja2dyb3VuZFwiOiBcIm5ldyAwIDAgMTAyNCAxMDI0XCIgfSxcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI2OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk05MTguNCAyMDEuNmMtNi40LTYuNC0xMi44LTkuNi0yMi40LTkuNkg3NjhWOTZjMC05LjYtMy4yLTE2LTkuNi0yMi40Qzc1MiA2Ny4yIDc0NS42IDY0IDczNiA2NEgyODhjLTkuNiAwLTE2IDMuMi0yMi40IDkuNkMyNTkuMiA4MCAyNTYgODYuNCAyNTYgOTZ2OTZIMTI4Yy05LjYgMC0xNiAzLjItMjIuNCA5LjYtNi40IDYuNC05LjYgMTYtOS42IDIyLjQgMy4yIDEwOC44IDI1LjYgMTg1LjYgNjQgMjI0IDM0LjQgMzQuNCA3Ny41NiA1NS42NSAxMjcuNjUgNjEuOTkgMTAuOTEgMjAuNDQgMjQuNzggMzkuMjUgNDEuOTUgNTYuNDEgNDAuODYgNDAuODYgOTEgNjUuNDcgMTUwLjQgNzEuOVY3NjhoLTk2Yy05LjYgMC0xNiAzLjItMjIuNCA5LjYtNi40IDYuNC05LjYgMTIuOC05LjYgMjIuNHMzLjIgMTYgOS42IDIyLjRjNi40IDYuNCAxMi44IDkuNiAyMi40IDkuNmgyNTZjOS42IDAgMTYtMy4yIDIyLjQtOS42IDYuNC02LjQgOS42LTEyLjggOS42LTIyLjRzLTMuMi0xNi05LjYtMjIuNGMtNi40LTYuNC0xMi44LTkuNi0yMi40LTkuNmgtOTZWNjM3LjI2YzU5LjQtNy43MSAxMDkuNTQtMzAuMDEgMTUwLjQtNzAuODYgMTcuMi0xNy4yIDMxLjUxLTM2LjA2IDQyLjgxLTU2LjU1IDQ4LjkzLTYuNTEgOTAuMDItMjcuNyAxMjYuNzktNjEuODUgMzguNC0zOC40IDYwLjgtMTEyIDY0LTIyNCAwLTYuNC0zLjItMTYtOS42LTIyLjR6TTI1NiA0MzguNGMtMTkuMi02LjQtMzUuMi0xOS4yLTUxLjItMzUuMi0yMi40LTIyLjQtMzUuMi03MC40LTQxLjYtMTQ3LjJIMjU2em0zOTAuNCA4MEM2MDggNTUzLjYgNTY2LjQgNTc2IDUxMiA1NzZzLTk5LjItMTkuMi0xMzQuNC01Ny42QzM0Mi40IDQ4MCAzMjAgNDM4LjQgMzIwIDM4NFYxMjhoMzg0djI1NmMwIDU0LjQtMTkuMiA5OS4yLTU3LjYgMTM0LjRtMTcyLjgtMTE1LjJjLTE2IDE2LTMyIDI1LjYtNTEuMiAzNS4yVjI1Nmg5Mi44Yy02LjQgNzYuOC0xOS4yIDEyNC44LTQxLjYgMTQ3LjJ6TTc2OCA4OTZIMjU2Yy05LjYgMC0xNiAzLjItMjIuNCA5LjYtNi40IDYuNC05LjYgMTIuOC05LjYgMjIuNHMzLjIgMTYgOS42IDIyLjRjNi40IDYuNCAxMi44IDkuNiAyMi40IDkuNmg1MTJjOS42IDAgMTYtMy4yIDIyLjQtOS42IDYuNC02LjQgOS42LTEyLjggOS42LTIyLjRzLTMuMi0xNi05LjYtMjIuNGMtNi40LTYuNC0xMi44LTkuNi0yMi40LTkuNlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3Ryb3BoeS1iYXNlLnZ1ZVxudmFyIHRyb3BoeV9iYXNlX2RlZmF1bHQgPSB0cm9waHlfYmFzZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdHJvcGh5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI3MCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjcwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI3MCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNzAgfSBmcm9tIFwidnVlXCI7XG52YXIgdHJvcGh5X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI3MCh7XG4gIG5hbWU6IFwiVHJvcGh5XCIsXG4gIF9fbmFtZTogXCJ0cm9waHlcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI3MCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjcwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNzAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDgwIDg5NlY3MDIuMDhBMjU2LjI1NiAyNTYuMjU2IDAgMCAxIDI2NC4wNjQgNTEyaC0zMi42NGE5NiA5NiAwIDAgMS05MS45NjgtNjguNDE2TDkzLjYzMiAyOTAuODhhNzYuOCA3Ni44IDAgMCAxIDczLjYtOTguODhIMjU2Vjk2YTMyIDMyIDAgMCAxIDMyLTMyaDQ0OGEzMiAzMiAwIDAgMSAzMiAzMnY5Nmg4OC43NjhhNzYuOCA3Ni44IDAgMCAxIDczLjYgOTguODhMODg0LjQ4IDQ0My41MkE5NiA5NiAwIDAgMSA3OTIuNTc2IDUxMmgtMzIuNjRBMjU2LjI1NiAyNTYuMjU2IDAgMCAxIDU0NCA3MDIuMDhWODk2aDEyOGEzMiAzMiAwIDEgMSAwIDY0SDM1MmEzMiAzMiAwIDEgMSAwLTY0em0yMjQtNDQ4VjEyOEgzMjB2MzIwYTE5MiAxOTIgMCAxIDAgMzg0IDBtNjQgMGgyNC41NzZhMzIgMzIgMCAwIDAgMzAuNjU2LTIyLjc4NGw0NS44MjQtMTUyLjc2OEExMi44IDEyLjggMCAwIDAgODU2Ljc2OCAyNTZINzY4em0tNTEyIDBWMjU2aC04OC43NjhhMTIuOCAxMi44IDAgMCAwLTEyLjI4OCAxNi40NDhsNDUuODI0IDE1Mi43NjhBMzIgMzIgMCAwIDAgMjMxLjQyNCA0NDh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdHJvcGh5LnZ1ZVxudmFyIHRyb3BoeV9kZWZhdWx0ID0gdHJvcGh5X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy90dXJuLW9mZi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNzEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3MSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNzEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjcxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHR1cm5fb2ZmX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI3MSh7XG4gIG5hbWU6IFwiVHVybk9mZlwiLFxuICBfX25hbWU6IFwidHVybi1vZmZcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI3MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjcxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNzEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzI5Ljk1NiAyNTcuMTM4YTI1NC44NjIgMjU0Ljg2MiAwIDAgMCAwIDUwOS43MjRoMzY0LjA4OGEyNTQuODYyIDI1NC44NjIgMCAwIDAgMC01MDkuNzI0em0wLTcyLjgxOGgzNjQuMDg4YTMyNy42OCAzMjcuNjggMCAxIDEgMCA2NTUuMzZIMzI5Ljk1NmEzMjcuNjggMzI3LjY4IDAgMSAxIDAtNjU1LjM2elwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNzEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzI5Ljk1NiA2MjEuMjI3YTEwOS4yMjcgMTA5LjIyNyAwIDEgMCAwLTIxOC40NTQgMTA5LjIyNyAxMDkuMjI3IDAgMCAwIDAgMjE4LjQ1NG0wIDcyLjgxN2ExODIuMDQ0IDE4Mi4wNDQgMCAxIDEgMC0zNjQuMDg4IDE4Mi4wNDQgMTgyLjA0NCAwIDAgMSAwIDM2NC4wODhcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy90dXJuLW9mZi52dWVcbnZhciB0dXJuX29mZl9kZWZhdWx0ID0gdHVybl9vZmZfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3VtYnJlbGxhLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI3MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjcyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI3MiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNzIgfSBmcm9tIFwidnVlXCI7XG52YXIgdW1icmVsbGFfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjcyKHtcbiAgbmFtZTogXCJVbWJyZWxsYVwiLFxuICBfX25hbWU6IFwidW1icmVsbGFcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI3MigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjcyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNzIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzIwIDc2OGEzMiAzMiAwIDEgMSA2NCAwIDY0IDY0IDAgMCAwIDEyOCAwVjUxMkg2NGE0NDggNDQ4IDAgMSAxIDg5NiAwSDU3NnYyNTZhMTI4IDEyOCAwIDEgMS0yNTYgMG01NzAuNjg4LTMyMGEzODQuMTI4IDM4NC4xMjggMCAwIDAtNzU3LjM3NiAwelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3VtYnJlbGxhLnZ1ZVxudmFyIHVtYnJlbGxhX2RlZmF1bHQgPSB1bWJyZWxsYV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdW5sb2NrLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI3MyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjczLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI3MywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNzMgfSBmcm9tIFwidnVlXCI7XG52YXIgdW5sb2NrX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI3Myh7XG4gIG5hbWU6IFwiVW5sb2NrXCIsXG4gIF9fbmFtZTogXCJ1bmxvY2tcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI3MygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjczKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNzMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjI0IDQ0OGEzMiAzMiAwIDAgMC0zMiAzMnYzODRhMzIgMzIgMCAwIDAgMzIgMzJoNTc2YTMyIDMyIDAgMCAwIDMyLTMyVjQ4MGEzMiAzMiAwIDAgMC0zMi0zMnptMC02NGg1NzZhOTYgOTYgMCAwIDEgOTYgOTZ2Mzg0YTk2IDk2IDAgMCAxLTk2IDk2SDIyNGE5NiA5NiAwIDAgMS05Ni05NlY0ODBhOTYgOTYgMCAwIDEgOTYtOTZcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjczKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA1NDRhMzIgMzIgMCAwIDEgMzIgMzJ2MTkyYTMyIDMyIDAgMSAxLTY0IDBWNTc2YTMyIDMyIDAgMCAxIDMyLTMybTE3OC4zMDQtMjk1LjI5NkExOTIuMDY0IDE5Mi4wNjQgMCAwIDAgMzIwIDMyMHY2NGgzNTJsOTYgMzguNFY0NDhIMjU2VjMyMGEyNTYgMjU2IDAgMCAxIDQ5My43Ni05NS4xMDR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdW5sb2NrLnZ1ZVxudmFyIHVubG9ja19kZWZhdWx0ID0gdW5sb2NrX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy91cGxvYWQtZmlsbGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI3NCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjc0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI3NCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNzQgfSBmcm9tIFwidnVlXCI7XG52YXIgdXBsb2FkX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNzQoe1xuICBuYW1lOiBcIlVwbG9hZEZpbGxlZFwiLFxuICBfX25hbWU6IFwidXBsb2FkLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjc0KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNzQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3NChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01NDQgODY0VjY3MmgxMjhMNTEyIDQ4MCAzNTIgNjcyaDEyOHYxOTJIMzIwdi0xLjZjLTUuMzc2LjMyLTEwLjQ5NiAxLjYtMTYgMS42QTI0MCAyNDAgMCAwIDEgNjQgNjI0YzAtMTIzLjEzNiA5My4xMi0yMjMuNDg4IDIxMi42MDgtMjM3LjI0OEEyMzkuODA4IDIzOS44MDggMCAwIDEgNTEyIDE5MmEyMzkuODcyIDIzOS44NzIgMCAwIDEgMjM1LjQ1NiAxOTQuNzUyYzExOS40ODggMTMuNzYgMjEyLjQ4IDExNC4xMTIgMjEyLjQ4IDIzNy4yNDhhMjQwIDI0MCAwIDAgMS0yNDAgMjQwYy01LjM3NiAwLTEwLjU2LTEuMjgtMTYtMS42djEuNnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy91cGxvYWQtZmlsbGVkLnZ1ZVxudmFyIHVwbG9hZF9maWxsZWRfZGVmYXVsdCA9IHVwbG9hZF9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3VwbG9hZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNzUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3NSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNzUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjc1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHVwbG9hZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNzUoe1xuICBuYW1lOiBcIlVwbG9hZFwiLFxuICBfX25hbWU6IFwidXBsb2FkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNzUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI3NShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjc1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE2MCA4MzJoNzA0YTMyIDMyIDAgMSAxIDAgNjRIMTYwYTMyIDMyIDAgMSAxIDAtNjRtMzg0LTU3OC4zMDRWNzA0aC02NFYyNDcuMjk2TDIzNy4yNDggNDkwLjA0OCAxOTIgNDQ0LjggNTA4LjggMTI4bDMxNi44IDMxNi44LTQ1LjMxMiA0NS4yNDh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdXBsb2FkLnZ1ZVxudmFyIHVwbG9hZF9kZWZhdWx0ID0gdXBsb2FkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy91c2VyLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNzYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3Niwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNzYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjc2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHVzZXJfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI3Nih7XG4gIG5hbWU6IFwiVXNlckZpbGxlZFwiLFxuICBfX25hbWU6IFwidXNlci1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI3NigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjc2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNzYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjg4IDMyMGEyMjQgMjI0IDAgMSAwIDQ0OCAwIDIyNCAyMjQgMCAxIDAtNDQ4IDBtNTQ0IDYwOEgxNjBhMzIgMzIgMCAwIDEtMzItMzJ2LTk2YTE2MCAxNjAgMCAwIDEgMTYwLTE2MGg0NDhhMTYwIDE2MCAwIDAgMSAxNjAgMTYwdjk2YTMyIDMyIDAgMCAxLTMyIDMyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3VzZXItZmlsbGVkLnZ1ZVxudmFyIHVzZXJfZmlsbGVkX2RlZmF1bHQgPSB1c2VyX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdXNlci52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNzcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3Nywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNzcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjc3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHVzZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mjc3KHtcbiAgbmFtZTogXCJVc2VyXCIsXG4gIF9fbmFtZTogXCJ1c2VyXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNzcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI3NyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjc3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA1MTJhMTkyIDE5MiAwIDEgMCAwLTM4NCAxOTIgMTkyIDAgMCAwIDAgMzg0bTAgNjRhMjU2IDI1NiAwIDEgMSAwLTUxMiAyNTYgMjU2IDAgMCAxIDAgNTEybTMyMCAzMjB2LTk2YTk2IDk2IDAgMCAwLTk2LTk2SDI4OGE5NiA5NiAwIDAgMC05NiA5NnY5NmEzMiAzMiAwIDEgMS02NCAwdi05NmExNjAgMTYwIDAgMCAxIDE2MC0xNjBoNDQ4YTE2MCAxNjAgMCAwIDEgMTYwIDE2MHY5NmEzMiAzMiAwIDEgMS02NCAwXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdXNlci52dWVcbnZhciB1c2VyX2RlZmF1bHQgPSB1c2VyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy92YW4udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50Mjc4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNzgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjc4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI3OCB9IGZyb20gXCJ2dWVcIjtcbnZhciB2YW5fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mjc4KHtcbiAgbmFtZTogXCJWYW5cIixcbiAgX19uYW1lOiBcInZhblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjc4KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNzgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3OChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMjguODk2IDczNkg5NmEzMiAzMiAwIDAgMS0zMi0zMlYyMjRhMzIgMzIgMCAwIDEgMzItMzJoNTc2YTMyIDMyIDAgMCAxIDMyIDMydjk2aDE2NC41NDRhMzIgMzIgMCAwIDEgMzEuNjE2IDI3LjEzNmw1NC4xNDQgMzUyQTMyIDMyIDAgMCAxIDkyMi42ODggNzM2aC05MS41MmExNDQgMTQ0IDAgMSAxLTI4Ni4yNzIgMEg0MTUuMTA0YTE0NCAxNDQgMCAxIDEtMjg2LjI3MiAwem0yMy4zNi02NGExNDMuODcyIDE0My44NzIgMCAwIDEgMjM5LjQ4OCAwSDU2OC4zMmMxNy4wODgtMjUuNiA0Mi4yNC00NS4zNzYgNzEuNzQ0LTU1LjgwOFYyNTZIMTI4djQxNnptNjU1LjQ4OCAwaDc3LjYzMmwtMTkuNjQ4LTEyOEg3MDR2NjQuODk2QTE0NCAxNDQgMCAwIDEgODA3Ljc0NCA2NzJtNDguMTI4LTE5Mi0xNC43Mi05Nkg3MDR2OTZoMTUxLjg3Mk02ODggODMyYTgwIDgwIDAgMSAwIDAtMTYwIDgwIDgwIDAgMCAwIDAgMTYwbS00MTYgMGE4MCA4MCAwIDEgMCAwLTE2MCA4MCA4MCAwIDAgMCAwIDE2MFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3Zhbi52dWVcbnZhciB2YW5fZGVmYXVsdCA9IHZhbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdmlkZW8tY2FtZXJhLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNzkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3OSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNzksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjc5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHZpZGVvX2NhbWVyYV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mjc5KHtcbiAgbmFtZTogXCJWaWRlb0NhbWVyYUZpbGxlZFwiLFxuICBfX25hbWU6IFwidmlkZW8tY2FtZXJhLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjc5KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNzkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm03NjggNTc2IDE5Mi02NHYzMjBsLTE5Mi02NHY5NmEzMiAzMiAwIDAgMS0zMiAzMkg5NmEzMiAzMiAwIDAgMS0zMi0zMlY0ODBhMzIgMzIgMCAwIDEgMzItMzJoNjQwYTMyIDMyIDAgMCAxIDMyIDMyek0xOTIgNzY4djY0aDM4NHYtNjR6bTE5Mi00ODBhMTYwIDE2MCAwIDAgMSAzMjAgMCAxNjAgMTYwIDAgMCAxLTMyMCAwbTY0IDBhOTYgOTYgMCAxIDAgMTkyLjA2NC0uMDY0QTk2IDk2IDAgMCAwIDQ0OCAyODhtLTMyMCAzMmExMjggMTI4IDAgMSAxIDI1Ni4wNjQuMDY0QTEyOCAxMjggMCAwIDEgMTI4IDMyMG02NCAwYTY0IDY0IDAgMSAwIDEyOCAwIDY0IDY0IDAgMCAwLTEyOCAwXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdmlkZW8tY2FtZXJhLWZpbGxlZC52dWVcbnZhciB2aWRlb19jYW1lcmFfZmlsbGVkX2RlZmF1bHQgPSB2aWRlb19jYW1lcmFfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy92aWRlby1jYW1lcmEudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjgwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyODAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjgwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI4MCB9IGZyb20gXCJ2dWVcIjtcbnZhciB2aWRlb19jYW1lcmFfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjgwKHtcbiAgbmFtZTogXCJWaWRlb0NhbWVyYVwiLFxuICBfX25hbWU6IFwidmlkZW8tY2FtZXJhXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syODAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI4MChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjgwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTcwNCA3NjhWMjU2SDEyOHY1MTJ6bTY0LTQxNiAxOTItOTZ2NTEybC0xOTItOTZ2MTI4YTMyIDMyIDAgMCAxLTMyIDMySDk2YTMyIDMyIDAgMCAxLTMyLTMyVjIyNGEzMiAzMiAwIDAgMSAzMi0zMmg2NDBhMzIgMzIgMCAwIDEgMzIgMzJ6bTAgNzEuNTUydjE3Ni44OTZsMTI4IDY0VjM1OS41NTJ6TTE5MiAzMjBoMTkydjY0SDE5MnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy92aWRlby1jYW1lcmEudnVlXG52YXIgdmlkZW9fY2FtZXJhX2RlZmF1bHQgPSB2aWRlb19jYW1lcmFfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3ZpZGVvLXBhdXNlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI4MSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjgxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI4MSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syODEgfSBmcm9tIFwidnVlXCI7XG52YXIgdmlkZW9fcGF1c2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjgxKHtcbiAgbmFtZTogXCJWaWRlb1BhdXNlXCIsXG4gIF9fbmFtZTogXCJ2aWRlby1wYXVzZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjgxKCksIF9jcmVhdGVFbGVtZW50QmxvY2syODEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4MShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNjRhNDQ4IDQ0OCAwIDEgMSAwIDg5NiA0NDggNDQ4IDAgMCAxIDAtODk2bTAgODMyYTM4NCAzODQgMCAwIDAgMC03NjggMzg0IDM4NCAwIDAgMCAwIDc2OG0tOTYtNTQ0cTMyIDAgMzIgMzJ2MjU2cTAgMzItMzIgMzJ0LTMyLTMyVjM4NHEwLTMyIDMyLTMybTE5MiAwcTMyIDAgMzIgMzJ2MjU2cTAgMzItMzIgMzJ0LTMyLTMyVjM4NHEwLTMyIDMyLTMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdmlkZW8tcGF1c2UudnVlXG52YXIgdmlkZW9fcGF1c2VfZGVmYXVsdCA9IHZpZGVvX3BhdXNlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy92aWRlby1wbGF5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI4MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjgyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI4MiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syODIgfSBmcm9tIFwidnVlXCI7XG52YXIgdmlkZW9fcGxheV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyODIoe1xuICBuYW1lOiBcIlZpZGVvUGxheVwiLFxuICBfX25hbWU6IFwidmlkZW8tcGxheVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjgyKCksIF9jcmVhdGVFbGVtZW50QmxvY2syODIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNjRhNDQ4IDQ0OCAwIDEgMSAwIDg5NiA0NDggNDQ4IDAgMCAxIDAtODk2bTAgODMyYTM4NCAzODQgMCAwIDAgMC03NjggMzg0IDM4NCAwIDAgMCAwIDc2OG0tNDgtMjQ3LjYxNkw2NjguNjA4IDUxMiA0NjQgMzc1LjYxNnptMTAuNjI0LTM0Mi42NTYgMjQ5LjQ3MiAxNjYuMzM2YTQ4IDQ4IDAgMCAxIDAgNzkuODcyTDQ3NC42MjQgNzE4LjI3MkE0OCA0OCAwIDAgMSA0MDAgNjc4LjMzNlYzNDUuNmE0OCA0OCAwIDAgMSA3NC42MjQtMzkuOTM2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3ZpZGVvLXBsYXkudnVlXG52YXIgdmlkZW9fcGxheV9kZWZhdWx0ID0gdmlkZW9fcGxheV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdmlldy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyODMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4Mywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syODMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjgzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHZpZXdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjgzKHtcbiAgbmFtZTogXCJWaWV3XCIsXG4gIF9fbmFtZTogXCJ2aWV3XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syODMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI4MyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjgzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiAxNjBjMzIwIDAgNTEyIDM1MiA1MTIgMzUyUzgzMiA4NjQgNTEyIDg2NCAwIDUxMiAwIDUxMnMxOTItMzUyIDUxMi0zNTJtMCA2NGMtMjI1LjI4IDAtMzg0LjEyOCAyMDguMDY0LTQzNi44IDI4OCA1Mi42MDggNzkuODcyIDIxMS40NTYgMjg4IDQzNi44IDI4OCAyMjUuMjggMCAzODQuMTI4LTIwOC4wNjQgNDM2LjgtMjg4LTUyLjYwOC03OS44NzItMjExLjQ1Ni0yODgtNDM2LjgtMjg4em0wIDY0YTIyNCAyMjQgMCAxIDEgMCA0NDggMjI0IDIyNCAwIDAgMSAwLTQ0OG0wIDY0YTE2MC4xOTIgMTYwLjE5MiAwIDAgMC0xNjAgMTYwYzAgODguMTkyIDcxLjc0NCAxNjAgMTYwIDE2MHMxNjAtNzEuODA4IDE2MC0xNjAtNzEuNzQ0LTE2MC0xNjAtMTYwXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdmlldy52dWVcbnZhciB2aWV3X2RlZmF1bHQgPSB2aWV3X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy93YWxsZXQtZmlsbGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI4NCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjg0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI4NCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syODQgfSBmcm9tIFwidnVlXCI7XG52YXIgd2FsbGV0X2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyODQoe1xuICBuYW1lOiBcIldhbGxldEZpbGxlZFwiLFxuICBfX25hbWU6IFwid2FsbGV0LWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjg0KCksIF9jcmVhdGVFbGVtZW50QmxvY2syODQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4NChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02ODggNTEyYTExMiAxMTIgMCAxIDAgMCAyMjRoMjA4djE2MEgxMjhWMzUyaDc2OHYxNjB6bTMyIDE2MGgtMzJhNDggNDggMCAwIDEgMC05NmgzMmE0OCA0OCAwIDAgMSAwIDk2bS04MC01NDQgMTI4IDE2MEgzODR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvd2FsbGV0LWZpbGxlZC52dWVcbnZhciB3YWxsZXRfZmlsbGVkX2RlZmF1bHQgPSB3YWxsZXRfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy93YWxsZXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50Mjg1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyODUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjg1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI4NSB9IGZyb20gXCJ2dWVcIjtcbnZhciB3YWxsZXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mjg1KHtcbiAgbmFtZTogXCJXYWxsZXRcIixcbiAgX19uYW1lOiBcIndhbGxldFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjg1KCksIF9jcmVhdGVFbGVtZW50QmxvY2syODUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4NShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02NDAgMjg4aC02NFYxMjhIMTI4djcwNGgzODR2MzJhMzIgMzIgMCAwIDAgMzIgMzJIOTZhMzIgMzIgMCAwIDEtMzItMzJWOTZhMzIgMzIgMCAwIDEgMzItMzJoNTEyYTMyIDMyIDAgMCAxIDMyIDMyelwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyODUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTI4IDMyMHY1MTJoNzY4VjMyMHptLTMyLTY0aDgzMmEzMiAzMiAwIDAgMSAzMiAzMnY1NzZhMzIgMzIgMCAwIDEtMzIgMzJIOTZhMzIgMzIgMCAwIDEtMzItMzJWMjg4YTMyIDMyIDAgMCAxIDMyLTMyXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4NShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03MDQgNjQwYTY0IDY0IDAgMSAxIDAtMTI4IDY0IDY0IDAgMCAxIDAgMTI4XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvd2FsbGV0LnZ1ZVxudmFyIHdhbGxldF9kZWZhdWx0ID0gd2FsbGV0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy93YXJuLXRyaWFuZ2xlLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyODYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4Niwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syODYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjg2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHdhcm5fdHJpYW5nbGVfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI4Nih7XG4gIG5hbWU6IFwiV2FyblRyaWFuZ2xlRmlsbGVkXCIsXG4gIF9fbmFtZTogXCJ3YXJuLXRyaWFuZ2xlLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjg2KCksIF9jcmVhdGVFbGVtZW50QmxvY2syODYoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwieG1sOnNwYWNlXCI6IFwicHJlc2VydmVcIixcbiAgICAgIHN0eWxlOiB7IFwiZW5hYmxlLWJhY2tncm91bmRcIjogXCJuZXcgMCAwIDEwMjQgMTAyNFwiIH0sXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyODYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNOTI4Ljk5IDc1NS44MyA1NzQuNiAyMDMuMjVjLTEyLjg5LTIwLjE2LTM2Ljc2LTMyLjU4LTYyLjYtMzIuNThzLTQ5LjcxIDEyLjQzLTYyLjYgMzIuNThMOTUuMDEgNzU1LjgzYy0xMi45MSAyMC4xMi0xMi45IDQ0LjkxLjAxIDY1LjAzIDEyLjkyIDIwLjEyIDM2Ljc4IDMyLjUxIDYyLjU5IDMyLjQ5aDcwOC43OGMyNS44Mi4wMSA0OS42OC0xMi4zNyA2Mi41OS0zMi40OSAxMi45MS0yMC4xMiAxMi45Mi00NC45MS4wMS02NS4wM001NTQuNjcgNzY4aC04NS4zM3YtODUuMzNoODUuMzN6bTAtNDI2LjY3djI5OC42NmgtODUuMzNWMzQxLjMyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3dhcm4tdHJpYW5nbGUtZmlsbGVkLnZ1ZVxudmFyIHdhcm5fdHJpYW5nbGVfZmlsbGVkX2RlZmF1bHQgPSB3YXJuX3RyaWFuZ2xlX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvd2FybmluZy1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50Mjg3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyODcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjg3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI4NyB9IGZyb20gXCJ2dWVcIjtcbnZhciB3YXJuaW5nX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyODcoe1xuICBuYW1lOiBcIldhcm5pbmdGaWxsZWRcIixcbiAgX19uYW1lOiBcIndhcm5pbmctZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syODcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI4NyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjg3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA2NGE0NDggNDQ4IDAgMSAxIDAgODk2IDQ0OCA0NDggMCAwIDEgMC04OTZtMCAxOTJhNTguNDMyIDU4LjQzMiAwIDAgMC01OC4yNCA2My43NDRsMjMuMzYgMjU2LjM4NGEzNS4wNzIgMzUuMDcyIDAgMCAwIDY5Ljc2IDBsMjMuMjk2LTI1Ni4zODRBNTguNDMyIDU4LjQzMiAwIDAgMCA1MTIgMjU2bTAgNTEyYTUxLjIgNTEuMiAwIDEgMCAwLTEwMi40IDUxLjIgNTEuMiAwIDAgMCAwIDEwMi40XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvd2FybmluZy1maWxsZWQudnVlXG52YXIgd2FybmluZ19maWxsZWRfZGVmYXVsdCA9IHdhcm5pbmdfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy93YXJuaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI4OCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjg4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI4OCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syODggfSBmcm9tIFwidnVlXCI7XG52YXIgd2FybmluZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyODgoe1xuICBuYW1lOiBcIldhcm5pbmdcIixcbiAgX19uYW1lOiBcIndhcm5pbmdcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI4OCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjg4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyODgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0YTQ0OCA0NDggMCAxIDEgMCA4OTYgNDQ4IDQ0OCAwIDAgMSAwLTg5Nm0wIDgzMmEzODQgMzg0IDAgMCAwIDAtNzY4IDM4NCAzODQgMCAwIDAgMCA3NjhtNDgtMTc2YTQ4IDQ4IDAgMSAxLTk2IDAgNDggNDggMCAwIDEgOTYgMG0tNDgtNDY0YTMyIDMyIDAgMCAxIDMyIDMydjI4OGEzMiAzMiAwIDAgMS02NCAwVjI4OGEzMiAzMiAwIDAgMSAzMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3dhcm5pbmcudnVlXG52YXIgd2FybmluZ19kZWZhdWx0ID0gd2FybmluZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvd2F0Y2gudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50Mjg5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyODksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjg5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI4OSB9IGZyb20gXCJ2dWVcIjtcbnZhciB3YXRjaF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyODkoe1xuICBuYW1lOiBcIldhdGNoXCIsXG4gIF9fbmFtZTogXCJ3YXRjaFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjg5KCksIF9jcmVhdGVFbGVtZW50QmxvY2syODkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNzY4YTI1NiAyNTYgMCAxIDAgMC01MTIgMjU2IDI1NiAwIDAgMCAwIDUxMm0wIDY0YTMyMCAzMjAgMCAxIDEgMC02NDAgMzIwIDMyMCAwIDAgMSAwIDY0MFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyODkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDgwIDM1MmEzMiAzMiAwIDAgMSAzMiAzMnYxNjBhMzIgMzIgMCAwIDEtNjQgMFYzODRhMzIgMzIgMCAwIDEgMzItMzJcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjg5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCA1MTJoMTI4cTMyIDAgMzIgMzJ0LTMyIDMySDQ4MHEtMzIgMC0zMi0zMnQzMi0zMm0xMjgtMjU2VjEyOEg0MTZ2MTI4aC02NFY2NGgzMjB2MTkyek00MTYgNzY4djEyOGgxOTJWNzY4aDY0djE5MkgzNTJWNzY4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3dhdGNoLnZ1ZVxudmFyIHdhdGNoX2RlZmF1bHQgPSB3YXRjaF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvd2F0ZXJtZWxvbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyOTAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI5MCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syOTAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjkwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHdhdGVybWVsb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjkwKHtcbiAgbmFtZTogXCJXYXRlcm1lbG9uXCIsXG4gIF9fbmFtZTogXCJ3YXRlcm1lbG9uXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syOTAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI5MChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjkwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTY4My4wNzIgNjAwLjMyLTQzLjY0OCAxNjIuODE2LTYxLjgyNC0xNi41MTIgNTMuMjQ4LTE5OC41MjhMNTc2IDQ5My4yNDhsLTE1OC40IDE1OC40LTQ1LjI0OC00NS4yNDggMTU4LjQtMTU4LjQtNTUuNjE2LTU1LjYxNi0xOTguNTI4IDUzLjI0OC0xNi41MTItNjEuODI0IDE2Mi44MTYtNDMuNjQ4TDI4Mi43NTIgMjAwQTM4NCAzODQgMCAwIDAgODI0IDc0MS4yNDh6bTIzMS41NTIgMTQxLjA1NmE0NDggNDQ4IDAgMSAxLTYzMi02MzJsNjMyIDYzMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3dhdGVybWVsb24udnVlXG52YXIgd2F0ZXJtZWxvbl9kZWZhdWx0ID0gd2F0ZXJtZWxvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvd2luZC1wb3dlci52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyOTEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI5MSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syOTEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjkxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHdpbmRfcG93ZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjkxKHtcbiAgbmFtZTogXCJXaW5kUG93ZXJcIixcbiAgX19uYW1lOiBcIndpbmQtcG93ZXJcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI5MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjkxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyOTEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTYwIDY0cTMyIDAgMzIgMzJ2ODMycTAgMzItMzIgMzJ0LTMyLTMyVjk2cTAtMzIgMzItMzJtNDE2IDM1NC42MjQgMTI4LTExLjU4NFYxNjguOTZsLTEyOC0xMS41MnYyNjEuMTJ6bS02NCA1LjgyNFYxNTEuNTUyTDMyMCAxMzQuMDhWMTYwaC02NFY2NGw2MTYuNzA0IDU2LjA2NEE5NiA5NiAwIDAgMSA5NjAgMjE1LjY4djE0NC42NGE5NiA5NiAwIDAgMS04Ny4yOTYgOTUuNjE2TDI1NiA1MTJWMjI0aDY0djIxNy45MnptMjU2LTIzLjIzMiA5OC44OC04Ljk2QTMyIDMyIDAgMCAwIDg5NiAzNjAuMzJWMjE1LjY4YTMyIDMyIDAgMCAwLTI5LjEyLTMxLjg3MmwtOTguODgtOC45NnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy93aW5kLXBvd2VyLnZ1ZVxudmFyIHdpbmRfcG93ZXJfZGVmYXVsdCA9IHdpbmRfcG93ZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3pvb20taW4udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjkyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyOTIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjkyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI5MiB9IGZyb20gXCJ2dWVcIjtcbnZhciB6b29tX2luX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI5Mih7XG4gIG5hbWU6IFwiWm9vbUluXCIsXG4gIF9fbmFtZTogXCJ6b29tLWluXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syOTIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI5MihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjkyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTc5NS45MDQgNzUwLjcyIDEyNC45OTIgMTI0LjkyOGEzMiAzMiAwIDAgMS00NS4yNDggNDUuMjQ4TDc1MC42NTYgNzk1LjkwNGE0MTYgNDE2IDAgMSAxIDQ1LjI0OC00NS4yNDh6TTQ4MCA4MzJhMzUyIDM1MiAwIDEgMCAwLTcwNCAzNTIgMzUyIDAgMCAwIDAgNzA0bS0zMi0zODR2LTk2YTMyIDMyIDAgMCAxIDY0IDB2OTZoOTZhMzIgMzIgMCAwIDEgMCA2NGgtOTZ2OTZhMzIgMzIgMCAwIDEtNjQgMHYtOTZoLTk2YTMyIDMyIDAgMCAxIDAtNjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvem9vbS1pbi52dWVcbnZhciB6b29tX2luX2RlZmF1bHQgPSB6b29tX2luX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy96b29tLW91dC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyOTMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI5Mywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syOTMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjkzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHpvb21fb3V0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI5Myh7XG4gIG5hbWU6IFwiWm9vbU91dFwiLFxuICBfX25hbWU6IFwiem9vbS1vdXRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI5MygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjkzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyOTMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtNzk1LjkwNCA3NTAuNzIgMTI0Ljk5MiAxMjQuOTI4YTMyIDMyIDAgMCAxLTQ1LjI0OCA0NS4yNDhMNzUwLjY1NiA3OTUuOTA0YTQxNiA0MTYgMCAxIDEgNDUuMjQ4LTQ1LjI0OHpNNDgwIDgzMmEzNTIgMzUyIDAgMSAwIDAtNzA0IDM1MiAzNTIgMCAwIDAgMCA3MDRNMzUyIDQ0OGgyNTZhMzIgMzIgMCAwIDEgMCA2NEgzNTJhMzIgMzIgMCAwIDEgMC02NFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3pvb20tb3V0LnZ1ZVxudmFyIHpvb21fb3V0X2RlZmF1bHQgPSB6b29tX291dF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuZXhwb3J0IHtcbiAgYWRkX2xvY2F0aW9uX2RlZmF1bHQgYXMgQWRkTG9jYXRpb24sXG4gIGFpbV9kZWZhdWx0IGFzIEFpbSxcbiAgYWxhcm1fY2xvY2tfZGVmYXVsdCBhcyBBbGFybUNsb2NrLFxuICBhcHBsZV9kZWZhdWx0IGFzIEFwcGxlLFxuICBhcnJvd19kb3duX2RlZmF1bHQgYXMgQXJyb3dEb3duLFxuICBhcnJvd19kb3duX2JvbGRfZGVmYXVsdCBhcyBBcnJvd0Rvd25Cb2xkLFxuICBhcnJvd19sZWZ0X2RlZmF1bHQgYXMgQXJyb3dMZWZ0LFxuICBhcnJvd19sZWZ0X2JvbGRfZGVmYXVsdCBhcyBBcnJvd0xlZnRCb2xkLFxuICBhcnJvd19yaWdodF9kZWZhdWx0IGFzIEFycm93UmlnaHQsXG4gIGFycm93X3JpZ2h0X2JvbGRfZGVmYXVsdCBhcyBBcnJvd1JpZ2h0Qm9sZCxcbiAgYXJyb3dfdXBfZGVmYXVsdCBhcyBBcnJvd1VwLFxuICBhcnJvd191cF9ib2xkX2RlZmF1bHQgYXMgQXJyb3dVcEJvbGQsXG4gIGF2YXRhcl9kZWZhdWx0IGFzIEF2YXRhcixcbiAgYmFja19kZWZhdWx0IGFzIEJhY2ssXG4gIGJhc2ViYWxsX2RlZmF1bHQgYXMgQmFzZWJhbGwsXG4gIGJhc2tldGJhbGxfZGVmYXVsdCBhcyBCYXNrZXRiYWxsLFxuICBiZWxsX2RlZmF1bHQgYXMgQmVsbCxcbiAgYmVsbF9maWxsZWRfZGVmYXVsdCBhcyBCZWxsRmlsbGVkLFxuICBiaWN5Y2xlX2RlZmF1bHQgYXMgQmljeWNsZSxcbiAgYm90dG9tX2RlZmF1bHQgYXMgQm90dG9tLFxuICBib3R0b21fbGVmdF9kZWZhdWx0IGFzIEJvdHRvbUxlZnQsXG4gIGJvdHRvbV9yaWdodF9kZWZhdWx0IGFzIEJvdHRvbVJpZ2h0LFxuICBib3dsX2RlZmF1bHQgYXMgQm93bCxcbiAgYm94X2RlZmF1bHQgYXMgQm94LFxuICBicmllZmNhc2VfZGVmYXVsdCBhcyBCcmllZmNhc2UsXG4gIGJydXNoX2RlZmF1bHQgYXMgQnJ1c2gsXG4gIGJydXNoX2ZpbGxlZF9kZWZhdWx0IGFzIEJydXNoRmlsbGVkLFxuICBidXJnZXJfZGVmYXVsdCBhcyBCdXJnZXIsXG4gIGNhbGVuZGFyX2RlZmF1bHQgYXMgQ2FsZW5kYXIsXG4gIGNhbWVyYV9kZWZhdWx0IGFzIENhbWVyYSxcbiAgY2FtZXJhX2ZpbGxlZF9kZWZhdWx0IGFzIENhbWVyYUZpbGxlZCxcbiAgY2FyZXRfYm90dG9tX2RlZmF1bHQgYXMgQ2FyZXRCb3R0b20sXG4gIGNhcmV0X2xlZnRfZGVmYXVsdCBhcyBDYXJldExlZnQsXG4gIGNhcmV0X3JpZ2h0X2RlZmF1bHQgYXMgQ2FyZXRSaWdodCxcbiAgY2FyZXRfdG9wX2RlZmF1bHQgYXMgQ2FyZXRUb3AsXG4gIGNlbGxwaG9uZV9kZWZhdWx0IGFzIENlbGxwaG9uZSxcbiAgY2hhdF9kb3Rfcm91bmRfZGVmYXVsdCBhcyBDaGF0RG90Um91bmQsXG4gIGNoYXRfZG90X3NxdWFyZV9kZWZhdWx0IGFzIENoYXREb3RTcXVhcmUsXG4gIGNoYXRfbGluZV9yb3VuZF9kZWZhdWx0IGFzIENoYXRMaW5lUm91bmQsXG4gIGNoYXRfbGluZV9zcXVhcmVfZGVmYXVsdCBhcyBDaGF0TGluZVNxdWFyZSxcbiAgY2hhdF9yb3VuZF9kZWZhdWx0IGFzIENoYXRSb3VuZCxcbiAgY2hhdF9zcXVhcmVfZGVmYXVsdCBhcyBDaGF0U3F1YXJlLFxuICBjaGVja19kZWZhdWx0IGFzIENoZWNrLFxuICBjaGVja2VkX2RlZmF1bHQgYXMgQ2hlY2tlZCxcbiAgY2hlcnJ5X2RlZmF1bHQgYXMgQ2hlcnJ5LFxuICBjaGlja2VuX2RlZmF1bHQgYXMgQ2hpY2tlbixcbiAgY2hyb21lX2ZpbGxlZF9kZWZhdWx0IGFzIENocm9tZUZpbGxlZCxcbiAgY2lyY2xlX2NoZWNrX2RlZmF1bHQgYXMgQ2lyY2xlQ2hlY2ssXG4gIGNpcmNsZV9jaGVja19maWxsZWRfZGVmYXVsdCBhcyBDaXJjbGVDaGVja0ZpbGxlZCxcbiAgY2lyY2xlX2Nsb3NlX2RlZmF1bHQgYXMgQ2lyY2xlQ2xvc2UsXG4gIGNpcmNsZV9jbG9zZV9maWxsZWRfZGVmYXVsdCBhcyBDaXJjbGVDbG9zZUZpbGxlZCxcbiAgY2lyY2xlX3BsdXNfZGVmYXVsdCBhcyBDaXJjbGVQbHVzLFxuICBjaXJjbGVfcGx1c19maWxsZWRfZGVmYXVsdCBhcyBDaXJjbGVQbHVzRmlsbGVkLFxuICBjbG9ja19kZWZhdWx0IGFzIENsb2NrLFxuICBjbG9zZV9kZWZhdWx0IGFzIENsb3NlLFxuICBjbG9zZV9ib2xkX2RlZmF1bHQgYXMgQ2xvc2VCb2xkLFxuICBjbG91ZHlfZGVmYXVsdCBhcyBDbG91ZHksXG4gIGNvZmZlZV9kZWZhdWx0IGFzIENvZmZlZSxcbiAgY29mZmVlX2N1cF9kZWZhdWx0IGFzIENvZmZlZUN1cCxcbiAgY29pbl9kZWZhdWx0IGFzIENvaW4sXG4gIGNvbGRfZHJpbmtfZGVmYXVsdCBhcyBDb2xkRHJpbmssXG4gIGNvbGxlY3Rpb25fZGVmYXVsdCBhcyBDb2xsZWN0aW9uLFxuICBjb2xsZWN0aW9uX3RhZ19kZWZhdWx0IGFzIENvbGxlY3Rpb25UYWcsXG4gIGNvbW1lbnRfZGVmYXVsdCBhcyBDb21tZW50LFxuICBjb21wYXNzX2RlZmF1bHQgYXMgQ29tcGFzcyxcbiAgY29ubmVjdGlvbl9kZWZhdWx0IGFzIENvbm5lY3Rpb24sXG4gIGNvb3JkaW5hdGVfZGVmYXVsdCBhcyBDb29yZGluYXRlLFxuICBjb3B5X2RvY3VtZW50X2RlZmF1bHQgYXMgQ29weURvY3VtZW50LFxuICBjcHVfZGVmYXVsdCBhcyBDcHUsXG4gIGNyZWRpdF9jYXJkX2RlZmF1bHQgYXMgQ3JlZGl0Q2FyZCxcbiAgY3JvcF9kZWZhdWx0IGFzIENyb3AsXG4gIGRfYXJyb3dfbGVmdF9kZWZhdWx0IGFzIERBcnJvd0xlZnQsXG4gIGRfYXJyb3dfcmlnaHRfZGVmYXVsdCBhcyBEQXJyb3dSaWdodCxcbiAgZF9jYXJldF9kZWZhdWx0IGFzIERDYXJldCxcbiAgZGF0YV9hbmFseXNpc19kZWZhdWx0IGFzIERhdGFBbmFseXNpcyxcbiAgZGF0YV9ib2FyZF9kZWZhdWx0IGFzIERhdGFCb2FyZCxcbiAgZGF0YV9saW5lX2RlZmF1bHQgYXMgRGF0YUxpbmUsXG4gIGRlbGV0ZV9kZWZhdWx0IGFzIERlbGV0ZSxcbiAgZGVsZXRlX2ZpbGxlZF9kZWZhdWx0IGFzIERlbGV0ZUZpbGxlZCxcbiAgZGVsZXRlX2xvY2F0aW9uX2RlZmF1bHQgYXMgRGVsZXRlTG9jYXRpb24sXG4gIGRlc3NlcnRfZGVmYXVsdCBhcyBEZXNzZXJ0LFxuICBkaXNjb3VudF9kZWZhdWx0IGFzIERpc2NvdW50LFxuICBkaXNoX2RlZmF1bHQgYXMgRGlzaCxcbiAgZGlzaF9kb3RfZGVmYXVsdCBhcyBEaXNoRG90LFxuICBkb2N1bWVudF9kZWZhdWx0IGFzIERvY3VtZW50LFxuICBkb2N1bWVudF9hZGRfZGVmYXVsdCBhcyBEb2N1bWVudEFkZCxcbiAgZG9jdW1lbnRfY2hlY2tlZF9kZWZhdWx0IGFzIERvY3VtZW50Q2hlY2tlZCxcbiAgZG9jdW1lbnRfY29weV9kZWZhdWx0IGFzIERvY3VtZW50Q29weSxcbiAgZG9jdW1lbnRfZGVsZXRlX2RlZmF1bHQgYXMgRG9jdW1lbnREZWxldGUsXG4gIGRvY3VtZW50X3JlbW92ZV9kZWZhdWx0IGFzIERvY3VtZW50UmVtb3ZlLFxuICBkb3dubG9hZF9kZWZhdWx0IGFzIERvd25sb2FkLFxuICBkcml6emxpbmdfZGVmYXVsdCBhcyBEcml6emxpbmcsXG4gIGVkaXRfZGVmYXVsdCBhcyBFZGl0LFxuICBlZGl0X3Blbl9kZWZhdWx0IGFzIEVkaXRQZW4sXG4gIGVsZW1lX2RlZmF1bHQgYXMgRWxlbWUsXG4gIGVsZW1lX2ZpbGxlZF9kZWZhdWx0IGFzIEVsZW1lRmlsbGVkLFxuICBlbGVtZW50X3BsdXNfZGVmYXVsdCBhcyBFbGVtZW50UGx1cyxcbiAgZXhwYW5kX2RlZmF1bHQgYXMgRXhwYW5kLFxuICBmYWlsZWRfZGVmYXVsdCBhcyBGYWlsZWQsXG4gIGZlbWFsZV9kZWZhdWx0IGFzIEZlbWFsZSxcbiAgZmlsZXNfZGVmYXVsdCBhcyBGaWxlcyxcbiAgZmlsbV9kZWZhdWx0IGFzIEZpbG0sXG4gIGZpbHRlcl9kZWZhdWx0IGFzIEZpbHRlcixcbiAgZmluaXNoZWRfZGVmYXVsdCBhcyBGaW5pc2hlZCxcbiAgZmlyc3RfYWlkX2tpdF9kZWZhdWx0IGFzIEZpcnN0QWlkS2l0LFxuICBmbGFnX2RlZmF1bHQgYXMgRmxhZyxcbiAgZm9sZF9kZWZhdWx0IGFzIEZvbGQsXG4gIGZvbGRlcl9kZWZhdWx0IGFzIEZvbGRlcixcbiAgZm9sZGVyX2FkZF9kZWZhdWx0IGFzIEZvbGRlckFkZCxcbiAgZm9sZGVyX2NoZWNrZWRfZGVmYXVsdCBhcyBGb2xkZXJDaGVja2VkLFxuICBmb2xkZXJfZGVsZXRlX2RlZmF1bHQgYXMgRm9sZGVyRGVsZXRlLFxuICBmb2xkZXJfb3BlbmVkX2RlZmF1bHQgYXMgRm9sZGVyT3BlbmVkLFxuICBmb2xkZXJfcmVtb3ZlX2RlZmF1bHQgYXMgRm9sZGVyUmVtb3ZlLFxuICBmb29kX2RlZmF1bHQgYXMgRm9vZCxcbiAgZm9vdGJhbGxfZGVmYXVsdCBhcyBGb290YmFsbCxcbiAgZm9ya19zcG9vbl9kZWZhdWx0IGFzIEZvcmtTcG9vbixcbiAgZnJpZXNfZGVmYXVsdCBhcyBGcmllcyxcbiAgZnVsbF9zY3JlZW5fZGVmYXVsdCBhcyBGdWxsU2NyZWVuLFxuICBnb2JsZXRfZGVmYXVsdCBhcyBHb2JsZXQsXG4gIGdvYmxldF9mdWxsX2RlZmF1bHQgYXMgR29ibGV0RnVsbCxcbiAgZ29ibGV0X3NxdWFyZV9kZWZhdWx0IGFzIEdvYmxldFNxdWFyZSxcbiAgZ29ibGV0X3NxdWFyZV9mdWxsX2RlZmF1bHQgYXMgR29ibGV0U3F1YXJlRnVsbCxcbiAgZ29sZF9tZWRhbF9kZWZhdWx0IGFzIEdvbGRNZWRhbCxcbiAgZ29vZHNfZGVmYXVsdCBhcyBHb29kcyxcbiAgZ29vZHNfZmlsbGVkX2RlZmF1bHQgYXMgR29vZHNGaWxsZWQsXG4gIGdyYXBlX2RlZmF1bHQgYXMgR3JhcGUsXG4gIGdyaWRfZGVmYXVsdCBhcyBHcmlkLFxuICBndWlkZV9kZWZhdWx0IGFzIEd1aWRlLFxuICBoYW5kYmFnX2RlZmF1bHQgYXMgSGFuZGJhZyxcbiAgaGVhZHNldF9kZWZhdWx0IGFzIEhlYWRzZXQsXG4gIGhlbHBfZGVmYXVsdCBhcyBIZWxwLFxuICBoZWxwX2ZpbGxlZF9kZWZhdWx0IGFzIEhlbHBGaWxsZWQsXG4gIGhpZGVfZGVmYXVsdCBhcyBIaWRlLFxuICBoaXN0b2dyYW1fZGVmYXVsdCBhcyBIaXN0b2dyYW0sXG4gIGhvbWVfZmlsbGVkX2RlZmF1bHQgYXMgSG9tZUZpbGxlZCxcbiAgaG90X3dhdGVyX2RlZmF1bHQgYXMgSG90V2F0ZXIsXG4gIGhvdXNlX2RlZmF1bHQgYXMgSG91c2UsXG4gIGljZV9jcmVhbV9kZWZhdWx0IGFzIEljZUNyZWFtLFxuICBpY2VfY3JlYW1fcm91bmRfZGVmYXVsdCBhcyBJY2VDcmVhbVJvdW5kLFxuICBpY2VfY3JlYW1fc3F1YXJlX2RlZmF1bHQgYXMgSWNlQ3JlYW1TcXVhcmUsXG4gIGljZV9kcmlua19kZWZhdWx0IGFzIEljZURyaW5rLFxuICBpY2VfdGVhX2RlZmF1bHQgYXMgSWNlVGVhLFxuICBpbmZvX2ZpbGxlZF9kZWZhdWx0IGFzIEluZm9GaWxsZWQsXG4gIGlwaG9uZV9kZWZhdWx0IGFzIElwaG9uZSxcbiAga2V5X2RlZmF1bHQgYXMgS2V5LFxuICBrbmlmZV9mb3JrX2RlZmF1bHQgYXMgS25pZmVGb3JrLFxuICBsaWdodG5pbmdfZGVmYXVsdCBhcyBMaWdodG5pbmcsXG4gIGxpbmtfZGVmYXVsdCBhcyBMaW5rLFxuICBsaXN0X2RlZmF1bHQgYXMgTGlzdCxcbiAgbG9hZGluZ19kZWZhdWx0IGFzIExvYWRpbmcsXG4gIGxvY2F0aW9uX2RlZmF1bHQgYXMgTG9jYXRpb24sXG4gIGxvY2F0aW9uX2ZpbGxlZF9kZWZhdWx0IGFzIExvY2F0aW9uRmlsbGVkLFxuICBsb2NhdGlvbl9pbmZvcm1hdGlvbl9kZWZhdWx0IGFzIExvY2F0aW9uSW5mb3JtYXRpb24sXG4gIGxvY2tfZGVmYXVsdCBhcyBMb2NrLFxuICBsb2xsaXBvcF9kZWZhdWx0IGFzIExvbGxpcG9wLFxuICBtYWdpY19zdGlja19kZWZhdWx0IGFzIE1hZ2ljU3RpY2ssXG4gIG1hZ25ldF9kZWZhdWx0IGFzIE1hZ25ldCxcbiAgbWFsZV9kZWZhdWx0IGFzIE1hbGUsXG4gIG1hbmFnZW1lbnRfZGVmYXVsdCBhcyBNYW5hZ2VtZW50LFxuICBtYXBfbG9jYXRpb25fZGVmYXVsdCBhcyBNYXBMb2NhdGlvbixcbiAgbWVkYWxfZGVmYXVsdCBhcyBNZWRhbCxcbiAgbWVtb19kZWZhdWx0IGFzIE1lbW8sXG4gIG1lbnVfZGVmYXVsdCBhcyBNZW51LFxuICBtZXNzYWdlX2RlZmF1bHQgYXMgTWVzc2FnZSxcbiAgbWVzc2FnZV9ib3hfZGVmYXVsdCBhcyBNZXNzYWdlQm94LFxuICBtaWNfZGVmYXVsdCBhcyBNaWMsXG4gIG1pY3JvcGhvbmVfZGVmYXVsdCBhcyBNaWNyb3Bob25lLFxuICBtaWxrX3RlYV9kZWZhdWx0IGFzIE1pbGtUZWEsXG4gIG1pbnVzX2RlZmF1bHQgYXMgTWludXMsXG4gIG1vbmV5X2RlZmF1bHQgYXMgTW9uZXksXG4gIG1vbml0b3JfZGVmYXVsdCBhcyBNb25pdG9yLFxuICBtb29uX2RlZmF1bHQgYXMgTW9vbixcbiAgbW9vbl9uaWdodF9kZWZhdWx0IGFzIE1vb25OaWdodCxcbiAgbW9yZV9kZWZhdWx0IGFzIE1vcmUsXG4gIG1vcmVfZmlsbGVkX2RlZmF1bHQgYXMgTW9yZUZpbGxlZCxcbiAgbW9zdGx5X2Nsb3VkeV9kZWZhdWx0IGFzIE1vc3RseUNsb3VkeSxcbiAgbW91c2VfZGVmYXVsdCBhcyBNb3VzZSxcbiAgbXVnX2RlZmF1bHQgYXMgTXVnLFxuICBtdXRlX2RlZmF1bHQgYXMgTXV0ZSxcbiAgbXV0ZV9ub3RpZmljYXRpb25fZGVmYXVsdCBhcyBNdXRlTm90aWZpY2F0aW9uLFxuICBub19zbW9raW5nX2RlZmF1bHQgYXMgTm9TbW9raW5nLFxuICBub3RlYm9va19kZWZhdWx0IGFzIE5vdGVib29rLFxuICBub3RpZmljYXRpb25fZGVmYXVsdCBhcyBOb3RpZmljYXRpb24sXG4gIG9kb21ldGVyX2RlZmF1bHQgYXMgT2RvbWV0ZXIsXG4gIG9mZmljZV9idWlsZGluZ19kZWZhdWx0IGFzIE9mZmljZUJ1aWxkaW5nLFxuICBvcGVuX2RlZmF1bHQgYXMgT3BlbixcbiAgb3BlcmF0aW9uX2RlZmF1bHQgYXMgT3BlcmF0aW9uLFxuICBvcHBvcnR1bml0eV9kZWZhdWx0IGFzIE9wcG9ydHVuaXR5LFxuICBvcmFuZ2VfZGVmYXVsdCBhcyBPcmFuZ2UsXG4gIHBhcGVyY2xpcF9kZWZhdWx0IGFzIFBhcGVyY2xpcCxcbiAgcGFydGx5X2Nsb3VkeV9kZWZhdWx0IGFzIFBhcnRseUNsb3VkeSxcbiAgcGVhcl9kZWZhdWx0IGFzIFBlYXIsXG4gIHBob25lX2RlZmF1bHQgYXMgUGhvbmUsXG4gIHBob25lX2ZpbGxlZF9kZWZhdWx0IGFzIFBob25lRmlsbGVkLFxuICBwaWN0dXJlX2RlZmF1bHQgYXMgUGljdHVyZSxcbiAgcGljdHVyZV9maWxsZWRfZGVmYXVsdCBhcyBQaWN0dXJlRmlsbGVkLFxuICBwaWN0dXJlX3JvdW5kZWRfZGVmYXVsdCBhcyBQaWN0dXJlUm91bmRlZCxcbiAgcGllX2NoYXJ0X2RlZmF1bHQgYXMgUGllQ2hhcnQsXG4gIHBsYWNlX2RlZmF1bHQgYXMgUGxhY2UsXG4gIHBsYXRmb3JtX2RlZmF1bHQgYXMgUGxhdGZvcm0sXG4gIHBsdXNfZGVmYXVsdCBhcyBQbHVzLFxuICBwb2ludGVyX2RlZmF1bHQgYXMgUG9pbnRlcixcbiAgcG9zaXRpb25fZGVmYXVsdCBhcyBQb3NpdGlvbixcbiAgcG9zdGNhcmRfZGVmYXVsdCBhcyBQb3N0Y2FyZCxcbiAgcG91cmluZ19kZWZhdWx0IGFzIFBvdXJpbmcsXG4gIHByZXNlbnRfZGVmYXVsdCBhcyBQcmVzZW50LFxuICBwcmljZV90YWdfZGVmYXVsdCBhcyBQcmljZVRhZyxcbiAgcHJpbnRlcl9kZWZhdWx0IGFzIFByaW50ZXIsXG4gIHByb21vdGlvbl9kZWZhdWx0IGFzIFByb21vdGlvbixcbiAgcXVhcnR6X3dhdGNoX2RlZmF1bHQgYXMgUXVhcnR6V2F0Y2gsXG4gIHF1ZXN0aW9uX2ZpbGxlZF9kZWZhdWx0IGFzIFF1ZXN0aW9uRmlsbGVkLFxuICByYW5rX2RlZmF1bHQgYXMgUmFuayxcbiAgcmVhZGluZ19kZWZhdWx0IGFzIFJlYWRpbmcsXG4gIHJlYWRpbmdfbGFtcF9kZWZhdWx0IGFzIFJlYWRpbmdMYW1wLFxuICByZWZyZXNoX2RlZmF1bHQgYXMgUmVmcmVzaCxcbiAgcmVmcmVzaF9sZWZ0X2RlZmF1bHQgYXMgUmVmcmVzaExlZnQsXG4gIHJlZnJlc2hfcmlnaHRfZGVmYXVsdCBhcyBSZWZyZXNoUmlnaHQsXG4gIHJlZnJpZ2VyYXRvcl9kZWZhdWx0IGFzIFJlZnJpZ2VyYXRvcixcbiAgcmVtb3ZlX2RlZmF1bHQgYXMgUmVtb3ZlLFxuICByZW1vdmVfZmlsbGVkX2RlZmF1bHQgYXMgUmVtb3ZlRmlsbGVkLFxuICByaWdodF9kZWZhdWx0IGFzIFJpZ2h0LFxuICBzY2FsZV90b19vcmlnaW5hbF9kZWZhdWx0IGFzIFNjYWxlVG9PcmlnaW5hbCxcbiAgc2Nob29sX2RlZmF1bHQgYXMgU2Nob29sLFxuICBzY2lzc29yX2RlZmF1bHQgYXMgU2Npc3NvcixcbiAgc2VhcmNoX2RlZmF1bHQgYXMgU2VhcmNoLFxuICBzZWxlY3RfZGVmYXVsdCBhcyBTZWxlY3QsXG4gIHNlbGxfZGVmYXVsdCBhcyBTZWxsLFxuICBzZW1pX3NlbGVjdF9kZWZhdWx0IGFzIFNlbWlTZWxlY3QsXG4gIHNlcnZpY2VfZGVmYXVsdCBhcyBTZXJ2aWNlLFxuICBzZXRfdXBfZGVmYXVsdCBhcyBTZXRVcCxcbiAgc2V0dGluZ19kZWZhdWx0IGFzIFNldHRpbmcsXG4gIHNoYXJlX2RlZmF1bHQgYXMgU2hhcmUsXG4gIHNoaXBfZGVmYXVsdCBhcyBTaGlwLFxuICBzaG9wX2RlZmF1bHQgYXMgU2hvcCxcbiAgc2hvcHBpbmdfYmFnX2RlZmF1bHQgYXMgU2hvcHBpbmdCYWcsXG4gIHNob3BwaW5nX2NhcnRfZGVmYXVsdCBhcyBTaG9wcGluZ0NhcnQsXG4gIHNob3BwaW5nX2NhcnRfZnVsbF9kZWZhdWx0IGFzIFNob3BwaW5nQ2FydEZ1bGwsXG4gIHNob3BwaW5nX3Ryb2xsZXlfZGVmYXVsdCBhcyBTaG9wcGluZ1Ryb2xsZXksXG4gIHNtb2tpbmdfZGVmYXVsdCBhcyBTbW9raW5nLFxuICBzb2NjZXJfZGVmYXVsdCBhcyBTb2NjZXIsXG4gIHNvbGRfb3V0X2RlZmF1bHQgYXMgU29sZE91dCxcbiAgc29ydF9kZWZhdWx0IGFzIFNvcnQsXG4gIHNvcnRfZG93bl9kZWZhdWx0IGFzIFNvcnREb3duLFxuICBzb3J0X3VwX2RlZmF1bHQgYXMgU29ydFVwLFxuICBzdGFtcF9kZWZhdWx0IGFzIFN0YW1wLFxuICBzdGFyX2RlZmF1bHQgYXMgU3RhcixcbiAgc3Rhcl9maWxsZWRfZGVmYXVsdCBhcyBTdGFyRmlsbGVkLFxuICBzdG9wd2F0Y2hfZGVmYXVsdCBhcyBTdG9wd2F0Y2gsXG4gIHN1Y2Nlc3NfZmlsbGVkX2RlZmF1bHQgYXMgU3VjY2Vzc0ZpbGxlZCxcbiAgc3VnYXJfZGVmYXVsdCBhcyBTdWdhcixcbiAgc3VpdGNhc2VfZGVmYXVsdCBhcyBTdWl0Y2FzZSxcbiAgc3VpdGNhc2VfbGluZV9kZWZhdWx0IGFzIFN1aXRjYXNlTGluZSxcbiAgc3VubnlfZGVmYXVsdCBhcyBTdW5ueSxcbiAgc3VucmlzZV9kZWZhdWx0IGFzIFN1bnJpc2UsXG4gIHN1bnNldF9kZWZhdWx0IGFzIFN1bnNldCxcbiAgc3dpdGNoX2RlZmF1bHQgYXMgU3dpdGNoLFxuICBzd2l0Y2hfYnV0dG9uX2RlZmF1bHQgYXMgU3dpdGNoQnV0dG9uLFxuICBzd2l0Y2hfZmlsbGVkX2RlZmF1bHQgYXMgU3dpdGNoRmlsbGVkLFxuICB0YWtlYXdheV9ib3hfZGVmYXVsdCBhcyBUYWtlYXdheUJveCxcbiAgdGlja2V0X2RlZmF1bHQgYXMgVGlja2V0LFxuICB0aWNrZXRzX2RlZmF1bHQgYXMgVGlja2V0cyxcbiAgdGltZXJfZGVmYXVsdCBhcyBUaW1lcixcbiAgdG9pbGV0X3BhcGVyX2RlZmF1bHQgYXMgVG9pbGV0UGFwZXIsXG4gIHRvb2xzX2RlZmF1bHQgYXMgVG9vbHMsXG4gIHRvcF9kZWZhdWx0IGFzIFRvcCxcbiAgdG9wX2xlZnRfZGVmYXVsdCBhcyBUb3BMZWZ0LFxuICB0b3BfcmlnaHRfZGVmYXVsdCBhcyBUb3BSaWdodCxcbiAgdHJlbmRfY2hhcnRzX2RlZmF1bHQgYXMgVHJlbmRDaGFydHMsXG4gIHRyb3BoeV9kZWZhdWx0IGFzIFRyb3BoeSxcbiAgdHJvcGh5X2Jhc2VfZGVmYXVsdCBhcyBUcm9waHlCYXNlLFxuICB0dXJuX29mZl9kZWZhdWx0IGFzIFR1cm5PZmYsXG4gIHVtYnJlbGxhX2RlZmF1bHQgYXMgVW1icmVsbGEsXG4gIHVubG9ja19kZWZhdWx0IGFzIFVubG9jayxcbiAgdXBsb2FkX2RlZmF1bHQgYXMgVXBsb2FkLFxuICB1cGxvYWRfZmlsbGVkX2RlZmF1bHQgYXMgVXBsb2FkRmlsbGVkLFxuICB1c2VyX2RlZmF1bHQgYXMgVXNlcixcbiAgdXNlcl9maWxsZWRfZGVmYXVsdCBhcyBVc2VyRmlsbGVkLFxuICB2YW5fZGVmYXVsdCBhcyBWYW4sXG4gIHZpZGVvX2NhbWVyYV9kZWZhdWx0IGFzIFZpZGVvQ2FtZXJhLFxuICB2aWRlb19jYW1lcmFfZmlsbGVkX2RlZmF1bHQgYXMgVmlkZW9DYW1lcmFGaWxsZWQsXG4gIHZpZGVvX3BhdXNlX2RlZmF1bHQgYXMgVmlkZW9QYXVzZSxcbiAgdmlkZW9fcGxheV9kZWZhdWx0IGFzIFZpZGVvUGxheSxcbiAgdmlld19kZWZhdWx0IGFzIFZpZXcsXG4gIHdhbGxldF9kZWZhdWx0IGFzIFdhbGxldCxcbiAgd2FsbGV0X2ZpbGxlZF9kZWZhdWx0IGFzIFdhbGxldEZpbGxlZCxcbiAgd2Fybl90cmlhbmdsZV9maWxsZWRfZGVmYXVsdCBhcyBXYXJuVHJpYW5nbGVGaWxsZWQsXG4gIHdhcm5pbmdfZGVmYXVsdCBhcyBXYXJuaW5nLFxuICB3YXJuaW5nX2ZpbGxlZF9kZWZhdWx0IGFzIFdhcm5pbmdGaWxsZWQsXG4gIHdhdGNoX2RlZmF1bHQgYXMgV2F0Y2gsXG4gIHdhdGVybWVsb25fZGVmYXVsdCBhcyBXYXRlcm1lbG9uLFxuICB3aW5kX3Bvd2VyX2RlZmF1bHQgYXMgV2luZFBvd2VyLFxuICB6b29tX2luX2RlZmF1bHQgYXMgWm9vbUluLFxuICB6b29tX291dF9kZWZhdWx0IGFzIFpvb21PdXRcbn07XG4iLCJpbXBvcnQgeyB3YXJuIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IGZyb21QYWlycyB9IGZyb20gJ2xvZGFzaC11bmlmaWVkJztcbmltcG9ydCAnLi4vLi4vdHlwZXMubWpzJztcbmltcG9ydCAnLi4vLi4vb2JqZWN0cy5tanMnO1xuaW1wb3J0IHsgaXNPYmplY3QsIGhhc093biB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3QgZXBQcm9wS2V5ID0gXCJfX2VwUHJvcEtleVwiO1xuY29uc3QgZGVmaW5lUHJvcFR5cGUgPSAodmFsKSA9PiB2YWw7XG5jb25zdCBpc0VwUHJvcCA9ICh2YWwpID0+IGlzT2JqZWN0KHZhbCkgJiYgISF2YWxbZXBQcm9wS2V5XTtcbmNvbnN0IGJ1aWxkUHJvcCA9IChwcm9wLCBrZXkpID0+IHtcbiAgaWYgKCFpc09iamVjdChwcm9wKSB8fCBpc0VwUHJvcChwcm9wKSlcbiAgICByZXR1cm4gcHJvcDtcbiAgY29uc3QgeyB2YWx1ZXMsIHJlcXVpcmVkLCBkZWZhdWx0OiBkZWZhdWx0VmFsdWUsIHR5cGUsIHZhbGlkYXRvciB9ID0gcHJvcDtcbiAgY29uc3QgX3ZhbGlkYXRvciA9IHZhbHVlcyB8fCB2YWxpZGF0b3IgPyAodmFsKSA9PiB7XG4gICAgbGV0IHZhbGlkID0gZmFsc2U7XG4gICAgbGV0IGFsbG93ZWRWYWx1ZXMgPSBbXTtcbiAgICBpZiAodmFsdWVzKSB7XG4gICAgICBhbGxvd2VkVmFsdWVzID0gQXJyYXkuZnJvbSh2YWx1ZXMpO1xuICAgICAgaWYgKGhhc093bihwcm9wLCBcImRlZmF1bHRcIikpIHtcbiAgICAgICAgYWxsb3dlZFZhbHVlcy5wdXNoKGRlZmF1bHRWYWx1ZSk7XG4gICAgICB9XG4gICAgICB2YWxpZCB8fCAodmFsaWQgPSBhbGxvd2VkVmFsdWVzLmluY2x1ZGVzKHZhbCkpO1xuICAgIH1cbiAgICBpZiAodmFsaWRhdG9yKVxuICAgICAgdmFsaWQgfHwgKHZhbGlkID0gdmFsaWRhdG9yKHZhbCkpO1xuICAgIGlmICghdmFsaWQgJiYgYWxsb3dlZFZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBhbGxvd1ZhbHVlc1RleHQgPSBbLi4ubmV3IFNldChhbGxvd2VkVmFsdWVzKV0ubWFwKCh2YWx1ZSkgPT4gSlNPTi5zdHJpbmdpZnkodmFsdWUpKS5qb2luKFwiLCBcIik7XG4gICAgICB3YXJuKGBJbnZhbGlkIHByb3A6IHZhbGlkYXRpb24gZmFpbGVkJHtrZXkgPyBgIGZvciBwcm9wIFwiJHtrZXl9XCJgIDogXCJcIn0uIEV4cGVjdGVkIG9uZSBvZiBbJHthbGxvd1ZhbHVlc1RleHR9XSwgZ290IHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsKX0uYCk7XG4gICAgfVxuICAgIHJldHVybiB2YWxpZDtcbiAgfSA6IHZvaWQgMDtcbiAgY29uc3QgZXBQcm9wID0ge1xuICAgIHR5cGUsXG4gICAgcmVxdWlyZWQ6ICEhcmVxdWlyZWQsXG4gICAgdmFsaWRhdG9yOiBfdmFsaWRhdG9yLFxuICAgIFtlcFByb3BLZXldOiB0cnVlXG4gIH07XG4gIGlmIChoYXNPd24ocHJvcCwgXCJkZWZhdWx0XCIpKVxuICAgIGVwUHJvcC5kZWZhdWx0ID0gZGVmYXVsdFZhbHVlO1xuICByZXR1cm4gZXBQcm9wO1xufTtcbmNvbnN0IGJ1aWxkUHJvcHMgPSAocHJvcHMpID0+IGZyb21QYWlycyhPYmplY3QuZW50cmllcyhwcm9wcykubWFwKChba2V5LCBvcHRpb25dKSA9PiBbXG4gIGtleSxcbiAgYnVpbGRQcm9wKG9wdGlvbiwga2V5KVxuXSkpO1xuXG5leHBvcnQgeyBidWlsZFByb3AsIGJ1aWxkUHJvcHMsIGRlZmluZVByb3BUeXBlLCBlcFByb3BLZXksIGlzRXBQcm9wIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW50aW1lLm1qcy5tYXBcbiIsImltcG9ydCB7IENsb3NlLCBTdWNjZXNzRmlsbGVkLCBJbmZvRmlsbGVkLCBXYXJuaW5nRmlsbGVkLCBDaXJjbGVDbG9zZUZpbGxlZCwgTG9hZGluZywgQ2lyY2xlQ2hlY2ssIENpcmNsZUNsb3NlIH0gZnJvbSAnQGVsZW1lbnQtcGx1cy9pY29ucy12dWUnO1xuaW1wb3J0ICcuL3Byb3BzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBkZWZpbmVQcm9wVHlwZSB9IGZyb20gJy4vcHJvcHMvcnVudGltZS5tanMnO1xuXG5jb25zdCBpY29uUHJvcFR5cGUgPSBkZWZpbmVQcm9wVHlwZShbXG4gIFN0cmluZyxcbiAgT2JqZWN0LFxuICBGdW5jdGlvblxuXSk7XG5jb25zdCBDbG9zZUNvbXBvbmVudHMgPSB7XG4gIENsb3NlXG59O1xuY29uc3QgVHlwZUNvbXBvbmVudHMgPSB7XG4gIENsb3NlLFxuICBTdWNjZXNzRmlsbGVkLFxuICBJbmZvRmlsbGVkLFxuICBXYXJuaW5nRmlsbGVkLFxuICBDaXJjbGVDbG9zZUZpbGxlZFxufTtcbmNvbnN0IFR5cGVDb21wb25lbnRzTWFwID0ge1xuICBzdWNjZXNzOiBTdWNjZXNzRmlsbGVkLFxuICB3YXJuaW5nOiBXYXJuaW5nRmlsbGVkLFxuICBlcnJvcjogQ2lyY2xlQ2xvc2VGaWxsZWQsXG4gIGluZm86IEluZm9GaWxsZWRcbn07XG5jb25zdCBWYWxpZGF0ZUNvbXBvbmVudHNNYXAgPSB7XG4gIHZhbGlkYXRpbmc6IExvYWRpbmcsXG4gIHN1Y2Nlc3M6IENpcmNsZUNoZWNrLFxuICBlcnJvcjogQ2lyY2xlQ2xvc2Vcbn07XG5cbmV4cG9ydCB7IENsb3NlQ29tcG9uZW50cywgVHlwZUNvbXBvbmVudHMsIFR5cGVDb21wb25lbnRzTWFwLCBWYWxpZGF0ZUNvbXBvbmVudHNNYXAsIGljb25Qcm9wVHlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWNvbi5tanMubWFwXG4iLCJpbXBvcnQgeyBOT09QIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5jb25zdCB3aXRoSW5zdGFsbCA9IChtYWluLCBleHRyYSkgPT4ge1xuICA7XG4gIG1haW4uaW5zdGFsbCA9IChhcHApID0+IHtcbiAgICBmb3IgKGNvbnN0IGNvbXAgb2YgW21haW4sIC4uLk9iamVjdC52YWx1ZXMoZXh0cmEgIT0gbnVsbCA/IGV4dHJhIDoge30pXSkge1xuICAgICAgYXBwLmNvbXBvbmVudChjb21wLm5hbWUsIGNvbXApO1xuICAgIH1cbiAgfTtcbiAgaWYgKGV4dHJhKSB7XG4gICAgZm9yIChjb25zdCBba2V5LCBjb21wXSBvZiBPYmplY3QuZW50cmllcyhleHRyYSkpIHtcbiAgICAgIDtcbiAgICAgIG1haW5ba2V5XSA9IGNvbXA7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYWluO1xufTtcbmNvbnN0IHdpdGhJbnN0YWxsRnVuY3Rpb24gPSAoZm4sIG5hbWUpID0+IHtcbiAgO1xuICBmbi5pbnN0YWxsID0gKGFwcCkgPT4ge1xuICAgIDtcbiAgICBmbi5fY29udGV4dCA9IGFwcC5fY29udGV4dDtcbiAgICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXNbbmFtZV0gPSBmbjtcbiAgfTtcbiAgcmV0dXJuIGZuO1xufTtcbmNvbnN0IHdpdGhJbnN0YWxsRGlyZWN0aXZlID0gKGRpcmVjdGl2ZSwgbmFtZSkgPT4ge1xuICA7XG4gIGRpcmVjdGl2ZS5pbnN0YWxsID0gKGFwcCkgPT4ge1xuICAgIGFwcC5kaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlKTtcbiAgfTtcbiAgcmV0dXJuIGRpcmVjdGl2ZTtcbn07XG5jb25zdCB3aXRoTm9vcEluc3RhbGwgPSAoY29tcG9uZW50KSA9PiB7XG4gIDtcbiAgY29tcG9uZW50Lmluc3RhbGwgPSBOT09QO1xuICByZXR1cm4gY29tcG9uZW50O1xufTtcblxuZXhwb3J0IHsgd2l0aEluc3RhbGwsIHdpdGhJbnN0YWxsRGlyZWN0aXZlLCB3aXRoSW5zdGFsbEZ1bmN0aW9uLCB3aXRoTm9vcEluc3RhbGwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluc3RhbGwubWpzLm1hcFxuIiwiY29uc3QgRVZFTlRfQ09ERSA9IHtcbiAgdGFiOiBcIlRhYlwiLFxuICBlbnRlcjogXCJFbnRlclwiLFxuICBzcGFjZTogXCJTcGFjZVwiLFxuICBsZWZ0OiBcIkFycm93TGVmdFwiLFxuICB1cDogXCJBcnJvd1VwXCIsXG4gIHJpZ2h0OiBcIkFycm93UmlnaHRcIixcbiAgZG93bjogXCJBcnJvd0Rvd25cIixcbiAgZXNjOiBcIkVzY2FwZVwiLFxuICBkZWxldGU6IFwiRGVsZXRlXCIsXG4gIGJhY2tzcGFjZTogXCJCYWNrc3BhY2VcIixcbiAgbnVtcGFkRW50ZXI6IFwiTnVtcGFkRW50ZXJcIixcbiAgcGFnZVVwOiBcIlBhZ2VVcFwiLFxuICBwYWdlRG93bjogXCJQYWdlRG93blwiLFxuICBob21lOiBcIkhvbWVcIixcbiAgZW5kOiBcIkVuZFwiXG59O1xuXG5leHBvcnQgeyBFVkVOVF9DT0RFIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmlhLm1qcy5tYXBcbiIsImNvbnN0IGNvbXBvbmVudFNpemVzID0gW1wiXCIsIFwiZGVmYXVsdFwiLCBcInNtYWxsXCIsIFwibGFyZ2VcIl07XG5jb25zdCBjb21wb25lbnRTaXplTWFwID0ge1xuICBsYXJnZTogNDAsXG4gIGRlZmF1bHQ6IDMyLFxuICBzbWFsbDogMjRcbn07XG5cbmV4cG9ydCB7IGNvbXBvbmVudFNpemVNYXAsIGNvbXBvbmVudFNpemVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaXplLm1qcy5tYXBcbiIsImNvbnN0IG11dGFibGUgPSAodmFsKSA9PiB2YWw7XG5cbmV4cG9ydCB7IG11dGFibGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzY3JpcHQubWpzLm1hcFxuIiwiaW1wb3J0IHsgd2F0Y2gsIHVucmVmIH0gZnJvbSAndnVlJztcbmltcG9ydCAnLi4vLi4vdXRpbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IGRlYnVnV2FybiB9IGZyb20gJy4uLy4uL3V0aWxzL2Vycm9yLm1qcyc7XG5cbmNvbnN0IHVzZURlcHJlY2F0ZWQgPSAoeyBmcm9tLCByZXBsYWNlbWVudCwgc2NvcGUsIHZlcnNpb24sIHJlZiwgdHlwZSA9IFwiQVBJXCIgfSwgY29uZGl0aW9uKSA9PiB7XG4gIHdhdGNoKCgpID0+IHVucmVmKGNvbmRpdGlvbiksICh2YWwpID0+IHtcbiAgICBpZiAodmFsKSB7XG4gICAgICBkZWJ1Z1dhcm4oc2NvcGUsIGBbJHt0eXBlfV0gJHtmcm9tfSBpcyBhYm91dCB0byBiZSBkZXByZWNhdGVkIGluIHZlcnNpb24gJHt2ZXJzaW9ufSwgcGxlYXNlIHVzZSAke3JlcGxhY2VtZW50fSBpbnN0ZWFkLlxuRm9yIG1vcmUgZGV0YWlsLCBwbGVhc2UgdmlzaXQ6ICR7cmVmfVxuYCk7XG4gICAgfVxuICB9LCB7XG4gICAgaW1tZWRpYXRlOiB0cnVlXG4gIH0pO1xufTtcblxuZXhwb3J0IHsgdXNlRGVwcmVjYXRlZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwidmFyIEVuZ2xpc2ggPSB7XG4gIG5hbWU6IFwiZW5cIixcbiAgZWw6IHtcbiAgICBicmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogXCJCcmVhZGNydW1iXCJcbiAgICB9LFxuICAgIGNvbG9ycGlja2VyOiB7XG4gICAgICBjb25maXJtOiBcIk9LXCIsXG4gICAgICBjbGVhcjogXCJDbGVhclwiLFxuICAgICAgZGVmYXVsdExhYmVsOiBcImNvbG9yIHBpY2tlclwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiY3VycmVudCBjb2xvciBpcyB7Y29sb3J9LiBwcmVzcyBlbnRlciB0byBzZWxlY3QgYSBuZXcgY29sb3IuXCJcbiAgICB9LFxuICAgIGRhdGVwaWNrZXI6IHtcbiAgICAgIG5vdzogXCJOb3dcIixcbiAgICAgIHRvZGF5OiBcIlRvZGF5XCIsXG4gICAgICBjYW5jZWw6IFwiQ2FuY2VsXCIsXG4gICAgICBjbGVhcjogXCJDbGVhclwiLFxuICAgICAgY29uZmlybTogXCJPS1wiLFxuICAgICAgZGF0ZVRhYmxlUHJvbXB0OiBcIlVzZSB0aGUgYXJyb3cga2V5cyBhbmQgZW50ZXIgdG8gc2VsZWN0IHRoZSBkYXkgb2YgdGhlIG1vbnRoXCIsXG4gICAgICBtb250aFRhYmxlUHJvbXB0OiBcIlVzZSB0aGUgYXJyb3cga2V5cyBhbmQgZW50ZXIgdG8gc2VsZWN0IHRoZSBtb250aFwiLFxuICAgICAgeWVhclRhYmxlUHJvbXB0OiBcIlVzZSB0aGUgYXJyb3cga2V5cyBhbmQgZW50ZXIgdG8gc2VsZWN0IHRoZSB5ZWFyXCIsXG4gICAgICBzZWxlY3RlZERhdGU6IFwiU2VsZWN0ZWQgZGF0ZVwiLFxuICAgICAgc2VsZWN0RGF0ZTogXCJTZWxlY3QgZGF0ZVwiLFxuICAgICAgc2VsZWN0VGltZTogXCJTZWxlY3QgdGltZVwiLFxuICAgICAgc3RhcnREYXRlOiBcIlN0YXJ0IERhdGVcIixcbiAgICAgIHN0YXJ0VGltZTogXCJTdGFydCBUaW1lXCIsXG4gICAgICBlbmREYXRlOiBcIkVuZCBEYXRlXCIsXG4gICAgICBlbmRUaW1lOiBcIkVuZCBUaW1lXCIsXG4gICAgICBwcmV2WWVhcjogXCJQcmV2aW91cyBZZWFyXCIsXG4gICAgICBuZXh0WWVhcjogXCJOZXh0IFllYXJcIixcbiAgICAgIHByZXZNb250aDogXCJQcmV2aW91cyBNb250aFwiLFxuICAgICAgbmV4dE1vbnRoOiBcIk5leHQgTW9udGhcIixcbiAgICAgIHllYXI6IFwiXCIsXG4gICAgICBtb250aDE6IFwiSmFudWFyeVwiLFxuICAgICAgbW9udGgyOiBcIkZlYnJ1YXJ5XCIsXG4gICAgICBtb250aDM6IFwiTWFyY2hcIixcbiAgICAgIG1vbnRoNDogXCJBcHJpbFwiLFxuICAgICAgbW9udGg1OiBcIk1heVwiLFxuICAgICAgbW9udGg2OiBcIkp1bmVcIixcbiAgICAgIG1vbnRoNzogXCJKdWx5XCIsXG4gICAgICBtb250aDg6IFwiQXVndXN0XCIsXG4gICAgICBtb250aDk6IFwiU2VwdGVtYmVyXCIsXG4gICAgICBtb250aDEwOiBcIk9jdG9iZXJcIixcbiAgICAgIG1vbnRoMTE6IFwiTm92ZW1iZXJcIixcbiAgICAgIG1vbnRoMTI6IFwiRGVjZW1iZXJcIixcbiAgICAgIHdlZWs6IFwid2Vla1wiLFxuICAgICAgd2Vla3M6IHtcbiAgICAgICAgc3VuOiBcIlN1blwiLFxuICAgICAgICBtb246IFwiTW9uXCIsXG4gICAgICAgIHR1ZTogXCJUdWVcIixcbiAgICAgICAgd2VkOiBcIldlZFwiLFxuICAgICAgICB0aHU6IFwiVGh1XCIsXG4gICAgICAgIGZyaTogXCJGcmlcIixcbiAgICAgICAgc2F0OiBcIlNhdFwiXG4gICAgICB9LFxuICAgICAgd2Vla3NGdWxsOiB7XG4gICAgICAgIHN1bjogXCJTdW5kYXlcIixcbiAgICAgICAgbW9uOiBcIk1vbmRheVwiLFxuICAgICAgICB0dWU6IFwiVHVlc2RheVwiLFxuICAgICAgICB3ZWQ6IFwiV2VkbmVzZGF5XCIsXG4gICAgICAgIHRodTogXCJUaHVyc2RheVwiLFxuICAgICAgICBmcmk6IFwiRnJpZGF5XCIsXG4gICAgICAgIHNhdDogXCJTYXR1cmRheVwiXG4gICAgICB9LFxuICAgICAgbW9udGhzOiB7XG4gICAgICAgIGphbjogXCJKYW5cIixcbiAgICAgICAgZmViOiBcIkZlYlwiLFxuICAgICAgICBtYXI6IFwiTWFyXCIsXG4gICAgICAgIGFwcjogXCJBcHJcIixcbiAgICAgICAgbWF5OiBcIk1heVwiLFxuICAgICAgICBqdW46IFwiSnVuXCIsXG4gICAgICAgIGp1bDogXCJKdWxcIixcbiAgICAgICAgYXVnOiBcIkF1Z1wiLFxuICAgICAgICBzZXA6IFwiU2VwXCIsXG4gICAgICAgIG9jdDogXCJPY3RcIixcbiAgICAgICAgbm92OiBcIk5vdlwiLFxuICAgICAgICBkZWM6IFwiRGVjXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGlucHV0TnVtYmVyOiB7XG4gICAgICBkZWNyZWFzZTogXCJkZWNyZWFzZSBudW1iZXJcIixcbiAgICAgIGluY3JlYXNlOiBcImluY3JlYXNlIG51bWJlclwiXG4gICAgfSxcbiAgICBzZWxlY3Q6IHtcbiAgICAgIGxvYWRpbmc6IFwiTG9hZGluZ1wiLFxuICAgICAgbm9NYXRjaDogXCJObyBtYXRjaGluZyBkYXRhXCIsXG4gICAgICBub0RhdGE6IFwiTm8gZGF0YVwiLFxuICAgICAgcGxhY2Vob2xkZXI6IFwiU2VsZWN0XCJcbiAgICB9LFxuICAgIGRyb3Bkb3duOiB7XG4gICAgICB0b2dnbGVEcm9wZG93bjogXCJUb2dnbGUgRHJvcGRvd25cIlxuICAgIH0sXG4gICAgY2FzY2FkZXI6IHtcbiAgICAgIG5vTWF0Y2g6IFwiTm8gbWF0Y2hpbmcgZGF0YVwiLFxuICAgICAgbG9hZGluZzogXCJMb2FkaW5nXCIsXG4gICAgICBwbGFjZWhvbGRlcjogXCJTZWxlY3RcIixcbiAgICAgIG5vRGF0YTogXCJObyBkYXRhXCJcbiAgICB9LFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGdvdG86IFwiR28gdG9cIixcbiAgICAgIHBhZ2VzaXplOiBcIi9wYWdlXCIsXG4gICAgICB0b3RhbDogXCJUb3RhbCB7dG90YWx9XCIsXG4gICAgICBwYWdlQ2xhc3NpZmllcjogXCJcIixcbiAgICAgIHBhZ2U6IFwiUGFnZVwiLFxuICAgICAgcHJldjogXCJHbyB0byBwcmV2aW91cyBwYWdlXCIsXG4gICAgICBuZXh0OiBcIkdvIHRvIG5leHQgcGFnZVwiLFxuICAgICAgY3VycmVudFBhZ2U6IFwicGFnZSB7cGFnZXJ9XCIsXG4gICAgICBwcmV2UGFnZXM6IFwiUHJldmlvdXMge3BhZ2VyfSBwYWdlc1wiLFxuICAgICAgbmV4dFBhZ2VzOiBcIk5leHQge3BhZ2VyfSBwYWdlc1wiLFxuICAgICAgZGVwcmVjYXRpb25XYXJuaW5nOiBcIkRlcHJlY2F0ZWQgdXNhZ2VzIGRldGVjdGVkLCBwbGVhc2UgcmVmZXIgdG8gdGhlIGVsLXBhZ2luYXRpb24gZG9jdW1lbnRhdGlvbiBmb3IgbW9yZSBkZXRhaWxzXCJcbiAgICB9LFxuICAgIGRpYWxvZzoge1xuICAgICAgY2xvc2U6IFwiQ2xvc2UgdGhpcyBkaWFsb2dcIlxuICAgIH0sXG4gICAgZHJhd2VyOiB7XG4gICAgICBjbG9zZTogXCJDbG9zZSB0aGlzIGRpYWxvZ1wiXG4gICAgfSxcbiAgICBtZXNzYWdlYm94OiB7XG4gICAgICB0aXRsZTogXCJNZXNzYWdlXCIsXG4gICAgICBjb25maXJtOiBcIk9LXCIsXG4gICAgICBjYW5jZWw6IFwiQ2FuY2VsXCIsXG4gICAgICBlcnJvcjogXCJJbGxlZ2FsIGlucHV0XCIsXG4gICAgICBjbG9zZTogXCJDbG9zZSB0aGlzIGRpYWxvZ1wiXG4gICAgfSxcbiAgICB1cGxvYWQ6IHtcbiAgICAgIGRlbGV0ZVRpcDogXCJwcmVzcyBkZWxldGUgdG8gcmVtb3ZlXCIsXG4gICAgICBkZWxldGU6IFwiRGVsZXRlXCIsXG4gICAgICBwcmV2aWV3OiBcIlByZXZpZXdcIixcbiAgICAgIGNvbnRpbnVlOiBcIkNvbnRpbnVlXCJcbiAgICB9LFxuICAgIHNsaWRlcjoge1xuICAgICAgZGVmYXVsdExhYmVsOiBcInNsaWRlciBiZXR3ZWVuIHttaW59IGFuZCB7bWF4fVwiLFxuICAgICAgZGVmYXVsdFJhbmdlU3RhcnRMYWJlbDogXCJwaWNrIHN0YXJ0IHZhbHVlXCIsXG4gICAgICBkZWZhdWx0UmFuZ2VFbmRMYWJlbDogXCJwaWNrIGVuZCB2YWx1ZVwiXG4gICAgfSxcbiAgICB0YWJsZToge1xuICAgICAgZW1wdHlUZXh0OiBcIk5vIERhdGFcIixcbiAgICAgIGNvbmZpcm1GaWx0ZXI6IFwiQ29uZmlybVwiLFxuICAgICAgcmVzZXRGaWx0ZXI6IFwiUmVzZXRcIixcbiAgICAgIGNsZWFyRmlsdGVyOiBcIkFsbFwiLFxuICAgICAgc3VtVGV4dDogXCJTdW1cIlxuICAgIH0sXG4gICAgdG91cjoge1xuICAgICAgbmV4dDogXCJOZXh0XCIsXG4gICAgICBwcmV2aW91czogXCJQcmV2aW91c1wiLFxuICAgICAgZmluaXNoOiBcIkZpbmlzaFwiXG4gICAgfSxcbiAgICB0cmVlOiB7XG4gICAgICBlbXB0eVRleHQ6IFwiTm8gRGF0YVwiXG4gICAgfSxcbiAgICB0cmFuc2Zlcjoge1xuICAgICAgbm9NYXRjaDogXCJObyBtYXRjaGluZyBkYXRhXCIsXG4gICAgICBub0RhdGE6IFwiTm8gZGF0YVwiLFxuICAgICAgdGl0bGVzOiBbXCJMaXN0IDFcIiwgXCJMaXN0IDJcIl0sXG4gICAgICBmaWx0ZXJQbGFjZWhvbGRlcjogXCJFbnRlciBrZXl3b3JkXCIsXG4gICAgICBub0NoZWNrZWRGb3JtYXQ6IFwie3RvdGFsfSBpdGVtc1wiLFxuICAgICAgaGFzQ2hlY2tlZEZvcm1hdDogXCJ7Y2hlY2tlZH0ve3RvdGFsfSBjaGVja2VkXCJcbiAgICB9LFxuICAgIGltYWdlOiB7XG4gICAgICBlcnJvcjogXCJGQUlMRURcIlxuICAgIH0sXG4gICAgcGFnZUhlYWRlcjoge1xuICAgICAgdGl0bGU6IFwiQmFja1wiXG4gICAgfSxcbiAgICBwb3Bjb25maXJtOiB7XG4gICAgICBjb25maXJtQnV0dG9uVGV4dDogXCJZZXNcIixcbiAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwiTm9cIlxuICAgIH0sXG4gICAgY2Fyb3VzZWw6IHtcbiAgICAgIGxlZnRBcnJvdzogXCJDYXJvdXNlbCBhcnJvdyBsZWZ0XCIsXG4gICAgICByaWdodEFycm93OiBcIkNhcm91c2VsIGFycm93IHJpZ2h0XCIsXG4gICAgICBpbmRpY2F0b3I6IFwiQ2Fyb3VzZWwgc3dpdGNoIHRvIGluZGV4IHtpbmRleH1cIlxuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IHsgRW5nbGlzaCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbi5tanMubWFwXG4iLCJpbXBvcnQgeyB1bnJlZiwgY29tcHV0ZWQsIGlzUmVmLCByZWYsIGluamVjdCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBnZXQgfSBmcm9tICdsb2Rhc2gtdW5pZmllZCc7XG5pbXBvcnQgRW5nbGlzaCBmcm9tICcuLi8uLi9sb2NhbGUvbGFuZy9lbi5tanMnO1xuXG5jb25zdCBidWlsZFRyYW5zbGF0b3IgPSAobG9jYWxlKSA9PiAocGF0aCwgb3B0aW9uKSA9PiB0cmFuc2xhdGUocGF0aCwgb3B0aW9uLCB1bnJlZihsb2NhbGUpKTtcbmNvbnN0IHRyYW5zbGF0ZSA9IChwYXRoLCBvcHRpb24sIGxvY2FsZSkgPT4gZ2V0KGxvY2FsZSwgcGF0aCwgcGF0aCkucmVwbGFjZSgvXFx7KFxcdyspXFx9L2csIChfLCBrZXkpID0+IHtcbiAgdmFyIF9hO1xuICByZXR1cm4gYCR7KF9hID0gb3B0aW9uID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25ba2V5XSkgIT0gbnVsbCA/IF9hIDogYHske2tleX19YH1gO1xufSk7XG5jb25zdCBidWlsZExvY2FsZUNvbnRleHQgPSAobG9jYWxlKSA9PiB7XG4gIGNvbnN0IGxhbmcgPSBjb21wdXRlZCgoKSA9PiB1bnJlZihsb2NhbGUpLm5hbWUpO1xuICBjb25zdCBsb2NhbGVSZWYgPSBpc1JlZihsb2NhbGUpID8gbG9jYWxlIDogcmVmKGxvY2FsZSk7XG4gIHJldHVybiB7XG4gICAgbGFuZyxcbiAgICBsb2NhbGU6IGxvY2FsZVJlZixcbiAgICB0OiBidWlsZFRyYW5zbGF0b3IobG9jYWxlKVxuICB9O1xufTtcbmNvbnN0IGxvY2FsZUNvbnRleHRLZXkgPSBTeW1ib2woXCJsb2NhbGVDb250ZXh0S2V5XCIpO1xuY29uc3QgdXNlTG9jYWxlID0gKGxvY2FsZU92ZXJyaWRlcykgPT4ge1xuICBjb25zdCBsb2NhbGUgPSBsb2NhbGVPdmVycmlkZXMgfHwgaW5qZWN0KGxvY2FsZUNvbnRleHRLZXksIHJlZigpKTtcbiAgcmV0dXJuIGJ1aWxkTG9jYWxlQ29udGV4dChjb21wdXRlZCgoKSA9PiBsb2NhbGUudmFsdWUgfHwgRW5nbGlzaCkpO1xufTtcblxuZXhwb3J0IHsgYnVpbGRMb2NhbGVDb250ZXh0LCBidWlsZFRyYW5zbGF0b3IsIGxvY2FsZUNvbnRleHRLZXksIHRyYW5zbGF0ZSwgdXNlTG9jYWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBnZXRDdXJyZW50SW5zdGFuY2UsIGluamVjdCwgcmVmLCBjb21wdXRlZCwgdW5yZWYgfSBmcm9tICd2dWUnO1xuXG5jb25zdCBkZWZhdWx0TmFtZXNwYWNlID0gXCJlbFwiO1xuY29uc3Qgc3RhdGVQcmVmaXggPSBcImlzLVwiO1xuY29uc3QgX2JlbSA9IChuYW1lc3BhY2UsIGJsb2NrLCBibG9ja1N1ZmZpeCwgZWxlbWVudCwgbW9kaWZpZXIpID0+IHtcbiAgbGV0IGNscyA9IGAke25hbWVzcGFjZX0tJHtibG9ja31gO1xuICBpZiAoYmxvY2tTdWZmaXgpIHtcbiAgICBjbHMgKz0gYC0ke2Jsb2NrU3VmZml4fWA7XG4gIH1cbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBjbHMgKz0gYF9fJHtlbGVtZW50fWA7XG4gIH1cbiAgaWYgKG1vZGlmaWVyKSB7XG4gICAgY2xzICs9IGAtLSR7bW9kaWZpZXJ9YDtcbiAgfVxuICByZXR1cm4gY2xzO1xufTtcbmNvbnN0IG5hbWVzcGFjZUNvbnRleHRLZXkgPSBTeW1ib2woXCJuYW1lc3BhY2VDb250ZXh0S2V5XCIpO1xuY29uc3QgdXNlR2V0RGVyaXZlZE5hbWVzcGFjZSA9IChuYW1lc3BhY2VPdmVycmlkZXMpID0+IHtcbiAgY29uc3QgZGVyaXZlZE5hbWVzcGFjZSA9IG5hbWVzcGFjZU92ZXJyaWRlcyB8fCAoZ2V0Q3VycmVudEluc3RhbmNlKCkgPyBpbmplY3QobmFtZXNwYWNlQ29udGV4dEtleSwgcmVmKGRlZmF1bHROYW1lc3BhY2UpKSA6IHJlZihkZWZhdWx0TmFtZXNwYWNlKSk7XG4gIGNvbnN0IG5hbWVzcGFjZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICByZXR1cm4gdW5yZWYoZGVyaXZlZE5hbWVzcGFjZSkgfHwgZGVmYXVsdE5hbWVzcGFjZTtcbiAgfSk7XG4gIHJldHVybiBuYW1lc3BhY2U7XG59O1xuY29uc3QgdXNlTmFtZXNwYWNlID0gKGJsb2NrLCBuYW1lc3BhY2VPdmVycmlkZXMpID0+IHtcbiAgY29uc3QgbmFtZXNwYWNlID0gdXNlR2V0RGVyaXZlZE5hbWVzcGFjZShuYW1lc3BhY2VPdmVycmlkZXMpO1xuICBjb25zdCBiID0gKGJsb2NrU3VmZml4ID0gXCJcIikgPT4gX2JlbShuYW1lc3BhY2UudmFsdWUsIGJsb2NrLCBibG9ja1N1ZmZpeCwgXCJcIiwgXCJcIik7XG4gIGNvbnN0IGUgPSAoZWxlbWVudCkgPT4gZWxlbWVudCA/IF9iZW0obmFtZXNwYWNlLnZhbHVlLCBibG9jaywgXCJcIiwgZWxlbWVudCwgXCJcIikgOiBcIlwiO1xuICBjb25zdCBtID0gKG1vZGlmaWVyKSA9PiBtb2RpZmllciA/IF9iZW0obmFtZXNwYWNlLnZhbHVlLCBibG9jaywgXCJcIiwgXCJcIiwgbW9kaWZpZXIpIDogXCJcIjtcbiAgY29uc3QgYmUgPSAoYmxvY2tTdWZmaXgsIGVsZW1lbnQpID0+IGJsb2NrU3VmZml4ICYmIGVsZW1lbnQgPyBfYmVtKG5hbWVzcGFjZS52YWx1ZSwgYmxvY2ssIGJsb2NrU3VmZml4LCBlbGVtZW50LCBcIlwiKSA6IFwiXCI7XG4gIGNvbnN0IGVtID0gKGVsZW1lbnQsIG1vZGlmaWVyKSA9PiBlbGVtZW50ICYmIG1vZGlmaWVyID8gX2JlbShuYW1lc3BhY2UudmFsdWUsIGJsb2NrLCBcIlwiLCBlbGVtZW50LCBtb2RpZmllcikgOiBcIlwiO1xuICBjb25zdCBibSA9IChibG9ja1N1ZmZpeCwgbW9kaWZpZXIpID0+IGJsb2NrU3VmZml4ICYmIG1vZGlmaWVyID8gX2JlbShuYW1lc3BhY2UudmFsdWUsIGJsb2NrLCBibG9ja1N1ZmZpeCwgXCJcIiwgbW9kaWZpZXIpIDogXCJcIjtcbiAgY29uc3QgYmVtID0gKGJsb2NrU3VmZml4LCBlbGVtZW50LCBtb2RpZmllcikgPT4gYmxvY2tTdWZmaXggJiYgZWxlbWVudCAmJiBtb2RpZmllciA/IF9iZW0obmFtZXNwYWNlLnZhbHVlLCBibG9jaywgYmxvY2tTdWZmaXgsIGVsZW1lbnQsIG1vZGlmaWVyKSA6IFwiXCI7XG4gIGNvbnN0IGlzID0gKG5hbWUsIC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGFyZ3MubGVuZ3RoID49IDEgPyBhcmdzWzBdIDogdHJ1ZTtcbiAgICByZXR1cm4gbmFtZSAmJiBzdGF0ZSA/IGAke3N0YXRlUHJlZml4fSR7bmFtZX1gIDogXCJcIjtcbiAgfTtcbiAgY29uc3QgY3NzVmFyID0gKG9iamVjdCkgPT4ge1xuICAgIGNvbnN0IHN0eWxlcyA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgaWYgKG9iamVjdFtrZXldKSB7XG4gICAgICAgIHN0eWxlc1tgLS0ke25hbWVzcGFjZS52YWx1ZX0tJHtrZXl9YF0gPSBvYmplY3Rba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlcztcbiAgfTtcbiAgY29uc3QgY3NzVmFyQmxvY2sgPSAob2JqZWN0KSA9PiB7XG4gICAgY29uc3Qgc3R5bGVzID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBpZiAob2JqZWN0W2tleV0pIHtcbiAgICAgICAgc3R5bGVzW2AtLSR7bmFtZXNwYWNlLnZhbHVlfS0ke2Jsb2NrfS0ke2tleX1gXSA9IG9iamVjdFtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3R5bGVzO1xuICB9O1xuICBjb25zdCBjc3NWYXJOYW1lID0gKG5hbWUpID0+IGAtLSR7bmFtZXNwYWNlLnZhbHVlfS0ke25hbWV9YDtcbiAgY29uc3QgY3NzVmFyQmxvY2tOYW1lID0gKG5hbWUpID0+IGAtLSR7bmFtZXNwYWNlLnZhbHVlfS0ke2Jsb2NrfS0ke25hbWV9YDtcbiAgcmV0dXJuIHtcbiAgICBuYW1lc3BhY2UsXG4gICAgYixcbiAgICBlLFxuICAgIG0sXG4gICAgYmUsXG4gICAgZW0sXG4gICAgYm0sXG4gICAgYmVtLFxuICAgIGlzLFxuICAgIGNzc1ZhcixcbiAgICBjc3NWYXJOYW1lLFxuICAgIGNzc1ZhckJsb2NrLFxuICAgIGNzc1ZhckJsb2NrTmFtZVxuICB9O1xufTtcblxuZXhwb3J0IHsgZGVmYXVsdE5hbWVzcGFjZSwgbmFtZXNwYWNlQ29udGV4dEtleSwgdXNlR2V0RGVyaXZlZE5hbWVzcGFjZSwgdXNlTmFtZXNwYWNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBnZXRDdXJyZW50SW5zdGFuY2UsIGNvbXB1dGVkIH0gZnJvbSAndnVlJztcblxuY29uc3QgdXNlUHJvcCA9IChuYW1lKSA9PiB7XG4gIGNvbnN0IHZtID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gKF9iID0gKF9hID0gdm0gPT0gbnVsbCA/IHZvaWQgMCA6IHZtLnByb3h5KSA9PSBudWxsID8gdm9pZCAwIDogX2EuJHByb3BzKSA9PSBudWxsID8gdm9pZCAwIDogX2JbbmFtZV07XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgdXNlUHJvcCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgcmVmLCBnZXRDdXJyZW50SW5zdGFuY2UsIGluamVjdCwgY29tcHV0ZWQsIHVucmVmIH0gZnJvbSAndnVlJztcbmltcG9ydCAnLi4vLi4vdXRpbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IGlzTnVtYmVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvdHlwZXMubWpzJztcbmltcG9ydCB7IGlzQ2xpZW50IH0gZnJvbSAnQHZ1ZXVzZS9jb3JlJztcbmltcG9ydCB7IGRlYnVnV2FybiB9IGZyb20gJy4uLy4uL3V0aWxzL2Vycm9yLm1qcyc7XG5cbmNvbnN0IGluaXRpYWwgPSB7XG4gIGN1cnJlbnQ6IDBcbn07XG5jb25zdCB6SW5kZXggPSByZWYoMCk7XG5jb25zdCBkZWZhdWx0SW5pdGlhbFpJbmRleCA9IDJlMztcbmNvbnN0IFpJTkRFWF9JTkpFQ1RJT05fS0VZID0gU3ltYm9sKFwiZWxaSW5kZXhDb250ZXh0S2V5XCIpO1xuY29uc3QgekluZGV4Q29udGV4dEtleSA9IFN5bWJvbChcInpJbmRleENvbnRleHRLZXlcIik7XG5jb25zdCB1c2VaSW5kZXggPSAoekluZGV4T3ZlcnJpZGVzKSA9PiB7XG4gIGNvbnN0IGluY3JlYXNpbmdJbmplY3Rpb24gPSBnZXRDdXJyZW50SW5zdGFuY2UoKSA/IGluamVjdChaSU5ERVhfSU5KRUNUSU9OX0tFWSwgaW5pdGlhbCkgOiBpbml0aWFsO1xuICBjb25zdCB6SW5kZXhJbmplY3Rpb24gPSB6SW5kZXhPdmVycmlkZXMgfHwgKGdldEN1cnJlbnRJbnN0YW5jZSgpID8gaW5qZWN0KHpJbmRleENvbnRleHRLZXksIHZvaWQgMCkgOiB2b2lkIDApO1xuICBjb25zdCBpbml0aWFsWkluZGV4ID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGNvbnN0IHpJbmRleEZyb21JbmplY3Rpb24gPSB1bnJlZih6SW5kZXhJbmplY3Rpb24pO1xuICAgIHJldHVybiBpc051bWJlcih6SW5kZXhGcm9tSW5qZWN0aW9uKSA/IHpJbmRleEZyb21JbmplY3Rpb24gOiBkZWZhdWx0SW5pdGlhbFpJbmRleDtcbiAgfSk7XG4gIGNvbnN0IGN1cnJlbnRaSW5kZXggPSBjb21wdXRlZCgoKSA9PiBpbml0aWFsWkluZGV4LnZhbHVlICsgekluZGV4LnZhbHVlKTtcbiAgY29uc3QgbmV4dFpJbmRleCA9ICgpID0+IHtcbiAgICBpbmNyZWFzaW5nSW5qZWN0aW9uLmN1cnJlbnQrKztcbiAgICB6SW5kZXgudmFsdWUgPSBpbmNyZWFzaW5nSW5qZWN0aW9uLmN1cnJlbnQ7XG4gICAgcmV0dXJuIGN1cnJlbnRaSW5kZXgudmFsdWU7XG4gIH07XG4gIGlmICghaXNDbGllbnQgJiYgIWluamVjdChaSU5ERVhfSU5KRUNUSU9OX0tFWSkpIHtcbiAgICBkZWJ1Z1dhcm4oXCJaSW5kZXhJbmplY3Rpb25cIiwgYExvb2tzIGxpa2UgeW91IGFyZSB1c2luZyBzZXJ2ZXIgcmVuZGVyaW5nLCB5b3UgbXVzdCBwcm92aWRlIGEgei1pbmRleCBwcm92aWRlciB0byBlbnN1cmUgdGhlIGh5ZHJhdGlvbiBwcm9jZXNzIHRvIGJlIHN1Y2NlZWRcbnVzYWdlOiBhcHAucHJvdmlkZShaSU5ERVhfSU5KRUNUSU9OX0tFWSwgeyBjdXJyZW50OiAwIH0pYCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpbml0aWFsWkluZGV4LFxuICAgIGN1cnJlbnRaSW5kZXgsXG4gICAgbmV4dFpJbmRleFxuICB9O1xufTtcblxuZXhwb3J0IHsgWklOREVYX0lOSkVDVElPTl9LRVksIGRlZmF1bHRJbml0aWFsWkluZGV4LCB1c2VaSW5kZXgsIHpJbmRleENvbnRleHRLZXkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IGluamVjdCwgY29tcHV0ZWQsIHVucmVmIH0gZnJvbSAndnVlJztcbmltcG9ydCAnLi4vLi4vdXRpbHMvaW5kZXgubWpzJztcbmltcG9ydCAnLi4vLi4vY29uc3RhbnRzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBidWlsZFByb3AgfSBmcm9tICcuLi8uLi91dGlscy92dWUvcHJvcHMvcnVudGltZS5tanMnO1xuaW1wb3J0IHsgY29tcG9uZW50U2l6ZXMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvc2l6ZS5tanMnO1xuXG5jb25zdCB1c2VTaXplUHJvcCA9IGJ1aWxkUHJvcCh7XG4gIHR5cGU6IFN0cmluZyxcbiAgdmFsdWVzOiBjb21wb25lbnRTaXplcyxcbiAgcmVxdWlyZWQ6IGZhbHNlXG59KTtcbmNvbnN0IHVzZVNpemVQcm9wcyA9IHtcbiAgc2l6ZTogdXNlU2l6ZVByb3Bcbn07XG5jb25zdCBTSVpFX0lOSkVDVElPTl9LRVkgPSBTeW1ib2woXCJzaXplXCIpO1xuY29uc3QgdXNlR2xvYmFsU2l6ZSA9ICgpID0+IHtcbiAgY29uc3QgaW5qZWN0ZWRTaXplID0gaW5qZWN0KFNJWkVfSU5KRUNUSU9OX0tFWSwge30pO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHJldHVybiB1bnJlZihpbmplY3RlZFNpemUuc2l6ZSkgfHwgXCJcIjtcbiAgfSk7XG59O1xuXG5leHBvcnQgeyBTSVpFX0lOSkVDVElPTl9LRVksIHVzZUdsb2JhbFNpemUsIHVzZVNpemVQcm9wLCB1c2VTaXplUHJvcHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IGdldEN1cnJlbnRJbnN0YW5jZSwgaW5qZWN0LCByZWYsIGNvbXB1dGVkIH0gZnJvbSAndnVlJztcbmltcG9ydCAnLi4vLi4vdXRpbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IGJ1aWxkUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy92dWUvcHJvcHMvcnVudGltZS5tanMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJ0B2dWUvc2hhcmVkJztcbmltcG9ydCB7IGRlYnVnV2FybiB9IGZyb20gJy4uLy4uL3V0aWxzL2Vycm9yLm1qcyc7XG5cbmNvbnN0IGVtcHR5VmFsdWVzQ29udGV4dEtleSA9IFN5bWJvbChcImVtcHR5VmFsdWVzQ29udGV4dEtleVwiKTtcbmNvbnN0IFNDT1BFID0gXCJ1c2UtZW1wdHktdmFsdWVzXCI7XG5jb25zdCBERUZBVUxUX0VNUFRZX1ZBTFVFUyA9IFtcIlwiLCB2b2lkIDAsIG51bGxdO1xuY29uc3QgREVGQVVMVF9WQUxVRV9PTl9DTEVBUiA9IHZvaWQgMDtcbmNvbnN0IHVzZUVtcHR5VmFsdWVzUHJvcHMgPSBidWlsZFByb3BzKHtcbiAgZW1wdHlWYWx1ZXM6IEFycmF5LFxuICB2YWx1ZU9uQ2xlYXI6IHtcbiAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXIsIEJvb2xlYW4sIEZ1bmN0aW9uXSxcbiAgICBkZWZhdWx0OiB2b2lkIDAsXG4gICAgdmFsaWRhdG9yOiAodmFsKSA9PiBpc0Z1bmN0aW9uKHZhbCkgPyAhdmFsKCkgOiAhdmFsXG4gIH1cbn0pO1xuY29uc3QgdXNlRW1wdHlWYWx1ZXMgPSAocHJvcHMsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICBjb25zdCBjb25maWcgPSBnZXRDdXJyZW50SW5zdGFuY2UoKSA/IGluamVjdChlbXB0eVZhbHVlc0NvbnRleHRLZXksIHJlZih7fSkpIDogcmVmKHt9KTtcbiAgY29uc3QgZW1wdHlWYWx1ZXMgPSBjb21wdXRlZCgoKSA9PiBwcm9wcy5lbXB0eVZhbHVlcyB8fCBjb25maWcudmFsdWUuZW1wdHlWYWx1ZXMgfHwgREVGQVVMVF9FTVBUWV9WQUxVRVMpO1xuICBjb25zdCB2YWx1ZU9uQ2xlYXIgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgaWYgKGlzRnVuY3Rpb24ocHJvcHMudmFsdWVPbkNsZWFyKSkge1xuICAgICAgcmV0dXJuIHByb3BzLnZhbHVlT25DbGVhcigpO1xuICAgIH0gZWxzZSBpZiAocHJvcHMudmFsdWVPbkNsZWFyICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBwcm9wcy52YWx1ZU9uQ2xlYXI7XG4gICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKGNvbmZpZy52YWx1ZS52YWx1ZU9uQ2xlYXIpKSB7XG4gICAgICByZXR1cm4gY29uZmlnLnZhbHVlLnZhbHVlT25DbGVhcigpO1xuICAgIH0gZWxzZSBpZiAoY29uZmlnLnZhbHVlLnZhbHVlT25DbGVhciAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gY29uZmlnLnZhbHVlLnZhbHVlT25DbGVhcjtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSAhPT0gdm9pZCAwID8gZGVmYXVsdFZhbHVlIDogREVGQVVMVF9WQUxVRV9PTl9DTEVBUjtcbiAgfSk7XG4gIGNvbnN0IGlzRW1wdHlWYWx1ZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiBlbXB0eVZhbHVlcy52YWx1ZS5pbmNsdWRlcyh2YWx1ZSk7XG4gIH07XG4gIGlmICghZW1wdHlWYWx1ZXMudmFsdWUuaW5jbHVkZXModmFsdWVPbkNsZWFyLnZhbHVlKSkge1xuICAgIGRlYnVnV2FybihTQ09QRSwgXCJ2YWx1ZS1vbi1jbGVhciBzaG91bGQgYmUgYSB2YWx1ZSBvZiBlbXB0eS12YWx1ZXNcIik7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBlbXB0eVZhbHVlcyxcbiAgICB2YWx1ZU9uQ2xlYXIsXG4gICAgaXNFbXB0eVZhbHVlXG4gIH07XG59O1xuXG5leHBvcnQgeyBERUZBVUxUX0VNUFRZX1ZBTFVFUywgREVGQVVMVF9WQUxVRV9PTl9DTEVBUiwgU0NPUEUsIGVtcHR5VmFsdWVzQ29udGV4dEtleSwgdXNlRW1wdHlWYWx1ZXMsIHVzZUVtcHR5VmFsdWVzUHJvcHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImNvbnN0IGNvbmZpZ1Byb3ZpZGVyQ29udGV4dEtleSA9IFN5bWJvbCgpO1xuXG5leHBvcnQgeyBjb25maWdQcm92aWRlckNvbnRleHRLZXkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5tanMubWFwXG4iLCJpbXBvcnQgeyByZWYsIGdldEN1cnJlbnRJbnN0YW5jZSwgaW5qZWN0LCBjb21wdXRlZCwgdW5yZWYsIHByb3ZpZGUgfSBmcm9tICd2dWUnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi91dGlscy9pbmRleC5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9ob29rcy9pbmRleC5tanMnO1xuaW1wb3J0IHsgY29uZmlnUHJvdmlkZXJDb250ZXh0S2V5IH0gZnJvbSAnLi4vY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyB1c2VOYW1lc3BhY2UsIGRlZmF1bHROYW1lc3BhY2UsIG5hbWVzcGFjZUNvbnRleHRLZXkgfSBmcm9tICcuLi8uLi8uLi8uLi9ob29rcy91c2UtbmFtZXNwYWNlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyB1c2VMb2NhbGUsIGxvY2FsZUNvbnRleHRLZXkgfSBmcm9tICcuLi8uLi8uLi8uLi9ob29rcy91c2UtbG9jYWxlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyB1c2VaSW5kZXgsIGRlZmF1bHRJbml0aWFsWkluZGV4LCB6SW5kZXhDb250ZXh0S2V5IH0gZnJvbSAnLi4vLi4vLi4vLi4vaG9va3MvdXNlLXotaW5kZXgvaW5kZXgubWpzJztcbmltcG9ydCB7IGRlYnVnV2FybiB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2Vycm9yLm1qcyc7XG5pbXBvcnQgeyBTSVpFX0lOSkVDVElPTl9LRVkgfSBmcm9tICcuLi8uLi8uLi8uLi9ob29rcy91c2Utc2l6ZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgZW1wdHlWYWx1ZXNDb250ZXh0S2V5IH0gZnJvbSAnLi4vLi4vLi4vLi4vaG9va3MvdXNlLWVtcHR5LXZhbHVlcy9pbmRleC5tanMnO1xuaW1wb3J0IHsga2V5c09mIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvb2JqZWN0cy5tanMnO1xuXG5jb25zdCBnbG9iYWxDb25maWcgPSByZWYoKTtcbmZ1bmN0aW9uIHVzZUdsb2JhbENvbmZpZyhrZXksIGRlZmF1bHRWYWx1ZSA9IHZvaWQgMCkge1xuICBjb25zdCBjb25maWcgPSBnZXRDdXJyZW50SW5zdGFuY2UoKSA/IGluamVjdChjb25maWdQcm92aWRlckNvbnRleHRLZXksIGdsb2JhbENvbmZpZykgOiBnbG9iYWxDb25maWc7XG4gIGlmIChrZXkpIHtcbiAgICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYjtcbiAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBjb25maWcudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYVtrZXldKSAhPSBudWxsID8gX2IgOiBkZWZhdWx0VmFsdWU7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxufVxuZnVuY3Rpb24gdXNlR2xvYmFsQ29tcG9uZW50U2V0dGluZ3MoYmxvY2ssIHNpemVGYWxsYmFjaykge1xuICBjb25zdCBjb25maWcgPSB1c2VHbG9iYWxDb25maWcoKTtcbiAgY29uc3QgbnMgPSB1c2VOYW1lc3BhY2UoYmxvY2ssIGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoX2EgPSBjb25maWcudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5uYW1lc3BhY2UpIHx8IGRlZmF1bHROYW1lc3BhY2U7XG4gIH0pKTtcbiAgY29uc3QgbG9jYWxlID0gdXNlTG9jYWxlKGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IGNvbmZpZy52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmxvY2FsZTtcbiAgfSkpO1xuICBjb25zdCB6SW5kZXggPSB1c2VaSW5kZXgoY29tcHV0ZWQoKCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKChfYSA9IGNvbmZpZy52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnpJbmRleCkgfHwgZGVmYXVsdEluaXRpYWxaSW5kZXg7XG4gIH0pKTtcbiAgY29uc3Qgc2l6ZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIHVucmVmKHNpemVGYWxsYmFjaykgfHwgKChfYSA9IGNvbmZpZy52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnNpemUpIHx8IFwiXCI7XG4gIH0pO1xuICBwcm92aWRlR2xvYmFsQ29uZmlnKGNvbXB1dGVkKCgpID0+IHVucmVmKGNvbmZpZykgfHwge30pKTtcbiAgcmV0dXJuIHtcbiAgICBucyxcbiAgICBsb2NhbGUsXG4gICAgekluZGV4LFxuICAgIHNpemVcbiAgfTtcbn1cbmNvbnN0IHByb3ZpZGVHbG9iYWxDb25maWcgPSAoY29uZmlnLCBhcHAsIGdsb2JhbCA9IGZhbHNlKSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3QgaW5TZXR1cCA9ICEhZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGNvbnN0IG9sZENvbmZpZyA9IGluU2V0dXAgPyB1c2VHbG9iYWxDb25maWcoKSA6IHZvaWQgMDtcbiAgY29uc3QgcHJvdmlkZUZuID0gKF9hID0gYXBwID09IG51bGwgPyB2b2lkIDAgOiBhcHAucHJvdmlkZSkgIT0gbnVsbCA/IF9hIDogaW5TZXR1cCA/IHByb3ZpZGUgOiB2b2lkIDA7XG4gIGlmICghcHJvdmlkZUZuKSB7XG4gICAgZGVidWdXYXJuKFwicHJvdmlkZUdsb2JhbENvbmZpZ1wiLCBcInByb3ZpZGVHbG9iYWxDb25maWcoKSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBzZXR1cCgpLlwiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgY29udGV4dCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBjb25zdCBjZmcgPSB1bnJlZihjb25maWcpO1xuICAgIGlmICghKG9sZENvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogb2xkQ29uZmlnLnZhbHVlKSlcbiAgICAgIHJldHVybiBjZmc7XG4gICAgcmV0dXJuIG1lcmdlQ29uZmlnKG9sZENvbmZpZy52YWx1ZSwgY2ZnKTtcbiAgfSk7XG4gIHByb3ZpZGVGbihjb25maWdQcm92aWRlckNvbnRleHRLZXksIGNvbnRleHQpO1xuICBwcm92aWRlRm4obG9jYWxlQ29udGV4dEtleSwgY29tcHV0ZWQoKCkgPT4gY29udGV4dC52YWx1ZS5sb2NhbGUpKTtcbiAgcHJvdmlkZUZuKG5hbWVzcGFjZUNvbnRleHRLZXksIGNvbXB1dGVkKCgpID0+IGNvbnRleHQudmFsdWUubmFtZXNwYWNlKSk7XG4gIHByb3ZpZGVGbih6SW5kZXhDb250ZXh0S2V5LCBjb21wdXRlZCgoKSA9PiBjb250ZXh0LnZhbHVlLnpJbmRleCkpO1xuICBwcm92aWRlRm4oU0laRV9JTkpFQ1RJT05fS0VZLCB7XG4gICAgc2l6ZTogY29tcHV0ZWQoKCkgPT4gY29udGV4dC52YWx1ZS5zaXplIHx8IFwiXCIpXG4gIH0pO1xuICBwcm92aWRlRm4oZW1wdHlWYWx1ZXNDb250ZXh0S2V5LCBjb21wdXRlZCgoKSA9PiAoe1xuICAgIGVtcHR5VmFsdWVzOiBjb250ZXh0LnZhbHVlLmVtcHR5VmFsdWVzLFxuICAgIHZhbHVlT25DbGVhcjogY29udGV4dC52YWx1ZS52YWx1ZU9uQ2xlYXJcbiAgfSkpKTtcbiAgaWYgKGdsb2JhbCB8fCAhZ2xvYmFsQ29uZmlnLnZhbHVlKSB7XG4gICAgZ2xvYmFsQ29uZmlnLnZhbHVlID0gY29udGV4dC52YWx1ZTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn07XG5jb25zdCBtZXJnZUNvbmZpZyA9IChhLCBiKSA9PiB7XG4gIGNvbnN0IGtleXMgPSBbLi4uLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWy4uLmtleXNPZihhKSwgLi4ua2V5c09mKGIpXSldO1xuICBjb25zdCBvYmogPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgIG9ialtrZXldID0gYltrZXldICE9PSB2b2lkIDAgPyBiW2tleV0gOiBhW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07XG5cbmV4cG9ydCB7IHByb3ZpZGVHbG9iYWxDb25maWcsIHVzZUdsb2JhbENvbXBvbmVudFNldHRpbmdzLCB1c2VHbG9iYWxDb25maWcgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZS1nbG9iYWwtY29uZmlnLm1qcy5tYXBcbiIsImltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgd2F0Y2gsIHJlbmRlclNsb3QgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgcHJvdmlkZUdsb2JhbENvbmZpZyB9IGZyb20gJy4vaG9va3MvdXNlLWdsb2JhbC1jb25maWcubWpzJztcbmltcG9ydCB7IGNvbmZpZ1Byb3ZpZGVyUHJvcHMgfSBmcm9tICcuL2NvbmZpZy1wcm92aWRlci1wcm9wcy5tanMnO1xuXG5jb25zdCBtZXNzYWdlQ29uZmlnID0ge307XG5jb25zdCBDb25maWdQcm92aWRlciA9IGRlZmluZUNvbXBvbmVudCh7XG4gIG5hbWU6IFwiRWxDb25maWdQcm92aWRlclwiLFxuICBwcm9wczogY29uZmlnUHJvdmlkZXJQcm9wcyxcbiAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIHdhdGNoKCgpID0+IHByb3BzLm1lc3NhZ2UsICh2YWwpID0+IHtcbiAgICAgIE9iamVjdC5hc3NpZ24obWVzc2FnZUNvbmZpZywgdmFsICE9IG51bGwgPyB2YWwgOiB7fSk7XG4gICAgfSwgeyBpbW1lZGlhdGU6IHRydWUsIGRlZXA6IHRydWUgfSk7XG4gICAgY29uc3QgY29uZmlnID0gcHJvdmlkZUdsb2JhbENvbmZpZyhwcm9wcyk7XG4gICAgcmV0dXJuICgpID0+IHJlbmRlclNsb3Qoc2xvdHMsIFwiZGVmYXVsdFwiLCB7IGNvbmZpZzogY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcudmFsdWUgfSk7XG4gIH1cbn0pO1xuXG5leHBvcnQgeyBDb25maWdQcm92aWRlciBhcyBkZWZhdWx0LCBtZXNzYWdlQ29uZmlnIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWctcHJvdmlkZXIubWpzLm1hcFxuIiwidmFyIF9leHBvcnRfc2ZjID0gKHNmYywgcHJvcHMpID0+IHtcbiAgY29uc3QgdGFyZ2V0ID0gc2ZjLl9fdmNjT3B0cyB8fCBzZmM7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBwcm9wcykge1xuICAgIHRhcmdldFtrZXldID0gdmFsO1xuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG5leHBvcnQgeyBfZXhwb3J0X3NmYyBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbHVnaW4tdnVlX2V4cG9ydC1oZWxwZXIubWpzLm1hcFxuIiwiaW1wb3J0ICcuLi8uLi8uLi91dGlscy9pbmRleC5tanMnO1xuaW1wb3J0IHsgYnVpbGRQcm9wcywgZGVmaW5lUHJvcFR5cGUgfSBmcm9tICcuLi8uLi8uLi91dGlscy92dWUvcHJvcHMvcnVudGltZS5tanMnO1xuXG5jb25zdCBpY29uUHJvcHMgPSBidWlsZFByb3BzKHtcbiAgc2l6ZToge1xuICAgIHR5cGU6IGRlZmluZVByb3BUeXBlKFtOdW1iZXIsIFN0cmluZ10pXG4gIH0sXG4gIGNvbG9yOiB7XG4gICAgdHlwZTogU3RyaW5nXG4gIH1cbn0pO1xuXG5leHBvcnQgeyBpY29uUHJvcHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWljb24ubWpzLm1hcFxuIiwiaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCBjb21wdXRlZCwgb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2ssIG1lcmdlUHJvcHMsIHVucmVmLCByZW5kZXJTbG90IH0gZnJvbSAndnVlJztcbmltcG9ydCAnLi4vLi4vLi4vdXRpbHMvaW5kZXgubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vaG9va3MvaW5kZXgubWpzJztcbmltcG9ydCB7IGljb25Qcm9wcyB9IGZyb20gJy4vaWNvbi5tanMnO1xuaW1wb3J0IF9leHBvcnRfc2ZjIGZyb20gJy4uLy4uLy4uL192aXJ0dWFsL3BsdWdpbi12dWVfZXhwb3J0LWhlbHBlci5tanMnO1xuaW1wb3J0IHsgdXNlTmFtZXNwYWNlIH0gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlLW5hbWVzcGFjZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tICcuLi8uLi8uLi91dGlscy90eXBlcy5tanMnO1xuaW1wb3J0IHsgYWRkVW5pdCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2RvbS9zdHlsZS5tanMnO1xuXG5jb25zdCBfX2RlZmF1bHRfXyA9IGRlZmluZUNvbXBvbmVudCh7XG4gIG5hbWU6IFwiRWxJY29uXCIsXG4gIGluaGVyaXRBdHRyczogZmFsc2Vcbn0pO1xuY29uc3QgX3NmY19tYWluID0gLyogQF9fUFVSRV9fICovIGRlZmluZUNvbXBvbmVudCh7XG4gIC4uLl9fZGVmYXVsdF9fLFxuICBwcm9wczogaWNvblByb3BzLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgY29uc3QgcHJvcHMgPSBfX3Byb3BzO1xuICAgIGNvbnN0IG5zID0gdXNlTmFtZXNwYWNlKFwiaWNvblwiKTtcbiAgICBjb25zdCBzdHlsZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IHsgc2l6ZSwgY29sb3IgfSA9IHByb3BzO1xuICAgICAgaWYgKCFzaXplICYmICFjb2xvcilcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZm9udFNpemU6IGlzVW5kZWZpbmVkKHNpemUpID8gdm9pZCAwIDogYWRkVW5pdChzaXplKSxcbiAgICAgICAgXCItLWNvbG9yXCI6IGNvbG9yXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiB7XG4gICAgICByZXR1cm4gb3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jayhcImlcIiwgbWVyZ2VQcm9wcyh7XG4gICAgICAgIGNsYXNzOiB1bnJlZihucykuYigpLFxuICAgICAgICBzdHlsZTogdW5yZWYoc3R5bGUpXG4gICAgICB9LCBfY3R4LiRhdHRycyksIFtcbiAgICAgICAgcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJkZWZhdWx0XCIpXG4gICAgICBdLCAxNik7XG4gICAgfTtcbiAgfVxufSk7XG52YXIgSWNvbiA9IC8qIEBfX1BVUkVfXyAqLyBfZXhwb3J0X3NmYyhfc2ZjX21haW4sIFtbXCJfX2ZpbGVcIiwgXCJpY29uLnZ1ZVwiXV0pO1xuXG5leHBvcnQgeyBJY29uIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWljb24yLm1qcy5tYXBcbiIsImltcG9ydCAnLi4vLi4vdXRpbHMvaW5kZXgubWpzJztcbmltcG9ydCBJY29uIGZyb20gJy4vc3JjL2ljb24yLm1qcyc7XG5leHBvcnQgeyBpY29uUHJvcHMgfSBmcm9tICcuL3NyYy9pY29uLm1qcyc7XG5pbXBvcnQgeyB3aXRoSW5zdGFsbCB9IGZyb20gJy4uLy4uL3V0aWxzL3Z1ZS9pbnN0YWxsLm1qcyc7XG5cbmNvbnN0IEVsSWNvbiA9IHdpdGhJbnN0YWxsKEljb24pO1xuXG5leHBvcnQgeyBFbEljb24sIEVsSWNvbiBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJjb25zdCBmb3JtQ29udGV4dEtleSA9IFN5bWJvbChcImZvcm1Db250ZXh0S2V5XCIpO1xuY29uc3QgZm9ybUl0ZW1Db250ZXh0S2V5ID0gU3ltYm9sKFwiZm9ybUl0ZW1Db250ZXh0S2V5XCIpO1xuXG5leHBvcnQgeyBmb3JtQ29udGV4dEtleSwgZm9ybUl0ZW1Db250ZXh0S2V5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMubWpzLm1hcFxuIiwiaW1wb3J0IHsgcmVmLCBpbmplY3QsIGNvbXB1dGVkLCB1bnJlZiB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uL2hvb2tzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBmb3JtQ29udGV4dEtleSwgZm9ybUl0ZW1Db250ZXh0S2V5IH0gZnJvbSAnLi4vY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyB1c2VQcm9wIH0gZnJvbSAnLi4vLi4vLi4vLi4vaG9va3MvdXNlLXByb3AvaW5kZXgubWpzJztcbmltcG9ydCB7IHVzZUdsb2JhbFNpemUgfSBmcm9tICcuLi8uLi8uLi8uLi9ob29rcy91c2Utc2l6ZS9pbmRleC5tanMnO1xuXG5jb25zdCB1c2VGb3JtU2l6ZSA9IChmYWxsYmFjaywgaWdub3JlID0ge30pID0+IHtcbiAgY29uc3QgZW1wdHlSZWYgPSByZWYodm9pZCAwKTtcbiAgY29uc3Qgc2l6ZSA9IGlnbm9yZS5wcm9wID8gZW1wdHlSZWYgOiB1c2VQcm9wKFwic2l6ZVwiKTtcbiAgY29uc3QgZ2xvYmFsQ29uZmlnID0gaWdub3JlLmdsb2JhbCA/IGVtcHR5UmVmIDogdXNlR2xvYmFsU2l6ZSgpO1xuICBjb25zdCBmb3JtID0gaWdub3JlLmZvcm0gPyB7IHNpemU6IHZvaWQgMCB9IDogaW5qZWN0KGZvcm1Db250ZXh0S2V5LCB2b2lkIDApO1xuICBjb25zdCBmb3JtSXRlbSA9IGlnbm9yZS5mb3JtSXRlbSA/IHsgc2l6ZTogdm9pZCAwIH0gOiBpbmplY3QoZm9ybUl0ZW1Db250ZXh0S2V5LCB2b2lkIDApO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gc2l6ZS52YWx1ZSB8fCB1bnJlZihmYWxsYmFjaykgfHwgKGZvcm1JdGVtID09IG51bGwgPyB2b2lkIDAgOiBmb3JtSXRlbS5zaXplKSB8fCAoZm9ybSA9PSBudWxsID8gdm9pZCAwIDogZm9ybS5zaXplKSB8fCBnbG9iYWxDb25maWcudmFsdWUgfHwgXCJcIik7XG59O1xuY29uc3QgdXNlRm9ybURpc2FibGVkID0gKGZhbGxiYWNrKSA9PiB7XG4gIGNvbnN0IGRpc2FibGVkID0gdXNlUHJvcChcImRpc2FibGVkXCIpO1xuICBjb25zdCBmb3JtID0gaW5qZWN0KGZvcm1Db250ZXh0S2V5LCB2b2lkIDApO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gZGlzYWJsZWQudmFsdWUgfHwgdW5yZWYoZmFsbGJhY2spIHx8IChmb3JtID09IG51bGwgPyB2b2lkIDAgOiBmb3JtLmRpc2FibGVkKSB8fCBmYWxzZSk7XG59O1xuY29uc3QgdXNlU2l6ZSA9IHVzZUZvcm1TaXplO1xuY29uc3QgdXNlRGlzYWJsZWQgPSB1c2VGb3JtRGlzYWJsZWQ7XG5cbmV4cG9ydCB7IHVzZURpc2FibGVkLCB1c2VGb3JtRGlzYWJsZWQsIHVzZUZvcm1TaXplLCB1c2VTaXplIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2UtZm9ybS1jb21tb24tcHJvcHMubWpzLm1hcFxuIiwiaW1wb3J0ICcuLi8uLi8uLi91dGlscy9pbmRleC5tanMnO1xuaW1wb3J0IHsgYnVpbGRQcm9wcywgZGVmaW5lUHJvcFR5cGUgfSBmcm9tICcuLi8uLi8uLi91dGlscy92dWUvcHJvcHMvcnVudGltZS5tanMnO1xuXG5jb25zdCBiYWRnZVByb3BzID0gYnVpbGRQcm9wcyh7XG4gIHZhbHVlOiB7XG4gICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSxcbiAgICBkZWZhdWx0OiBcIlwiXG4gIH0sXG4gIG1heDoge1xuICAgIHR5cGU6IE51bWJlcixcbiAgICBkZWZhdWx0OiA5OVxuICB9LFxuICBpc0RvdDogQm9vbGVhbixcbiAgaGlkZGVuOiBCb29sZWFuLFxuICB0eXBlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHZhbHVlczogW1wicHJpbWFyeVwiLCBcInN1Y2Nlc3NcIiwgXCJ3YXJuaW5nXCIsIFwiaW5mb1wiLCBcImRhbmdlclwiXSxcbiAgICBkZWZhdWx0OiBcImRhbmdlclwiXG4gIH0sXG4gIHNob3daZXJvOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0sXG4gIGNvbG9yOiBTdHJpbmcsXG4gIGRvdFN0eWxlOiB7XG4gICAgdHlwZTogZGVmaW5lUHJvcFR5cGUoW1N0cmluZywgT2JqZWN0LCBBcnJheV0pXG4gIH0sXG4gIGJhZGdlU3R5bGU6IHtcbiAgICB0eXBlOiBkZWZpbmVQcm9wVHlwZShbU3RyaW5nLCBPYmplY3QsIEFycmF5XSlcbiAgfSxcbiAgb2Zmc2V0OiB7XG4gICAgdHlwZTogZGVmaW5lUHJvcFR5cGUoQXJyYXkpLFxuICAgIGRlZmF1bHQ6IFswLCAwXVxuICB9LFxuICBkb3RDbGFzczoge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBiYWRnZUNsYXNzOiB7XG4gICAgdHlwZTogU3RyaW5nXG4gIH1cbn0pO1xuXG5leHBvcnQgeyBiYWRnZVByb3BzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYWRnZS5tanMubWFwXG4iLCJpbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIGNvbXB1dGVkLCBvcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jaywgbm9ybWFsaXplQ2xhc3MsIHVucmVmLCByZW5kZXJTbG90LCBjcmVhdGVWTm9kZSwgVHJhbnNpdGlvbiwgd2l0aEN0eCwgd2l0aERpcmVjdGl2ZXMsIGNyZWF0ZUVsZW1lbnRWTm9kZSwgbm9ybWFsaXplU3R5bGUsIHRvRGlzcGxheVN0cmluZywgdlNob3cgfSBmcm9tICd2dWUnO1xuaW1wb3J0ICcuLi8uLi8uLi9ob29rcy9pbmRleC5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi91dGlscy9pbmRleC5tanMnO1xuaW1wb3J0IHsgYmFkZ2VQcm9wcyB9IGZyb20gJy4vYmFkZ2UubWpzJztcbmltcG9ydCBfZXhwb3J0X3NmYyBmcm9tICcuLi8uLi8uLi9fdmlydHVhbC9wbHVnaW4tdnVlX2V4cG9ydC1oZWxwZXIubWpzJztcbmltcG9ydCB7IHVzZU5hbWVzcGFjZSB9IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZS1uYW1lc3BhY2UvaW5kZXgubWpzJztcbmltcG9ydCB7IGlzTnVtYmVyIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdHlwZXMubWpzJztcbmltcG9ydCB7IGFkZFVuaXQgfSBmcm9tICcuLi8uLi8uLi91dGlscy9kb20vc3R5bGUubWpzJztcbmltcG9ydCB7IHVzZURlcHJlY2F0ZWQgfSBmcm9tICcuLi8uLi8uLi9ob29rcy91c2UtZGVwcmVjYXRlZC9pbmRleC5tanMnO1xuXG5jb25zdCBfaG9pc3RlZF8xID0gW1widGV4dENvbnRlbnRcIl07XG5jb25zdCBfX2RlZmF1bHRfXyA9IGRlZmluZUNvbXBvbmVudCh7XG4gIG5hbWU6IFwiRWxCYWRnZVwiXG59KTtcbmNvbnN0IF9zZmNfbWFpbiA9IC8qIEBfX1BVUkVfXyAqLyBkZWZpbmVDb21wb25lbnQoe1xuICAuLi5fX2RlZmF1bHRfXyxcbiAgcHJvcHM6IGJhZGdlUHJvcHMsXG4gIHNldHVwKF9fcHJvcHMsIHsgZXhwb3NlIH0pIHtcbiAgICBjb25zdCBwcm9wcyA9IF9fcHJvcHM7XG4gICAgY29uc3QgbnMgPSB1c2VOYW1lc3BhY2UoXCJiYWRnZVwiKTtcbiAgICBjb25zdCBjb250ZW50ID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgaWYgKHByb3BzLmlzRG90KVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIGlmIChpc051bWJlcihwcm9wcy52YWx1ZSkgJiYgaXNOdW1iZXIocHJvcHMubWF4KSkge1xuICAgICAgICBpZiAocHJvcHMubWF4IDwgcHJvcHMudmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gYCR7cHJvcHMubWF4fStgO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wcy52YWx1ZSA9PT0gMCAmJiAhcHJvcHMuc2hvd1plcm8gPyBcIlwiIDogYCR7cHJvcHMudmFsdWV9YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBgJHtwcm9wcy52YWx1ZX1gO1xuICAgIH0pO1xuICAgIGNvbnN0IHN0eWxlID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBwcm9wcy5jb2xvcixcbiAgICAgICAgICBtYXJnaW5SaWdodDogYWRkVW5pdCgtKChfYiA9IChfYSA9IHByb3BzLm9mZnNldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hWzBdKSAhPSBudWxsID8gX2IgOiAwKSksXG4gICAgICAgICAgbWFyZ2luVG9wOiBhZGRVbml0KChfZCA9IChfYyA9IHByb3BzLm9mZnNldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jWzFdKSAhPSBudWxsID8gX2QgOiAwKVxuICAgICAgICB9LFxuICAgICAgICAoX2UgPSBwcm9wcy5kb3RTdHlsZSkgIT0gbnVsbCA/IF9lIDoge30sXG4gICAgICAgIChfZiA9IHByb3BzLmJhZGdlU3R5bGUpICE9IG51bGwgPyBfZiA6IHt9XG4gICAgICBdO1xuICAgIH0pO1xuICAgIHVzZURlcHJlY2F0ZWQoe1xuICAgICAgZnJvbTogXCJkb3Qtc3R5bGVcIixcbiAgICAgIHJlcGxhY2VtZW50OiBcImJhZGdlLXN0eWxlXCIsXG4gICAgICB2ZXJzaW9uOiBcIjIuOC4wXCIsXG4gICAgICBzY29wZTogXCJlbC1iYWRnZVwiLFxuICAgICAgcmVmOiBcImh0dHBzOi8vZWxlbWVudC1wbHVzLm9yZy9lbi1VUy9jb21wb25lbnQvYmFkZ2UuaHRtbFwiXG4gICAgfSwgY29tcHV0ZWQoKCkgPT4gISFwcm9wcy5kb3RTdHlsZSkpO1xuICAgIHVzZURlcHJlY2F0ZWQoe1xuICAgICAgZnJvbTogXCJkb3QtY2xhc3NcIixcbiAgICAgIHJlcGxhY2VtZW50OiBcImJhZGdlLWNsYXNzXCIsXG4gICAgICB2ZXJzaW9uOiBcIjIuOC4wXCIsXG4gICAgICBzY29wZTogXCJlbC1iYWRnZVwiLFxuICAgICAgcmVmOiBcImh0dHBzOi8vZWxlbWVudC1wbHVzLm9yZy9lbi1VUy9jb21wb25lbnQvYmFkZ2UuaHRtbFwiXG4gICAgfSwgY29tcHV0ZWQoKCkgPT4gISFwcm9wcy5kb3RDbGFzcykpO1xuICAgIGV4cG9zZSh7XG4gICAgICBjb250ZW50XG4gICAgfSk7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IHtcbiAgICAgIHJldHVybiBvcGVuQmxvY2soKSwgY3JlYXRlRWxlbWVudEJsb2NrKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKHVucmVmKG5zKS5iKCkpXG4gICAgICB9LCBbXG4gICAgICAgIHJlbmRlclNsb3QoX2N0eC4kc2xvdHMsIFwiZGVmYXVsdFwiKSxcbiAgICAgICAgY3JlYXRlVk5vZGUoVHJhbnNpdGlvbiwge1xuICAgICAgICAgIG5hbWU6IGAke3VucmVmKG5zKS5uYW1lc3BhY2UudmFsdWV9LXpvb20taW4tY2VudGVyYCxcbiAgICAgICAgICBwZXJzaXN0ZWQ6IFwiXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGRlZmF1bHQ6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgICAgd2l0aERpcmVjdGl2ZXMoY3JlYXRlRWxlbWVudFZOb2RlKFwic3VwXCIsIHtcbiAgICAgICAgICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKFtcbiAgICAgICAgICAgICAgICB1bnJlZihucykuZShcImNvbnRlbnRcIiksXG4gICAgICAgICAgICAgICAgdW5yZWYobnMpLmVtKFwiY29udGVudFwiLCBfY3R4LnR5cGUpLFxuICAgICAgICAgICAgICAgIHVucmVmKG5zKS5pcyhcImZpeGVkXCIsICEhX2N0eC4kc2xvdHMuZGVmYXVsdCksXG4gICAgICAgICAgICAgICAgdW5yZWYobnMpLmlzKFwiZG90XCIsIF9jdHguaXNEb3QpLFxuICAgICAgICAgICAgICAgIF9jdHguZG90Q2xhc3MsXG4gICAgICAgICAgICAgICAgX2N0eC5iYWRnZUNsYXNzXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICBzdHlsZTogbm9ybWFsaXplU3R5bGUodW5yZWYoc3R5bGUpKSxcbiAgICAgICAgICAgICAgdGV4dENvbnRlbnQ6IHRvRGlzcGxheVN0cmluZyh1bnJlZihjb250ZW50KSlcbiAgICAgICAgICAgIH0sIG51bGwsIDE0LCBfaG9pc3RlZF8xKSwgW1xuICAgICAgICAgICAgICBbdlNob3csICFfY3R4LmhpZGRlbiAmJiAodW5yZWYoY29udGVudCkgfHwgX2N0eC5pc0RvdCldXG4gICAgICAgICAgICBdKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF86IDFcbiAgICAgICAgfSwgOCwgW1wibmFtZVwiXSlcbiAgICAgIF0sIDIpO1xuICAgIH07XG4gIH1cbn0pO1xudmFyIEJhZGdlID0gLyogQF9fUFVSRV9fICovIF9leHBvcnRfc2ZjKF9zZmNfbWFpbiwgW1tcIl9fZmlsZVwiLCBcImJhZGdlLnZ1ZVwiXV0pO1xuXG5leHBvcnQgeyBCYWRnZSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYWRnZTIubWpzLm1hcFxuIiwiaW1wb3J0ICcuLi8uLi91dGlscy9pbmRleC5tanMnO1xuaW1wb3J0IEJhZGdlIGZyb20gJy4vc3JjL2JhZGdlMi5tanMnO1xuZXhwb3J0IHsgYmFkZ2VQcm9wcyB9IGZyb20gJy4vc3JjL2JhZGdlLm1qcyc7XG5pbXBvcnQgeyB3aXRoSW5zdGFsbCB9IGZyb20gJy4uLy4uL3V0aWxzL3Z1ZS9pbnN0YWxsLm1qcyc7XG5cbmNvbnN0IEVsQmFkZ2UgPSB3aXRoSW5zdGFsbChCYWRnZSk7XG5cbmV4cG9ydCB7IEVsQmFkZ2UsIEVsQmFkZ2UgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0ICcuLi8uLi8uLi91dGlscy9pbmRleC5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9jb25zdGFudHMvaW5kZXgubWpzJztcbmltcG9ydCB7IGJ1aWxkUHJvcHMgfSBmcm9tICcuLi8uLi8uLi91dGlscy92dWUvcHJvcHMvcnVudGltZS5tanMnO1xuaW1wb3J0IHsgY29tcG9uZW50U2l6ZXMgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvc2l6ZS5tanMnO1xuXG5jb25zdCB0YWdQcm9wcyA9IGJ1aWxkUHJvcHMoe1xuICB0eXBlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHZhbHVlczogW1wicHJpbWFyeVwiLCBcInN1Y2Nlc3NcIiwgXCJpbmZvXCIsIFwid2FybmluZ1wiLCBcImRhbmdlclwiXSxcbiAgICBkZWZhdWx0OiBcInByaW1hcnlcIlxuICB9LFxuICBjbG9zYWJsZTogQm9vbGVhbixcbiAgZGlzYWJsZVRyYW5zaXRpb25zOiBCb29sZWFuLFxuICBoaXQ6IEJvb2xlYW4sXG4gIGNvbG9yOiBTdHJpbmcsXG4gIHNpemU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgdmFsdWVzOiBjb21wb25lbnRTaXplc1xuICB9LFxuICBlZmZlY3Q6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgdmFsdWVzOiBbXCJkYXJrXCIsIFwibGlnaHRcIiwgXCJwbGFpblwiXSxcbiAgICBkZWZhdWx0OiBcImxpZ2h0XCJcbiAgfSxcbiAgcm91bmQ6IEJvb2xlYW5cbn0pO1xuY29uc3QgdGFnRW1pdHMgPSB7XG4gIGNsb3NlOiAoZXZ0KSA9PiBldnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50LFxuICBjbGljazogKGV2dCkgPT4gZXZ0IGluc3RhbmNlb2YgTW91c2VFdmVudFxufTtcblxuZXhwb3J0IHsgdGFnRW1pdHMsIHRhZ1Byb3BzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YWcubWpzLm1hcFxuIiwiaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCBjb21wdXRlZCwgb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2ssIG5vcm1hbGl6ZUNsYXNzLCB1bnJlZiwgbm9ybWFsaXplU3R5bGUsIGNyZWF0ZUVsZW1lbnRWTm9kZSwgcmVuZGVyU2xvdCwgY3JlYXRlQmxvY2ssIHdpdGhNb2RpZmllcnMsIHdpdGhDdHgsIGNyZWF0ZVZOb2RlLCBjcmVhdGVDb21tZW50Vk5vZGUsIFRyYW5zaXRpb24gfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgRWxJY29uIH0gZnJvbSAnLi4vLi4vaWNvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2xvc2UgfSBmcm9tICdAZWxlbWVudC1wbHVzL2ljb25zLXZ1ZSc7XG5pbXBvcnQgJy4uLy4uLy4uL2hvb2tzL2luZGV4Lm1qcyc7XG5pbXBvcnQgJy4uLy4uL2Zvcm0vaW5kZXgubWpzJztcbmltcG9ydCB7IHRhZ1Byb3BzLCB0YWdFbWl0cyB9IGZyb20gJy4vdGFnLm1qcyc7XG5pbXBvcnQgX2V4cG9ydF9zZmMgZnJvbSAnLi4vLi4vLi4vX3ZpcnR1YWwvcGx1Z2luLXZ1ZV9leHBvcnQtaGVscGVyLm1qcyc7XG5pbXBvcnQgeyB1c2VGb3JtU2l6ZSB9IGZyb20gJy4uLy4uL2Zvcm0vc3JjL2hvb2tzL3VzZS1mb3JtLWNvbW1vbi1wcm9wcy5tanMnO1xuaW1wb3J0IHsgdXNlTmFtZXNwYWNlIH0gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlLW5hbWVzcGFjZS9pbmRleC5tanMnO1xuXG5jb25zdCBfX2RlZmF1bHRfXyA9IGRlZmluZUNvbXBvbmVudCh7XG4gIG5hbWU6IFwiRWxUYWdcIlxufSk7XG5jb25zdCBfc2ZjX21haW4gPSAvKiBAX19QVVJFX18gKi8gZGVmaW5lQ29tcG9uZW50KHtcbiAgLi4uX19kZWZhdWx0X18sXG4gIHByb3BzOiB0YWdQcm9wcyxcbiAgZW1pdHM6IHRhZ0VtaXRzLFxuICBzZXR1cChfX3Byb3BzLCB7IGVtaXQgfSkge1xuICAgIGNvbnN0IHByb3BzID0gX19wcm9wcztcbiAgICBjb25zdCB0YWdTaXplID0gdXNlRm9ybVNpemUoKTtcbiAgICBjb25zdCBucyA9IHVzZU5hbWVzcGFjZShcInRhZ1wiKTtcbiAgICBjb25zdCBjb250YWluZXJLbHMgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICBjb25zdCB7IHR5cGUsIGhpdCwgZWZmZWN0LCBjbG9zYWJsZSwgcm91bmQgfSA9IHByb3BzO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgbnMuYigpLFxuICAgICAgICBucy5pcyhcImNsb3NhYmxlXCIsIGNsb3NhYmxlKSxcbiAgICAgICAgbnMubSh0eXBlIHx8IFwicHJpbWFyeVwiKSxcbiAgICAgICAgbnMubSh0YWdTaXplLnZhbHVlKSxcbiAgICAgICAgbnMubShlZmZlY3QpLFxuICAgICAgICBucy5pcyhcImhpdFwiLCBoaXQpLFxuICAgICAgICBucy5pcyhcInJvdW5kXCIsIHJvdW5kKVxuICAgICAgXTtcbiAgICB9KTtcbiAgICBjb25zdCBoYW5kbGVDbG9zZSA9IChldmVudCkgPT4ge1xuICAgICAgZW1pdChcImNsb3NlXCIsIGV2ZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICBlbWl0KFwiY2xpY2tcIiwgZXZlbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IHtcbiAgICAgIHJldHVybiBfY3R4LmRpc2FibGVUcmFuc2l0aW9ucyA/IChvcGVuQmxvY2soKSwgY3JlYXRlRWxlbWVudEJsb2NrKFwic3BhblwiLCB7XG4gICAgICAgIGtleTogMCxcbiAgICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKHVucmVmKGNvbnRhaW5lcktscykpLFxuICAgICAgICBzdHlsZTogbm9ybWFsaXplU3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6IF9jdHguY29sb3IgfSksXG4gICAgICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrXG4gICAgICB9LCBbXG4gICAgICAgIGNyZWF0ZUVsZW1lbnRWTm9kZShcInNwYW5cIiwge1xuICAgICAgICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyh1bnJlZihucykuZShcImNvbnRlbnRcIikpXG4gICAgICAgIH0sIFtcbiAgICAgICAgICByZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcImRlZmF1bHRcIilcbiAgICAgICAgXSwgMiksXG4gICAgICAgIF9jdHguY2xvc2FibGUgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKHVucmVmKEVsSWNvbiksIHtcbiAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKHVucmVmKG5zKS5lKFwiY2xvc2VcIikpLFxuICAgICAgICAgIG9uQ2xpY2s6IHdpdGhNb2RpZmllcnMoaGFuZGxlQ2xvc2UsIFtcInN0b3BcIl0pXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBkZWZhdWx0OiB3aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgIGNyZWF0ZVZOb2RlKHVucmVmKENsb3NlKSlcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBfOiAxXG4gICAgICAgIH0sIDgsIFtcImNsYXNzXCIsIFwib25DbGlja1wiXSkpIDogY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKVxuICAgICAgXSwgNikpIDogKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhUcmFuc2l0aW9uLCB7XG4gICAgICAgIGtleTogMSxcbiAgICAgICAgbmFtZTogYCR7dW5yZWYobnMpLm5hbWVzcGFjZS52YWx1ZX0tem9vbS1pbi1jZW50ZXJgLFxuICAgICAgICBhcHBlYXI6IFwiXCJcbiAgICAgIH0sIHtcbiAgICAgICAgZGVmYXVsdDogd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgY3JlYXRlRWxlbWVudFZOb2RlKFwic3BhblwiLCB7XG4gICAgICAgICAgICBjbGFzczogbm9ybWFsaXplQ2xhc3ModW5yZWYoY29udGFpbmVyS2xzKSksXG4gICAgICAgICAgICBzdHlsZTogbm9ybWFsaXplU3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6IF9jdHguY29sb3IgfSksXG4gICAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVDbGlja1xuICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnRWTm9kZShcInNwYW5cIiwge1xuICAgICAgICAgICAgICBjbGFzczogbm9ybWFsaXplQ2xhc3ModW5yZWYobnMpLmUoXCJjb250ZW50XCIpKVxuICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICByZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcImRlZmF1bHRcIilcbiAgICAgICAgICAgIF0sIDIpLFxuICAgICAgICAgICAgX2N0eC5jbG9zYWJsZSA/IChvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2sodW5yZWYoRWxJY29uKSwge1xuICAgICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyh1bnJlZihucykuZShcImNsb3NlXCIpKSxcbiAgICAgICAgICAgICAgb25DbGljazogd2l0aE1vZGlmaWVycyhoYW5kbGVDbG9zZSwgW1wic3RvcFwiXSlcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgZGVmYXVsdDogd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgICAgY3JlYXRlVk5vZGUodW5yZWYoQ2xvc2UpKVxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgXzogMVxuICAgICAgICAgICAgfSwgOCwgW1wiY2xhc3NcIiwgXCJvbkNsaWNrXCJdKSkgOiBjcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgICAgICAgXSwgNilcbiAgICAgICAgXSksXG4gICAgICAgIF86IDNcbiAgICAgIH0sIDgsIFtcIm5hbWVcIl0pKTtcbiAgICB9O1xuICB9XG59KTtcbnZhciBUYWcgPSAvKiBAX19QVVJFX18gKi8gX2V4cG9ydF9zZmMoX3NmY19tYWluLCBbW1wiX19maWxlXCIsIFwidGFnLnZ1ZVwiXV0pO1xuXG5leHBvcnQgeyBUYWcgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFnMi5tanMubWFwXG4iLCJpbXBvcnQgJy4uLy4uL3V0aWxzL2luZGV4Lm1qcyc7XG5pbXBvcnQgVGFnIGZyb20gJy4vc3JjL3RhZzIubWpzJztcbmV4cG9ydCB7IHRhZ0VtaXRzLCB0YWdQcm9wcyB9IGZyb20gJy4vc3JjL3RhZy5tanMnO1xuaW1wb3J0IHsgd2l0aEluc3RhbGwgfSBmcm9tICcuLi8uLi91dGlscy92dWUvaW5zdGFsbC5tanMnO1xuXG5jb25zdCBFbFRhZyA9IHdpdGhJbnN0YWxsKFRhZyk7XG5cbmV4cG9ydCB7IEVsVGFnLCBFbFRhZyBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgJy4uLy4uLy4uL3V0aWxzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBtdXRhYmxlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdHlwZXNjcmlwdC5tanMnO1xuaW1wb3J0IHsgaXNDbGllbnQgfSBmcm9tICdAdnVldXNlL2NvcmUnO1xuaW1wb3J0IHsgYnVpbGRQcm9wcywgZGVmaW5lUHJvcFR5cGUgfSBmcm9tICcuLi8uLi8uLi91dGlscy92dWUvcHJvcHMvcnVudGltZS5tanMnO1xuaW1wb3J0IHsgaWNvblByb3BUeXBlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdnVlL2ljb24ubWpzJztcblxuY29uc3QgbWVzc2FnZVR5cGVzID0gW1wic3VjY2Vzc1wiLCBcImluZm9cIiwgXCJ3YXJuaW5nXCIsIFwiZXJyb3JcIl07XG5jb25zdCBtZXNzYWdlRGVmYXVsdHMgPSBtdXRhYmxlKHtcbiAgY3VzdG9tQ2xhc3M6IFwiXCIsXG4gIGNlbnRlcjogZmFsc2UsXG4gIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogZmFsc2UsXG4gIGR1cmF0aW9uOiAzZTMsXG4gIGljb246IHZvaWQgMCxcbiAgaWQ6IFwiXCIsXG4gIG1lc3NhZ2U6IFwiXCIsXG4gIG9uQ2xvc2U6IHZvaWQgMCxcbiAgc2hvd0Nsb3NlOiBmYWxzZSxcbiAgdHlwZTogXCJpbmZvXCIsXG4gIHBsYWluOiBmYWxzZSxcbiAgb2Zmc2V0OiAxNixcbiAgekluZGV4OiAwLFxuICBncm91cGluZzogZmFsc2UsXG4gIHJlcGVhdE51bTogMSxcbiAgYXBwZW5kVG86IGlzQ2xpZW50ID8gZG9jdW1lbnQuYm9keSA6IHZvaWQgMFxufSk7XG5jb25zdCBtZXNzYWdlUHJvcHMgPSBidWlsZFByb3BzKHtcbiAgY3VzdG9tQ2xhc3M6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogbWVzc2FnZURlZmF1bHRzLmN1c3RvbUNsYXNzXG4gIH0sXG4gIGNlbnRlcjoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogbWVzc2FnZURlZmF1bHRzLmNlbnRlclxuICB9LFxuICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IG1lc3NhZ2VEZWZhdWx0cy5kYW5nZXJvdXNseVVzZUhUTUxTdHJpbmdcbiAgfSxcbiAgZHVyYXRpb246IHtcbiAgICB0eXBlOiBOdW1iZXIsXG4gICAgZGVmYXVsdDogbWVzc2FnZURlZmF1bHRzLmR1cmF0aW9uXG4gIH0sXG4gIGljb246IHtcbiAgICB0eXBlOiBpY29uUHJvcFR5cGUsXG4gICAgZGVmYXVsdDogbWVzc2FnZURlZmF1bHRzLmljb25cbiAgfSxcbiAgaWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogbWVzc2FnZURlZmF1bHRzLmlkXG4gIH0sXG4gIG1lc3NhZ2U6IHtcbiAgICB0eXBlOiBkZWZpbmVQcm9wVHlwZShbXG4gICAgICBTdHJpbmcsXG4gICAgICBPYmplY3QsXG4gICAgICBGdW5jdGlvblxuICAgIF0pLFxuICAgIGRlZmF1bHQ6IG1lc3NhZ2VEZWZhdWx0cy5tZXNzYWdlXG4gIH0sXG4gIG9uQ2xvc2U6IHtcbiAgICB0eXBlOiBkZWZpbmVQcm9wVHlwZShGdW5jdGlvbiksXG4gICAgZGVmYXVsdDogbWVzc2FnZURlZmF1bHRzLm9uQ2xvc2VcbiAgfSxcbiAgc2hvd0Nsb3NlOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiBtZXNzYWdlRGVmYXVsdHMuc2hvd0Nsb3NlXG4gIH0sXG4gIHR5cGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgdmFsdWVzOiBtZXNzYWdlVHlwZXMsXG4gICAgZGVmYXVsdDogbWVzc2FnZURlZmF1bHRzLnR5cGVcbiAgfSxcbiAgcGxhaW46IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IG1lc3NhZ2VEZWZhdWx0cy5wbGFpblxuICB9LFxuICBvZmZzZXQ6IHtcbiAgICB0eXBlOiBOdW1iZXIsXG4gICAgZGVmYXVsdDogbWVzc2FnZURlZmF1bHRzLm9mZnNldFxuICB9LFxuICB6SW5kZXg6IHtcbiAgICB0eXBlOiBOdW1iZXIsXG4gICAgZGVmYXVsdDogbWVzc2FnZURlZmF1bHRzLnpJbmRleFxuICB9LFxuICBncm91cGluZzoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogbWVzc2FnZURlZmF1bHRzLmdyb3VwaW5nXG4gIH0sXG4gIHJlcGVhdE51bToge1xuICAgIHR5cGU6IE51bWJlcixcbiAgICBkZWZhdWx0OiBtZXNzYWdlRGVmYXVsdHMucmVwZWF0TnVtXG4gIH1cbn0pO1xuY29uc3QgbWVzc2FnZUVtaXRzID0ge1xuICBkZXN0cm95OiAoKSA9PiB0cnVlXG59O1xuXG5leHBvcnQgeyBtZXNzYWdlRGVmYXVsdHMsIG1lc3NhZ2VFbWl0cywgbWVzc2FnZVByb3BzLCBtZXNzYWdlVHlwZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc3NhZ2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgc2hhbGxvd1JlYWN0aXZlIH0gZnJvbSAndnVlJztcblxuY29uc3QgaW5zdGFuY2VzID0gc2hhbGxvd1JlYWN0aXZlKFtdKTtcbmNvbnN0IGdldEluc3RhbmNlID0gKGlkKSA9PiB7XG4gIGNvbnN0IGlkeCA9IGluc3RhbmNlcy5maW5kSW5kZXgoKGluc3RhbmNlKSA9PiBpbnN0YW5jZS5pZCA9PT0gaWQpO1xuICBjb25zdCBjdXJyZW50ID0gaW5zdGFuY2VzW2lkeF07XG4gIGxldCBwcmV2O1xuICBpZiAoaWR4ID4gMCkge1xuICAgIHByZXYgPSBpbnN0YW5jZXNbaWR4IC0gMV07XG4gIH1cbiAgcmV0dXJuIHsgY3VycmVudCwgcHJldiB9O1xufTtcbmNvbnN0IGdldExhc3RPZmZzZXQgPSAoaWQpID0+IHtcbiAgY29uc3QgeyBwcmV2IH0gPSBnZXRJbnN0YW5jZShpZCk7XG4gIGlmICghcHJldilcbiAgICByZXR1cm4gMDtcbiAgcmV0dXJuIHByZXYudm0uZXhwb3NlZC5ib3R0b20udmFsdWU7XG59O1xuY29uc3QgZ2V0T2Zmc2V0T3JTcGFjZSA9IChpZCwgb2Zmc2V0KSA9PiB7XG4gIGNvbnN0IGlkeCA9IGluc3RhbmNlcy5maW5kSW5kZXgoKGluc3RhbmNlKSA9PiBpbnN0YW5jZS5pZCA9PT0gaWQpO1xuICByZXR1cm4gaWR4ID4gMCA/IDE2IDogb2Zmc2V0O1xufTtcblxuZXhwb3J0IHsgZ2V0SW5zdGFuY2UsIGdldExhc3RPZmZzZXQsIGdldE9mZnNldE9yU3BhY2UsIGluc3RhbmNlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5zdGFuY2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWYsIGNvbXB1dGVkLCBvbk1vdW50ZWQsIHdhdGNoLCBvcGVuQmxvY2ssIGNyZWF0ZUJsb2NrLCBUcmFuc2l0aW9uLCB1bnJlZiwgd2l0aEN0eCwgd2l0aERpcmVjdGl2ZXMsIGNyZWF0ZUVsZW1lbnRWTm9kZSwgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVN0eWxlLCBjcmVhdGVDb21tZW50Vk5vZGUsIHJlc29sdmVEeW5hbWljQ29tcG9uZW50LCByZW5kZXJTbG90LCBjcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZywgRnJhZ21lbnQsIHdpdGhNb2RpZmllcnMsIGNyZWF0ZVZOb2RlLCB2U2hvdyB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyB1c2VUaW1lb3V0Rm4sIHVzZUV2ZW50TGlzdGVuZXIsIHVzZVJlc2l6ZU9ic2VydmVyIH0gZnJvbSAnQHZ1ZXVzZS9jb3JlJztcbmltcG9ydCAnLi4vLi4vLi4vdXRpbHMvaW5kZXgubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vY29uc3RhbnRzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBFbEJhZGdlIH0gZnJvbSAnLi4vLi4vYmFkZ2UvaW5kZXgubWpzJztcbmltcG9ydCAnLi4vLi4vY29uZmlnLXByb3ZpZGVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBFbEljb24gfSBmcm9tICcuLi8uLi9pY29uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBtZXNzYWdlUHJvcHMsIG1lc3NhZ2VFbWl0cyB9IGZyb20gJy4vbWVzc2FnZS5tanMnO1xuaW1wb3J0IHsgZ2V0TGFzdE9mZnNldCwgZ2V0T2Zmc2V0T3JTcGFjZSB9IGZyb20gJy4vaW5zdGFuY2UubWpzJztcbmltcG9ydCBfZXhwb3J0X3NmYyBmcm9tICcuLi8uLi8uLi9fdmlydHVhbC9wbHVnaW4tdnVlX2V4cG9ydC1oZWxwZXIubWpzJztcbmltcG9ydCB7IFR5cGVDb21wb25lbnRzLCBUeXBlQ29tcG9uZW50c01hcCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3Z1ZS9pY29uLm1qcyc7XG5pbXBvcnQgeyB1c2VHbG9iYWxDb21wb25lbnRTZXR0aW5ncyB9IGZyb20gJy4uLy4uL2NvbmZpZy1wcm92aWRlci9zcmMvaG9va3MvdXNlLWdsb2JhbC1jb25maWcubWpzJztcbmltcG9ydCB7IEVWRU5UX0NPREUgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvYXJpYS5tanMnO1xuXG5jb25zdCBfaG9pc3RlZF8xID0gW1wiaWRcIl07XG5jb25zdCBfaG9pc3RlZF8yID0gW1wiaW5uZXJIVE1MXCJdO1xuY29uc3QgX19kZWZhdWx0X18gPSBkZWZpbmVDb21wb25lbnQoe1xuICBuYW1lOiBcIkVsTWVzc2FnZVwiXG59KTtcbmNvbnN0IF9zZmNfbWFpbiA9IC8qIEBfX1BVUkVfXyAqLyBkZWZpbmVDb21wb25lbnQoe1xuICAuLi5fX2RlZmF1bHRfXyxcbiAgcHJvcHM6IG1lc3NhZ2VQcm9wcyxcbiAgZW1pdHM6IG1lc3NhZ2VFbWl0cyxcbiAgc2V0dXAoX19wcm9wcywgeyBleHBvc2UgfSkge1xuICAgIGNvbnN0IHByb3BzID0gX19wcm9wcztcbiAgICBjb25zdCB7IENsb3NlIH0gPSBUeXBlQ29tcG9uZW50cztcbiAgICBjb25zdCB7IG5zLCB6SW5kZXggfSA9IHVzZUdsb2JhbENvbXBvbmVudFNldHRpbmdzKFwibWVzc2FnZVwiKTtcbiAgICBjb25zdCB7IGN1cnJlbnRaSW5kZXgsIG5leHRaSW5kZXggfSA9IHpJbmRleDtcbiAgICBjb25zdCBtZXNzYWdlUmVmID0gcmVmKCk7XG4gICAgY29uc3QgdmlzaWJsZSA9IHJlZihmYWxzZSk7XG4gICAgY29uc3QgaGVpZ2h0ID0gcmVmKDApO1xuICAgIGxldCBzdG9wVGltZXIgPSB2b2lkIDA7XG4gICAgY29uc3QgYmFkZ2VUeXBlID0gY29tcHV0ZWQoKCkgPT4gcHJvcHMudHlwZSA/IHByb3BzLnR5cGUgPT09IFwiZXJyb3JcIiA/IFwiZGFuZ2VyXCIgOiBwcm9wcy50eXBlIDogXCJpbmZvXCIpO1xuICAgIGNvbnN0IHR5cGVDbGFzcyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSBwcm9wcy50eXBlO1xuICAgICAgcmV0dXJuIHsgW25zLmJtKFwiaWNvblwiLCB0eXBlKV06IHR5cGUgJiYgVHlwZUNvbXBvbmVudHNNYXBbdHlwZV0gfTtcbiAgICB9KTtcbiAgICBjb25zdCBpY29uQ29tcG9uZW50ID0gY29tcHV0ZWQoKCkgPT4gcHJvcHMuaWNvbiB8fCBUeXBlQ29tcG9uZW50c01hcFtwcm9wcy50eXBlXSB8fCBcIlwiKTtcbiAgICBjb25zdCBsYXN0T2Zmc2V0ID0gY29tcHV0ZWQoKCkgPT4gZ2V0TGFzdE9mZnNldChwcm9wcy5pZCkpO1xuICAgIGNvbnN0IG9mZnNldCA9IGNvbXB1dGVkKCgpID0+IGdldE9mZnNldE9yU3BhY2UocHJvcHMuaWQsIHByb3BzLm9mZnNldCkgKyBsYXN0T2Zmc2V0LnZhbHVlKTtcbiAgICBjb25zdCBib3R0b20gPSBjb21wdXRlZCgoKSA9PiBoZWlnaHQudmFsdWUgKyBvZmZzZXQudmFsdWUpO1xuICAgIGNvbnN0IGN1c3RvbVN0eWxlID0gY29tcHV0ZWQoKCkgPT4gKHtcbiAgICAgIHRvcDogYCR7b2Zmc2V0LnZhbHVlfXB4YCxcbiAgICAgIHpJbmRleDogY3VycmVudFpJbmRleC52YWx1ZVxuICAgIH0pKTtcbiAgICBmdW5jdGlvbiBzdGFydFRpbWVyKCkge1xuICAgICAgaWYgKHByb3BzLmR1cmF0aW9uID09PSAwKVxuICAgICAgICByZXR1cm47XG4gICAgICAoeyBzdG9wOiBzdG9wVGltZXIgfSA9IHVzZVRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgIGNsb3NlKCk7XG4gICAgICB9LCBwcm9wcy5kdXJhdGlvbikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhclRpbWVyKCkge1xuICAgICAgc3RvcFRpbWVyID09IG51bGwgPyB2b2lkIDAgOiBzdG9wVGltZXIoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICB2aXNpYmxlLnZhbHVlID0gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGtleWRvd24oeyBjb2RlIH0pIHtcbiAgICAgIGlmIChjb2RlID09PSBFVkVOVF9DT0RFLmVzYykge1xuICAgICAgICBjbG9zZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgICAgc3RhcnRUaW1lcigpO1xuICAgICAgbmV4dFpJbmRleCgpO1xuICAgICAgdmlzaWJsZS52YWx1ZSA9IHRydWU7XG4gICAgfSk7XG4gICAgd2F0Y2goKCkgPT4gcHJvcHMucmVwZWF0TnVtLCAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVyKCk7XG4gICAgICBzdGFydFRpbWVyKCk7XG4gICAgfSk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgXCJrZXlkb3duXCIsIGtleWRvd24pO1xuICAgIHVzZVJlc2l6ZU9ic2VydmVyKG1lc3NhZ2VSZWYsICgpID0+IHtcbiAgICAgIGhlaWdodC52YWx1ZSA9IG1lc3NhZ2VSZWYudmFsdWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgIH0pO1xuICAgIGV4cG9zZSh7XG4gICAgICB2aXNpYmxlLFxuICAgICAgYm90dG9tLFxuICAgICAgY2xvc2VcbiAgICB9KTtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4ge1xuICAgICAgcmV0dXJuIG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhUcmFuc2l0aW9uLCB7XG4gICAgICAgIG5hbWU6IHVucmVmKG5zKS5iKFwiZmFkZVwiKSxcbiAgICAgICAgb25CZWZvcmVMZWF2ZTogX2N0eC5vbkNsb3NlLFxuICAgICAgICBvbkFmdGVyTGVhdmU6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gKCRldmVudCkgPT4gX2N0eC4kZW1pdChcImRlc3Ryb3lcIikpLFxuICAgICAgICBwZXJzaXN0ZWQ6IFwiXCJcbiAgICAgIH0sIHtcbiAgICAgICAgZGVmYXVsdDogd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgd2l0aERpcmVjdGl2ZXMoY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIHtcbiAgICAgICAgICAgIGlkOiBfY3R4LmlkLFxuICAgICAgICAgICAgcmVmX2tleTogXCJtZXNzYWdlUmVmXCIsXG4gICAgICAgICAgICByZWY6IG1lc3NhZ2VSZWYsXG4gICAgICAgICAgICBjbGFzczogbm9ybWFsaXplQ2xhc3MoW1xuICAgICAgICAgICAgICB1bnJlZihucykuYigpLFxuICAgICAgICAgICAgICB7IFt1bnJlZihucykubShfY3R4LnR5cGUpXTogX2N0eC50eXBlIH0sXG4gICAgICAgICAgICAgIHVucmVmKG5zKS5pcyhcImNlbnRlclwiLCBfY3R4LmNlbnRlciksXG4gICAgICAgICAgICAgIHVucmVmKG5zKS5pcyhcImNsb3NhYmxlXCIsIF9jdHguc2hvd0Nsb3NlKSxcbiAgICAgICAgICAgICAgdW5yZWYobnMpLmlzKFwicGxhaW5cIiwgX2N0eC5wbGFpbiksXG4gICAgICAgICAgICAgIF9jdHguY3VzdG9tQ2xhc3NcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgc3R5bGU6IG5vcm1hbGl6ZVN0eWxlKHVucmVmKGN1c3RvbVN0eWxlKSksXG4gICAgICAgICAgICByb2xlOiBcImFsZXJ0XCIsXG4gICAgICAgICAgICBvbk1vdXNlZW50ZXI6IGNsZWFyVGltZXIsXG4gICAgICAgICAgICBvbk1vdXNlbGVhdmU6IHN0YXJ0VGltZXJcbiAgICAgICAgICB9LCBbXG4gICAgICAgICAgICBfY3R4LnJlcGVhdE51bSA+IDEgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKHVucmVmKEVsQmFkZ2UpLCB7XG4gICAgICAgICAgICAgIGtleTogMCxcbiAgICAgICAgICAgICAgdmFsdWU6IF9jdHgucmVwZWF0TnVtLFxuICAgICAgICAgICAgICB0eXBlOiB1bnJlZihiYWRnZVR5cGUpLFxuICAgICAgICAgICAgICBjbGFzczogbm9ybWFsaXplQ2xhc3ModW5yZWYobnMpLmUoXCJiYWRnZVwiKSlcbiAgICAgICAgICAgIH0sIG51bGwsIDgsIFtcInZhbHVlXCIsIFwidHlwZVwiLCBcImNsYXNzXCJdKSkgOiBjcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpLFxuICAgICAgICAgICAgdW5yZWYoaWNvbkNvbXBvbmVudCkgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKHVucmVmKEVsSWNvbiksIHtcbiAgICAgICAgICAgICAga2V5OiAxLFxuICAgICAgICAgICAgICBjbGFzczogbm9ybWFsaXplQ2xhc3MoW3VucmVmKG5zKS5lKFwiaWNvblwiKSwgdW5yZWYodHlwZUNsYXNzKV0pXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgICAgICAgIChvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2socmVzb2x2ZUR5bmFtaWNDb21wb25lbnQodW5yZWYoaWNvbkNvbXBvbmVudCkpKSlcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIF86IDFcbiAgICAgICAgICAgIH0sIDgsIFtcImNsYXNzXCJdKSkgOiBjcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpLFxuICAgICAgICAgICAgcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJkZWZhdWx0XCIsIHt9LCAoKSA9PiBbXG4gICAgICAgICAgICAgICFfY3R4LmRhbmdlcm91c2x5VXNlSFRNTFN0cmluZyA/IChvcGVuQmxvY2soKSwgY3JlYXRlRWxlbWVudEJsb2NrKFwicFwiLCB7XG4gICAgICAgICAgICAgICAga2V5OiAwLFxuICAgICAgICAgICAgICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyh1bnJlZihucykuZShcImNvbnRlbnRcIikpXG4gICAgICAgICAgICAgIH0sIHRvRGlzcGxheVN0cmluZyhfY3R4Lm1lc3NhZ2UpLCAzKSkgOiAob3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jayhGcmFnbWVudCwgeyBrZXk6IDEgfSwgW1xuICAgICAgICAgICAgICAgIGNyZWF0ZUNvbW1lbnRWTm9kZShcIiBDYXV0aW9uIGhlcmUsIG1lc3NhZ2UgY291bGQndmUgYmVlbiBjb21wcm9taXNlZCwgbmV2ZXIgdXNlIHVzZXIncyBpbnB1dCBhcyBtZXNzYWdlIFwiKSxcbiAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50Vk5vZGUoXCJwXCIsIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyh1bnJlZihucykuZShcImNvbnRlbnRcIikpLFxuICAgICAgICAgICAgICAgICAgaW5uZXJIVE1MOiBfY3R4Lm1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9LCBudWxsLCAxMCwgX2hvaXN0ZWRfMilcbiAgICAgICAgICAgICAgXSwgMjExMikpXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF9jdHguc2hvd0Nsb3NlID8gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayh1bnJlZihFbEljb24pLCB7XG4gICAgICAgICAgICAgIGtleTogMixcbiAgICAgICAgICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKHVucmVmKG5zKS5lKFwiY2xvc2VCdG5cIikpLFxuICAgICAgICAgICAgICBvbkNsaWNrOiB3aXRoTW9kaWZpZXJzKGNsb3NlLCBbXCJzdG9wXCJdKVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBkZWZhdWx0OiB3aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgICBjcmVhdGVWTm9kZSh1bnJlZihDbG9zZSkpXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICBfOiAxXG4gICAgICAgICAgICB9LCA4LCBbXCJjbGFzc1wiLCBcIm9uQ2xpY2tcIl0pKSA6IGNyZWF0ZUNvbW1lbnRWTm9kZShcInYtaWZcIiwgdHJ1ZSlcbiAgICAgICAgICBdLCA0NiwgX2hvaXN0ZWRfMSksIFtcbiAgICAgICAgICAgIFt2U2hvdywgdmlzaWJsZS52YWx1ZV1cbiAgICAgICAgICBdKVxuICAgICAgICBdKSxcbiAgICAgICAgXzogM1xuICAgICAgfSwgOCwgW1wibmFtZVwiLCBcIm9uQmVmb3JlTGVhdmVcIl0pO1xuICAgIH07XG4gIH1cbn0pO1xudmFyIE1lc3NhZ2VDb25zdHJ1Y3RvciA9IC8qIEBfX1BVUkVfXyAqLyBfZXhwb3J0X3NmYyhfc2ZjX21haW4sIFtbXCJfX2ZpbGVcIiwgXCJtZXNzYWdlLnZ1ZVwiXV0pO1xuXG5leHBvcnQgeyBNZXNzYWdlQ29uc3RydWN0b3IgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzc2FnZTIubWpzLm1hcFxuIiwiaW1wb3J0IHsgaXNWTm9kZSwgcmVuZGVyLCBjcmVhdGVWTm9kZSB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgJy4uLy4uLy4uL3V0aWxzL2luZGV4Lm1qcyc7XG5pbXBvcnQgJy4uLy4uL2NvbmZpZy1wcm92aWRlci9pbmRleC5tanMnO1xuaW1wb3J0IE1lc3NhZ2VDb25zdHJ1Y3RvciBmcm9tICcuL21lc3NhZ2UyLm1qcyc7XG5pbXBvcnQgeyBtZXNzYWdlRGVmYXVsdHMsIG1lc3NhZ2VUeXBlcyB9IGZyb20gJy4vbWVzc2FnZS5tanMnO1xuaW1wb3J0IHsgaW5zdGFuY2VzIH0gZnJvbSAnLi9pbnN0YW5jZS5tanMnO1xuaW1wb3J0IHsgaXNTdHJpbmcsIGlzRnVuY3Rpb24gfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5pbXBvcnQgeyBpc0VsZW1lbnQsIGlzTnVtYmVyIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdHlwZXMubWpzJztcbmltcG9ydCB7IGRlYnVnV2FybiB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2Vycm9yLm1qcyc7XG5pbXBvcnQgeyBpc0NsaWVudCB9IGZyb20gJ0B2dWV1c2UvY29yZSc7XG5pbXBvcnQgeyBtZXNzYWdlQ29uZmlnIH0gZnJvbSAnLi4vLi4vY29uZmlnLXByb3ZpZGVyL3NyYy9jb25maWctcHJvdmlkZXIubWpzJztcblxubGV0IHNlZWQgPSAxO1xuY29uc3Qgbm9ybWFsaXplT3B0aW9ucyA9IChwYXJhbXMpID0+IHtcbiAgY29uc3Qgb3B0aW9ucyA9ICFwYXJhbXMgfHwgaXNTdHJpbmcocGFyYW1zKSB8fCBpc1ZOb2RlKHBhcmFtcykgfHwgaXNGdW5jdGlvbihwYXJhbXMpID8geyBtZXNzYWdlOiBwYXJhbXMgfSA6IHBhcmFtcztcbiAgY29uc3Qgbm9ybWFsaXplZCA9IHtcbiAgICAuLi5tZXNzYWdlRGVmYXVsdHMsXG4gICAgLi4ub3B0aW9uc1xuICB9O1xuICBpZiAoIW5vcm1hbGl6ZWQuYXBwZW5kVG8pIHtcbiAgICBub3JtYWxpemVkLmFwcGVuZFRvID0gZG9jdW1lbnQuYm9keTtcbiAgfSBlbHNlIGlmIChpc1N0cmluZyhub3JtYWxpemVkLmFwcGVuZFRvKSkge1xuICAgIGxldCBhcHBlbmRUbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iobm9ybWFsaXplZC5hcHBlbmRUbyk7XG4gICAgaWYgKCFpc0VsZW1lbnQoYXBwZW5kVG8pKSB7XG4gICAgICBkZWJ1Z1dhcm4oXCJFbE1lc3NhZ2VcIiwgXCJ0aGUgYXBwZW5kVG8gb3B0aW9uIGlzIG5vdCBhbiBIVE1MRWxlbWVudC4gRmFsbGluZyBiYWNrIHRvIGRvY3VtZW50LmJvZHkuXCIpO1xuICAgICAgYXBwZW5kVG8gPSBkb2N1bWVudC5ib2R5O1xuICAgIH1cbiAgICBub3JtYWxpemVkLmFwcGVuZFRvID0gYXBwZW5kVG87XG4gIH1cbiAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59O1xuY29uc3QgY2xvc2VNZXNzYWdlID0gKGluc3RhbmNlKSA9PiB7XG4gIGNvbnN0IGlkeCA9IGluc3RhbmNlcy5pbmRleE9mKGluc3RhbmNlKTtcbiAgaWYgKGlkeCA9PT0gLTEpXG4gICAgcmV0dXJuO1xuICBpbnN0YW5jZXMuc3BsaWNlKGlkeCwgMSk7XG4gIGNvbnN0IHsgaGFuZGxlciB9ID0gaW5zdGFuY2U7XG4gIGhhbmRsZXIuY2xvc2UoKTtcbn07XG5jb25zdCBjcmVhdGVNZXNzYWdlID0gKHsgYXBwZW5kVG8sIC4uLm9wdGlvbnMgfSwgY29udGV4dCkgPT4ge1xuICBjb25zdCBpZCA9IGBtZXNzYWdlXyR7c2VlZCsrfWA7XG4gIGNvbnN0IHVzZXJPbkNsb3NlID0gb3B0aW9ucy5vbkNsb3NlO1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb25zdCBwcm9wcyA9IHtcbiAgICAuLi5vcHRpb25zLFxuICAgIGlkLFxuICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgIHVzZXJPbkNsb3NlID09IG51bGwgPyB2b2lkIDAgOiB1c2VyT25DbG9zZSgpO1xuICAgICAgY2xvc2VNZXNzYWdlKGluc3RhbmNlKTtcbiAgICB9LFxuICAgIG9uRGVzdHJveTogKCkgPT4ge1xuICAgICAgcmVuZGVyKG51bGwsIGNvbnRhaW5lcik7XG4gICAgfVxuICB9O1xuICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKE1lc3NhZ2VDb25zdHJ1Y3RvciwgcHJvcHMsIGlzRnVuY3Rpb24ocHJvcHMubWVzc2FnZSkgfHwgaXNWTm9kZShwcm9wcy5tZXNzYWdlKSA/IHtcbiAgICBkZWZhdWx0OiBpc0Z1bmN0aW9uKHByb3BzLm1lc3NhZ2UpID8gcHJvcHMubWVzc2FnZSA6ICgpID0+IHByb3BzLm1lc3NhZ2VcbiAgfSA6IG51bGwpO1xuICB2bm9kZS5hcHBDb250ZXh0ID0gY29udGV4dCB8fCBtZXNzYWdlLl9jb250ZXh0O1xuICByZW5kZXIodm5vZGUsIGNvbnRhaW5lcik7XG4gIGFwcGVuZFRvLmFwcGVuZENoaWxkKGNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZCk7XG4gIGNvbnN0IHZtID0gdm5vZGUuY29tcG9uZW50O1xuICBjb25zdCBoYW5kbGVyID0ge1xuICAgIGNsb3NlOiAoKSA9PiB7XG4gICAgICB2bS5leHBvc2VkLnZpc2libGUudmFsdWUgPSBmYWxzZTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGluc3RhbmNlID0ge1xuICAgIGlkLFxuICAgIHZub2RlLFxuICAgIHZtLFxuICAgIGhhbmRsZXIsXG4gICAgcHJvcHM6IHZub2RlLmNvbXBvbmVudC5wcm9wc1xuICB9O1xuICByZXR1cm4gaW5zdGFuY2U7XG59O1xuY29uc3QgbWVzc2FnZSA9IChvcHRpb25zID0ge30sIGNvbnRleHQpID0+IHtcbiAgaWYgKCFpc0NsaWVudClcbiAgICByZXR1cm4geyBjbG9zZTogKCkgPT4gdm9pZCAwIH07XG4gIGlmIChpc051bWJlcihtZXNzYWdlQ29uZmlnLm1heCkgJiYgaW5zdGFuY2VzLmxlbmd0aCA+PSBtZXNzYWdlQ29uZmlnLm1heCkge1xuICAgIHJldHVybiB7IGNsb3NlOiAoKSA9PiB2b2lkIDAgfTtcbiAgfVxuICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zKTtcbiAgaWYgKG5vcm1hbGl6ZWQuZ3JvdXBpbmcgJiYgaW5zdGFuY2VzLmxlbmd0aCkge1xuICAgIGNvbnN0IGluc3RhbmNlMiA9IGluc3RhbmNlcy5maW5kKCh7IHZub2RlOiB2bSB9KSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICByZXR1cm4gKChfYSA9IHZtLnByb3BzKSA9PSBudWxsID8gdm9pZCAwIDogX2EubWVzc2FnZSkgPT09IG5vcm1hbGl6ZWQubWVzc2FnZTtcbiAgICB9KTtcbiAgICBpZiAoaW5zdGFuY2UyKSB7XG4gICAgICBpbnN0YW5jZTIucHJvcHMucmVwZWF0TnVtICs9IDE7XG4gICAgICBpbnN0YW5jZTIucHJvcHMudHlwZSA9IG5vcm1hbGl6ZWQudHlwZTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTIuaGFuZGxlcjtcbiAgICB9XG4gIH1cbiAgY29uc3QgaW5zdGFuY2UgPSBjcmVhdGVNZXNzYWdlKG5vcm1hbGl6ZWQsIGNvbnRleHQpO1xuICBpbnN0YW5jZXMucHVzaChpbnN0YW5jZSk7XG4gIHJldHVybiBpbnN0YW5jZS5oYW5kbGVyO1xufTtcbm1lc3NhZ2VUeXBlcy5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gIG1lc3NhZ2VbdHlwZV0gPSAob3B0aW9ucyA9IHt9LCBhcHBDb250ZXh0KSA9PiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIG1lc3NhZ2UoeyAuLi5ub3JtYWxpemVkLCB0eXBlIH0sIGFwcENvbnRleHQpO1xuICB9O1xufSk7XG5mdW5jdGlvbiBjbG9zZUFsbCh0eXBlKSB7XG4gIGZvciAoY29uc3QgaW5zdGFuY2Ugb2YgaW5zdGFuY2VzKSB7XG4gICAgaWYgKCF0eXBlIHx8IHR5cGUgPT09IGluc3RhbmNlLnByb3BzLnR5cGUpIHtcbiAgICAgIGluc3RhbmNlLmhhbmRsZXIuY2xvc2UoKTtcbiAgICB9XG4gIH1cbn1cbm1lc3NhZ2UuY2xvc2VBbGwgPSBjbG9zZUFsbDtcbm1lc3NhZ2UuX2NvbnRleHQgPSBudWxsO1xuXG5leHBvcnQgeyBjbG9zZUFsbCwgbWVzc2FnZSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXRob2QubWpzLm1hcFxuIiwiaW1wb3J0ICcuLi8uLi91dGlscy9pbmRleC5tanMnO1xuaW1wb3J0IG1lc3NhZ2UgZnJvbSAnLi9zcmMvbWV0aG9kLm1qcyc7XG5leHBvcnQgeyBtZXNzYWdlRGVmYXVsdHMsIG1lc3NhZ2VFbWl0cywgbWVzc2FnZVByb3BzLCBtZXNzYWdlVHlwZXMgfSBmcm9tICcuL3NyYy9tZXNzYWdlLm1qcyc7XG5pbXBvcnQgeyB3aXRoSW5zdGFsbEZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vdXRpbHMvdnVlL2luc3RhbGwubWpzJztcblxuY29uc3QgRWxNZXNzYWdlID0gd2l0aEluc3RhbGxGdW5jdGlvbihtZXNzYWdlLCBcIiRtZXNzYWdlXCIpO1xuXG5leHBvcnQgeyBFbE1lc3NhZ2UsIEVsTWVzc2FnZSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBkZWZpbmVTdG9yZSB9IGZyb20gXCJwaW5pYVwiO1xuXG5leHBvcnQgY29uc3QgdXNlQXBwU3RvcmUgPSBkZWZpbmVTdG9yZShcImFwcFwiLCB7XG4gIHN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwYWNrYWdlOiB7fSxcbiAgICB9O1xuICB9LFxuICBhY3Rpb25zOiB7XG4gICAgdXBkYXRlUGFrYWdlKHBheWxvYWQpIHtcbiAgICAgIHRoaXMucGFja2FnZSA9IHBheWxvYWQ7XG4gICAgfSxcbiAgfSxcbn0pO1xuIiwiLyoqXG4gKiB3ZWJzb2NrZXQg6YCa5L+hXG4gKiDmjqXmlLbjgIHlj5HpgIHmlbDmja5cbiAqL1xuXG5mdW5jdGlvbiBTb2NrZXQoY29uZmlnKSB7XG4gIHRoaXMuc29ja2V0ID0gbnVsbDtcbiAgdGhpcy5vcHRpb25zID0ge1xuICAgIC4uLmNvbmZpZyxcbiAgfTtcbn1cblxuU29ja2V0LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKHVybCkge1xuICBpZiAoIXVybCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVybCBpcyByZXF1aXJlZFwiKTtcbiAgfVxuICBpZiAoIXdpbmRvdy5XZWJTb2NrZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJXZWJTb2NrZXQgaXMgbm90IHN1cHBvcnRlZFwiKTtcbiAgfVxuICB0aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQodXJsKTtcbn07XG5Tb2NrZXQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBpZiAoIXRoaXMuc29ja2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiV2ViU29ja2V0IGlzIG5vdCBjb25uZWN0ZWRcIik7XG4gIH1cbiAgdGhpcy5zb2NrZXQuc2VuZChkYXRhKTtcbn07XG5Tb2NrZXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuc29ja2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiV2ViU29ja2V0IGlzIG5vdCBjb25uZWN0ZWRcIik7XG4gIH1cbiAgdGhpcy5zb2NrZXQuY2xvc2UoKTtcbn07XG5Tb2NrZXQucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKHR5cGUsIGNhbGxiYWNrKSB7XG4gIGlmICghdGhpcy5zb2NrZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJXZWJTb2NrZXQgaXMgbm90IGNvbm5lY3RlZFwiKTtcbiAgfVxuICB0aGlzLnNvY2tldFt0eXBlXSA9IGNhbGxiYWNrO1xufTtcblNvY2tldC5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgaWYgKCF0aGlzLnNvY2tldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIldlYlNvY2tldCBpcyBub3QgY29ubmVjdGVkXCIpO1xuICB9XG4gIHRoaXMuc29ja2V0W3R5cGVdID0gbnVsbDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNvY2tldDtcbiIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImhvbWVcIj5cbiAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICA8aDI+XG4gICAgICAgIHt7IGRhdGEubmFtZSB9fVxuICAgICAgICA8ZWwtdGFnIHR5cGU9XCJwcmltYXJ5XCI+e3sgZGF0YS52ZXJzaW9uIH19PC9lbC10YWc+XG4gICAgICA8L2gyPlxuXG4gICAgICA8cD57eyBkYXRhLmRlc2NyaXB0aW9uIH19PC9wPlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cInZlcnNpb24tbGlzdFwiPlxuICAgICAgPHRlbXBsYXRlXG4gICAgICAgIDprZXk9XCJpbmRleFwiXG4gICAgICAgIHYtZm9yPVwiKGRlcCwgaW5kZXgpIGluIFtkZXBlbmRlbmNpZXMsIGRldkRlcGVuZGVuY2llc11cIlxuICAgICAgPlxuICAgICAgICA8aDM+e3sgaW5kZXggPyBcImRldkRlcGVuZGVuY2llc1wiIDogXCJkZXBlbmRlbmNpZXNcIiB9fTwvaDM+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzcz1cInZlcnNpb24taXRlbSBtYi0xMFwiXG4gICAgICAgICAgdi1mb3I9XCJpbmZvIGluIGZvcm1hdFZhbHVlcyhkZXApXCJcbiAgICAgICAgICA6a2V5PVwiaW5mby5uYW1lXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0xMCBmbGV4LWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgPGlcbiAgICAgICAgICAgICAgdi1pZj1cIiFpbmZvLmlzX2ZpbmlzaFwiXG4gICAgICAgICAgICAgIGNsYXNzPVwiaXMtbG9hZGluZyBmbGV4LWlubGluZSBmbGV4LWp1c3RpZnktY2VudGVyXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGktZXAtbG9hZGluZyAvPlxuICAgICAgICAgICAgPC9pPlxuICAgICAgICAgICAgPGlcbiAgICAgICAgICAgICAgdi1lbHNlXG4gICAgICAgICAgICAgIGNsYXNzPVwiZmxleC1pbmxpbmUgZmxleC1qdXN0aWZ5LWNlbnRlciBmbGV4LWl0ZW1zLWNlbnRlciBjb2xvci1ibHVlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGktZXAtY2hlY2sgLz5cbiAgICAgICAgICAgIDwvaT5cblxuICAgICAgICAgICAgPHNwYW4+e3sgaW5mby5uYW1lIH19PC9zcGFuPlxuICAgICAgICAgICAgPGVsLXRhZyB0eXBlPVwicHJpbWFyeVwiPnt7IGluZm8udmVyc2lvbiB9fTwvZWwtdGFnPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0xMCBmbGV4IGZsZXgtd3JhcCBnYXAtMTBcIj5cbiAgICAgICAgICAgIDxkaXYgdi1mb3I9XCJ2IGluIGZvcm1hdFZhbHVlcyhpbmZvLnZlcnNpb25zKVwiIDprZXk9XCJ2LnZlcnNpb25cIj5cbiAgICAgICAgICAgICAgPGVsLXRhZyB0eXBlPVwic3VjY2Vzc1wiPnt7IHYudmVyc2lvbiB9fTwvZWwtdGFnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuPHNjcmlwdCBzZXR1cD5cbmltcG9ydCB7IHVzZUFwcFN0b3JlIH0gZnJvbSBcIkAvc3RvcmVzL2luZGV4LmpzXCI7XG5pbXBvcnQgU29ja2V0IGZyb20gXCJAL3N0b3Jlcy9zb2NrZXQuanNcIjtcblxuY29uc3QgYXBwU3RvcmUgPSB1c2VBcHBTdG9yZSgpO1xuXG5jb25zdCBkYXRhID0gY29tcHV0ZWQoKCkgPT4gYXBwU3RvcmUucGFja2FnZSk7XG5cbi8vIOW8gOWPkeS+nei1llxuY29uc3QgZGVwZW5kZW5jaWVzID0gY29tcHV0ZWQoKCkgPT4gZGF0YS52YWx1ZS5kZXBlbmRlbmNpZXMgfHwge30pO1xuLy8g55Sf5Lqn5L6d6LWWXG5jb25zdCBkZXZEZXBlbmRlbmNpZXMgPSBjb21wdXRlZCgoKSA9PiBkYXRhLnZhbHVlLmRldl9kZXBlbmRlbmNpZXMgfHwge30pO1xuXG5jb25zdCBzb2NrZXQgPSBuZXcgU29ja2V0KCk7XG5cbm9uTW91bnRlZCgoKSA9PiB7XG4gIC8vIHNvY2tldC5jb25uZWN0KFwid3M6Ly8xMjcuMC4wLjE6ODA4MC93c1wiKTtcbiAgc29ja2V0LmNvbm5lY3QoXG4gICAgaW1wb3J0Lm1ldGEuZW52LlZJVEVfU09DS0VUX1VSTCB8fCBgd3M6Ly8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0fS93c2BcbiAgKTtcbiAgc29ja2V0Lm9uKFwib25tZXNzYWdlXCIsIGhhbmRsZVJlY2VpdmVEYXRhKTtcbiAgc29ja2V0Lm9uKFwib25vcGVuXCIsICgpID0+IHtcbiAgICBFbE1lc3NhZ2Uuc3VjY2VzcyhcIui/nuaOpeaIkOWKnyFcIik7XG4gICAgY29uc29sZS5sb2coXCJvcGVuXCIpO1xuICB9KTtcbiAgc29ja2V0Lm9uKFwib25lcnJvclwiLCAoZSkgPT4ge1xuICAgIEVsTWVzc2FnZS53YXJuaW5nKFwi6L+e5o6l5aSx6LSl77yM6K+35qOA5p+l5pyN5Yqh5piv5ZCm5ZCv5YqoIVwiKTtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9KTtcbn0pO1xuXG4vKipcbiAqIOaOpeaUtuWIsOaVsOaNrlxuICovXG5mdW5jdGlvbiBoYW5kbGVSZWNlaXZlRGF0YShkYXRhKSB7XG4gIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEuZGF0YSk7XG5cbiAgY29uc29sZS5sb2coZGF0YSk7XG4gIGFwcFN0b3JlLnVwZGF0ZVBha2FnZShkYXRhKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWVzKG9iaikge1xuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhvYmopO1xufVxuPC9zY3JpcHQ+XG4iXSwibmFtZXMiOlsiX2EiLCJpc0NsaWVudCIsImlzU3RyaW5nIiwidmFsIiwibm9vcCIsInJlc29sdmVVbnJlZiIsInIiLCJ1bnJlZiIsImlkZW50aXR5IiwiYXJnIiwidHJ5T25TY29wZURpc3Bvc2UiLCJmbiIsImdldEN1cnJlbnRTY29wZSIsIm9uU2NvcGVEaXNwb3NlIiwidHJ5T25Nb3VudGVkIiwic3luYyIsImdldEN1cnJlbnRJbnN0YW5jZSIsIm9uTW91bnRlZCIsIm5leHRUaWNrIiwidXNlVGltZW91dEZuIiwiY2IiLCJpbnRlcnZhbCIsIm9wdGlvbnMiLCJpbW1lZGlhdGUiLCJpc1BlbmRpbmciLCJyZWYiLCJ0aW1lciIsImNsZWFyIiwic3RvcCIsInN0YXJ0IiwiYXJncyIsInJlYWRvbmx5IiwidW5yZWZFbGVtZW50IiwiZWxSZWYiLCJwbGFpbiIsImRlZmF1bHRXaW5kb3ciLCJ1c2VFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiZXZlbnRzIiwibGlzdGVuZXJzIiwiY2xlYW51cHMiLCJjbGVhbnVwIiwicmVnaXN0ZXIiLCJlbCIsImV2ZW50IiwibGlzdGVuZXIiLCJvcHRpb25zMiIsInN0b3BXYXRjaCIsIndhdGNoIiwidXNlU3VwcG9ydGVkIiwiY2FsbGJhY2siLCJpc1N1cHBvcnRlZCIsInVwZGF0ZSIsIl9nbG9iYWwiLCJnbG9iYWxLZXkiLCJfX2dldE93blByb3BTeW1ib2xzJGciLCJfX2hhc093blByb3AkZyIsIl9fcHJvcElzRW51bSRnIiwiX19vYmpSZXN0JDIiLCJzb3VyY2UiLCJleGNsdWRlIiwicHJvcCIsInVzZVJlc2l6ZU9ic2VydmVyIiwid2luZG93Iiwib2JzZXJ2ZXJPcHRpb25zIiwib2JzZXJ2ZXIiLCJTd2lwZURpcmVjdGlvbiIsIlN3aXBlRGlyZWN0aW9uMiIsIl9fZGVmUHJvcCIsIl9fZ2V0T3duUHJvcFN5bWJvbHMiLCJfX2hhc093blByb3AiLCJfX3Byb3BJc0VudW0iLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsIl9fc3ByZWFkVmFsdWVzIiwiYSIsImIiLCJfVHJhbnNpdGlvblByZXNldHMiLCJmcmVlR2xvYmFsIiwiZnJlZVNlbGYiLCJyb290IiwiU3ltYm9sIiwib2JqZWN0UHJvdG8iLCJoYXNPd25Qcm9wZXJ0eSIsIm5hdGl2ZU9iamVjdFRvU3RyaW5nIiwic3ltVG9TdHJpbmdUYWciLCJnZXRSYXdUYWciLCJpc093biIsInRhZyIsInVubWFza2VkIiwicmVzdWx0Iiwib2JqZWN0VG9TdHJpbmciLCJudWxsVGFnIiwidW5kZWZpbmVkVGFnIiwiYmFzZUdldFRhZyIsImlzT2JqZWN0TGlrZSIsInN5bWJvbFRhZyIsImlzU3ltYm9sIiwiYXJyYXlNYXAiLCJhcnJheSIsIml0ZXJhdGVlIiwiaW5kZXgiLCJsZW5ndGgiLCJpc0FycmF5IiwiSU5GSU5JVFkiLCJzeW1ib2xQcm90byIsInN5bWJvbFRvU3RyaW5nIiwiYmFzZVRvU3RyaW5nIiwiaXNPYmplY3QiLCJ0eXBlIiwiYXN5bmNUYWciLCJmdW5jVGFnIiwiZ2VuVGFnIiwicHJveHlUYWciLCJpc0Z1bmN0aW9uIiwiY29yZUpzRGF0YSIsIm1hc2tTcmNLZXkiLCJ1aWQiLCJpc01hc2tlZCIsImZ1bmMiLCJmdW5jUHJvdG8iLCJmdW5jVG9TdHJpbmciLCJ0b1NvdXJjZSIsInJlUmVnRXhwQ2hhciIsInJlSXNIb3N0Q3RvciIsInJlSXNOYXRpdmUiLCJiYXNlSXNOYXRpdmUiLCJwYXR0ZXJuIiwiZ2V0VmFsdWUiLCJvYmplY3QiLCJnZXROYXRpdmUiLCJlcSIsIm90aGVyIiwicmVJc0RlZXBQcm9wIiwicmVJc1BsYWluUHJvcCIsImlzS2V5IiwibmF0aXZlQ3JlYXRlIiwiaGFzaENsZWFyIiwiaGFzaERlbGV0ZSIsIkhBU0hfVU5ERUZJTkVEIiwiaGFzaEdldCIsImRhdGEiLCJoYXNoSGFzIiwiaGFzaFNldCIsIkhhc2giLCJlbnRyaWVzIiwiZW50cnkiLCJsaXN0Q2FjaGVDbGVhciIsImFzc29jSW5kZXhPZiIsImFycmF5UHJvdG8iLCJzcGxpY2UiLCJsaXN0Q2FjaGVEZWxldGUiLCJsYXN0SW5kZXgiLCJsaXN0Q2FjaGVHZXQiLCJsaXN0Q2FjaGVIYXMiLCJsaXN0Q2FjaGVTZXQiLCJMaXN0Q2FjaGUiLCJNYXAiLCJtYXBDYWNoZUNsZWFyIiwiaXNLZXlhYmxlIiwiZ2V0TWFwRGF0YSIsIm1hcCIsIm1hcENhY2hlRGVsZXRlIiwibWFwQ2FjaGVHZXQiLCJtYXBDYWNoZUhhcyIsIm1hcENhY2hlU2V0Iiwic2l6ZSIsIk1hcENhY2hlIiwiRlVOQ19FUlJPUl9URVhUIiwibWVtb2l6ZSIsInJlc29sdmVyIiwibWVtb2l6ZWQiLCJjYWNoZSIsIk1BWF9NRU1PSVpFX1NJWkUiLCJtZW1vaXplQ2FwcGVkIiwicmVQcm9wTmFtZSIsInJlRXNjYXBlQ2hhciIsInN0cmluZ1RvUGF0aCIsInN0cmluZyIsIm1hdGNoIiwibnVtYmVyIiwicXVvdGUiLCJzdWJTdHJpbmciLCJ0b1N0cmluZyIsImNhc3RQYXRoIiwidG9LZXkiLCJiYXNlR2V0IiwicGF0aCIsImdldCIsImRlZmF1bHRWYWx1ZSIsImZyb21QYWlycyIsInBhaXJzIiwicGFpciIsImlzVW5kZWZpbmVkIiwiaXNOdW1iZXIiLCJpc0VsZW1lbnQiLCJpc1N0cmluZ051bWJlciIsImtleXNPZiIsImFyciIsImFkZFVuaXQiLCJkZWZhdWx0VW5pdCIsImNpcmNsZV9jbG9zZV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCIsIl9kZWZpbmVDb21wb25lbnQ1MCIsIl9fcHJvcHMiLCJfY3R4IiwiX2NhY2hlIiwiX29wZW5CbG9jazUwIiwiX2NyZWF0ZUVsZW1lbnRCbG9jazUwIiwiX2NyZWF0ZUVsZW1lbnRWTm9kZTUwIiwiY2lyY2xlX2Nsb3NlX2ZpbGxlZF9kZWZhdWx0IiwiY2xvc2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCIsIl9kZWZpbmVDb21wb25lbnQ1NiIsIl9vcGVuQmxvY2s1NiIsIl9jcmVhdGVFbGVtZW50QmxvY2s1NiIsIl9jcmVhdGVFbGVtZW50Vk5vZGU1NiIsImNsb3NlX2RlZmF1bHQiLCJpbmZvX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0IiwiX2RlZmluZUNvbXBvbmVudDE0MyIsIl9vcGVuQmxvY2sxNDMiLCJfY3JlYXRlRWxlbWVudEJsb2NrMTQzIiwiX2NyZWF0ZUVsZW1lbnRWTm9kZTE0MyIsImluZm9fZmlsbGVkX2RlZmF1bHQiLCJzdWNjZXNzX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0IiwiX2RlZmluZUNvbXBvbmVudDI0OSIsIl9vcGVuQmxvY2syNDkiLCJfY3JlYXRlRWxlbWVudEJsb2NrMjQ5IiwiX2NyZWF0ZUVsZW1lbnRWTm9kZTI0OSIsInN1Y2Nlc3NfZmlsbGVkX2RlZmF1bHQiLCJ3YXJuaW5nX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0IiwiX2RlZmluZUNvbXBvbmVudDI4NyIsIl9vcGVuQmxvY2syODciLCJfY3JlYXRlRWxlbWVudEJsb2NrMjg3IiwiX2NyZWF0ZUVsZW1lbnRWTm9kZTI4NyIsIndhcm5pbmdfZmlsbGVkX2RlZmF1bHQiLCJlcFByb3BLZXkiLCJkZWZpbmVQcm9wVHlwZSIsImlzRXBQcm9wIiwiYnVpbGRQcm9wIiwidmFsdWVzIiwicmVxdWlyZWQiLCJ2YWxpZGF0b3IiLCJlcFByb3AiLCJ2YWxpZCIsImFsbG93ZWRWYWx1ZXMiLCJoYXNPd24iLCJhbGxvd1ZhbHVlc1RleHQiLCJ3YXJuIiwiYnVpbGRQcm9wcyIsInByb3BzIiwib3B0aW9uIiwiaWNvblByb3BUeXBlIiwiVHlwZUNvbXBvbmVudHMiLCJDbG9zZSIsIlN1Y2Nlc3NGaWxsZWQiLCJJbmZvRmlsbGVkIiwiV2FybmluZ0ZpbGxlZCIsIkNpcmNsZUNsb3NlRmlsbGVkIiwiVHlwZUNvbXBvbmVudHNNYXAiLCJ3aXRoSW5zdGFsbCIsIm1haW4iLCJleHRyYSIsImFwcCIsImNvbXAiLCJ3aXRoSW5zdGFsbEZ1bmN0aW9uIiwibmFtZSIsIkVWRU5UX0NPREUiLCJjb21wb25lbnRTaXplcyIsIm11dGFibGUiLCJ1c2VEZXByZWNhdGVkIiwiZnJvbSIsInJlcGxhY2VtZW50Iiwic2NvcGUiLCJ2ZXJzaW9uIiwiY29uZGl0aW9uIiwiRW5nbGlzaCIsImJ1aWxkVHJhbnNsYXRvciIsImxvY2FsZSIsInRyYW5zbGF0ZSIsIl8iLCJidWlsZExvY2FsZUNvbnRleHQiLCJsYW5nIiwiY29tcHV0ZWQiLCJsb2NhbGVSZWYiLCJpc1JlZiIsImxvY2FsZUNvbnRleHRLZXkiLCJ1c2VMb2NhbGUiLCJsb2NhbGVPdmVycmlkZXMiLCJpbmplY3QiLCJkZWZhdWx0TmFtZXNwYWNlIiwic3RhdGVQcmVmaXgiLCJfYmVtIiwibmFtZXNwYWNlIiwiYmxvY2siLCJibG9ja1N1ZmZpeCIsImVsZW1lbnQiLCJtb2RpZmllciIsImNscyIsIm5hbWVzcGFjZUNvbnRleHRLZXkiLCJ1c2VHZXREZXJpdmVkTmFtZXNwYWNlIiwibmFtZXNwYWNlT3ZlcnJpZGVzIiwiZGVyaXZlZE5hbWVzcGFjZSIsInVzZU5hbWVzcGFjZSIsInN0YXRlIiwic3R5bGVzIiwidXNlUHJvcCIsInZtIiwiX2IiLCJpbml0aWFsIiwiekluZGV4IiwiZGVmYXVsdEluaXRpYWxaSW5kZXgiLCJaSU5ERVhfSU5KRUNUSU9OX0tFWSIsInpJbmRleENvbnRleHRLZXkiLCJ1c2VaSW5kZXgiLCJ6SW5kZXhPdmVycmlkZXMiLCJpbmNyZWFzaW5nSW5qZWN0aW9uIiwiekluZGV4SW5qZWN0aW9uIiwiaW5pdGlhbFpJbmRleCIsInpJbmRleEZyb21JbmplY3Rpb24iLCJjdXJyZW50WkluZGV4IiwibmV4dFpJbmRleCIsIlNJWkVfSU5KRUNUSU9OX0tFWSIsInVzZUdsb2JhbFNpemUiLCJpbmplY3RlZFNpemUiLCJlbXB0eVZhbHVlc0NvbnRleHRLZXkiLCJjb25maWdQcm92aWRlckNvbnRleHRLZXkiLCJnbG9iYWxDb25maWciLCJ1c2VHbG9iYWxDb25maWciLCJ1c2VHbG9iYWxDb21wb25lbnRTZXR0aW5ncyIsInNpemVGYWxsYmFjayIsImNvbmZpZyIsIm5zIiwicHJvdmlkZUdsb2JhbENvbmZpZyIsImdsb2JhbCIsImluU2V0dXAiLCJvbGRDb25maWciLCJwcm92aWRlRm4iLCJwcm92aWRlIiwiY29udGV4dCIsImNmZyIsIm1lcmdlQ29uZmlnIiwia2V5cyIsIm1lc3NhZ2VDb25maWciLCJfZXhwb3J0X3NmYyIsInNmYyIsImljb25Qcm9wcyIsIl9fZGVmYXVsdF9fIiwiZGVmaW5lQ29tcG9uZW50IiwiX3NmY19tYWluIiwic3R5bGUiLCJjb2xvciIsIm9wZW5CbG9jayIsImNyZWF0ZUVsZW1lbnRCbG9jayIsIm1lcmdlUHJvcHMiLCJyZW5kZXJTbG90IiwiSWNvbiIsIkVsSWNvbiIsImZvcm1Db250ZXh0S2V5IiwiZm9ybUl0ZW1Db250ZXh0S2V5IiwidXNlRm9ybVNpemUiLCJmYWxsYmFjayIsImlnbm9yZSIsImVtcHR5UmVmIiwiZm9ybSIsImZvcm1JdGVtIiwiYmFkZ2VQcm9wcyIsIl9ob2lzdGVkXzEiLCJleHBvc2UiLCJjb250ZW50IiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJub3JtYWxpemVDbGFzcyIsImNyZWF0ZVZOb2RlIiwiVHJhbnNpdGlvbiIsIndpdGhDdHgiLCJ3aXRoRGlyZWN0aXZlcyIsImNyZWF0ZUVsZW1lbnRWTm9kZSIsIm5vcm1hbGl6ZVN0eWxlIiwidG9EaXNwbGF5U3RyaW5nIiwidlNob3ciLCJCYWRnZSIsIkVsQmFkZ2UiLCJ0YWdQcm9wcyIsInRhZ0VtaXRzIiwiZXZ0IiwiZW1pdCIsInRhZ1NpemUiLCJjb250YWluZXJLbHMiLCJoaXQiLCJlZmZlY3QiLCJjbG9zYWJsZSIsInJvdW5kIiwiaGFuZGxlQ2xvc2UiLCJoYW5kbGVDbGljayIsImNyZWF0ZUJsb2NrIiwid2l0aE1vZGlmaWVycyIsImNyZWF0ZUNvbW1lbnRWTm9kZSIsIlRhZyIsIkVsVGFnIiwibWVzc2FnZVR5cGVzIiwibWVzc2FnZURlZmF1bHRzIiwibWVzc2FnZVByb3BzIiwibWVzc2FnZUVtaXRzIiwiaW5zdGFuY2VzIiwic2hhbGxvd1JlYWN0aXZlIiwiZ2V0SW5zdGFuY2UiLCJpZCIsImlkeCIsImluc3RhbmNlIiwiY3VycmVudCIsInByZXYiLCJnZXRMYXN0T2Zmc2V0IiwiZ2V0T2Zmc2V0T3JTcGFjZSIsIm9mZnNldCIsIl9ob2lzdGVkXzIiLCJtZXNzYWdlUmVmIiwidmlzaWJsZSIsImhlaWdodCIsInN0b3BUaW1lciIsImJhZGdlVHlwZSIsInR5cGVDbGFzcyIsImljb25Db21wb25lbnQiLCJsYXN0T2Zmc2V0IiwiYm90dG9tIiwiY3VzdG9tU3R5bGUiLCJzdGFydFRpbWVyIiwiY2xvc2UiLCJjbGVhclRpbWVyIiwia2V5ZG93biIsImNvZGUiLCIkZXZlbnQiLCJyZXNvbHZlRHluYW1pY0NvbXBvbmVudCIsIkZyYWdtZW50IiwiTWVzc2FnZUNvbnN0cnVjdG9yIiwic2VlZCIsIm5vcm1hbGl6ZU9wdGlvbnMiLCJwYXJhbXMiLCJpc1ZOb2RlIiwibm9ybWFsaXplZCIsImFwcGVuZFRvIiwiY2xvc2VNZXNzYWdlIiwiaGFuZGxlciIsImNyZWF0ZU1lc3NhZ2UiLCJ1c2VyT25DbG9zZSIsImNvbnRhaW5lciIsInJlbmRlciIsInZub2RlIiwibWVzc2FnZSIsImluc3RhbmNlMiIsImFwcENvbnRleHQiLCJjbG9zZUFsbCIsIkVsTWVzc2FnZSIsInVzZUFwcFN0b3JlIiwiZGVmaW5lU3RvcmUiLCJwYXlsb2FkIiwiU29ja2V0IiwidXJsIiwiYXBwU3RvcmUiLCJkZXBlbmRlbmNpZXMiLCJkZXZEZXBlbmRlbmNpZXMiLCJzb2NrZXQiLCJoYW5kbGVSZWNlaXZlRGF0YSIsImUiLCJmb3JtYXRWYWx1ZXMiXSwibWFwcGluZ3MiOiI0a0RBZ0NBLElBQUlBLEdB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QVUzVixFQUFNLENBQ3JDLEdBQUksQ0FBQyxLQUFLLE9BQ1IsTUFBTSxJQUFJLE1BQU0sNEJBQTRCLEVBRTlDLEtBQUssT0FBT0EsQ0FBSSxFQUFJLElBQ3RCLHNVQ1NBLE1BQU02VixFQUFXTCxLQUVYeFQsRUFBTzRJLEVBQVMsSUFBTWlMLEVBQVMsT0FBTyxFQUd0Q0MsRUFBZWxMLEVBQVMsSUFBTTVJLEVBQUssTUFBTSxjQUFnQixDQUFBLENBQUUsRUFFM0QrVCxFQUFrQm5MLEVBQVMsSUFBTTVJLEVBQUssTUFBTSxrQkFBb0IsQ0FBQSxDQUFFLEVBRWxFZ1UsRUFBUyxJQUFJTCxFQUVuQnpiLEdBQVUsSUFBTSxDQUVQOGIsRUFBQSxRQUM4QixRQUFRLE9BQU8sU0FBUyxJQUFJLEtBQUEsRUFFMURBLEVBQUEsR0FBRyxZQUFhQyxDQUFpQixFQUNqQ0QsRUFBQSxHQUFHLFNBQVUsSUFBTSxDQUN4QlQsR0FBVSxRQUFRLE9BQU8sRUFDekIsUUFBUSxJQUFJLE1BQU0sQ0FBQSxDQUNuQixFQUNNUyxFQUFBLEdBQUcsVUFBWUUsR0FBTSxDQUMxQlgsR0FBVSxRQUFRLGlCQUFpQixFQUNuQyxRQUFRLE1BQU1XLENBQUMsQ0FBQSxDQUNoQixDQUFBLENBQ0YsRUFLRCxTQUFTRCxFQUFrQmpVLEVBQU0sQ0FDL0JBLEVBQU8sS0FBSyxNQUFNQSxFQUFLLElBQUksRUFFM0IsUUFBUSxJQUFJQSxDQUFJLEVBQ2hCNlQsRUFBUyxhQUFhN1QsQ0FBSSxDQUM1QixDQUVBLFNBQVNtVSxFQUFhelksRUFBSyxDQUNsQixPQUFBLE9BQU8sT0FBT0EsQ0FBRyxDQUMxQiIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQyLDQzLDQ0LDQ1LDQ2LDQ3LDQ4LDQ5LDUwLDUxLDUyLDUzLDU0LDU1LDU2LDU3LDU4LDU5LDYwLDYxLDYyLDYzLDY0LDY1LDY2LDY3LDY4LDY5LDcwLDcxLDcyLDczLDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgxLDgyLDgzLDg0LDg1LDg2LDg3LDg4LDg5LDkwLDkxLDkyXX0=
